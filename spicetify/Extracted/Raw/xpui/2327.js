"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2327],{40675:(e,i,s)=>{s.d(i,{W:()=>U});var t=s(30758),r=s(31417),a=s(10994),n=s(35897),c=s(10285),l=s(59521),o=s(26869),d=s(199),u=s(65305),h=s(56349),m=s(1229),g=s(99165),p=s(96641),f=s(34139),x=s(21489),j=s(67865),w=s(88761),E=s(62209),O=s(69476),A=s(23189),y=s(58033),I=s(42162),v=s(47694);const R=()=>null;var _=s(48460),b=s(63453),N=s(3602),L=s(44672),P=s(20817),S=s(24533),T=s(11893),C=s(16743),B=s(78774),D=s(7307),M=s(86070);const G=t.memo((function({uri:e,isPublished:i,canPin:s=P.oT.NO,isPinned:b=!1}){const N=(0,T.J)(e,{decorateFormatListData:!0}),[G]=(0,S.A)(e),{spec:U}=(0,B.o)(e),k=!!N?.permissions?.isPrivate,F=(0,C.v)(e)??N?.isPublished??i,W=N?.hasSpotifyAudiobooks,z=(0,_.x)();return N?.permissions&&!N.permissions.canView&&G?N&&(0,M.jsx)(L.pZ,{value:"playlist",children:(0,M.jsx)(a.W,{children:(0,M.jsx)(h.ET,{uri:e})})}):N&&(0,M.jsx)(L.pZ,{value:"playlist",children:(0,M.jsxs)(a.W,{children:[!N.isOwnedBySelf&&N.isRootlistable&&(0,M.jsx)(h.ET,{uri:e}),!W&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.K,{spec:U,uris:[e]}),(0,M.jsx)(v._,{uri:e,spec:U})]}),z&&(0,M.jsx)(t.Suspense,{fallback:null,children:(0,M.jsx)(R,{playlistUri:e,playlistMetadata:N})}),G&&!k&&(0,M.jsx)(E._,{spec:U,divider:"both",uri:e,isPublished:F}),N.isOwnedBySelf&&(0,M.jsx)(u.T,{spec:U,uri:e,name:N.name,description:N.description,image:N.images[0]}),!N.isOwnedBySelf&&(0,M.jsx)(O.P,{spec:U,uri:e}),N.isOwnedBySelf&&(0,M.jsx)(o.u,{spec:U,uri:e}),!W&&(0,M.jsx)(d.d,{spec:U,uri:e}),N.permissions?.canAdministratePermissions&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(w.U,{spec:U,divider:"before",uri:e,isPrivate:k}),!W&&(0,M.jsx)(g.n,{uri:e,spec:U})]}),N.permissions?.canCancelMembership&&(0,M.jsx)(p._,{spec:U,divider:"before",uri:e}),(0,M.jsx)(m.w,{spec:U,uri:e}),(0,M.jsx)(A.y,{uriToBeAdded:e,isInLibrary:G,spec:U}),!W&&(0,M.jsx)(y.o,{spec:U,uris:[e],isPlaylist:!0,isEmpty:0===N.totalLength}),s!==P.oT.NO&&(0,M.jsx)(j.k,{uri:e,canPin:s,isPinned:b,type:D.c.PLAYLIST,spec:U}),(N.isOwnedBySelf||!k)&&(0,M.jsxs)(I.h,{divider:"before",children:[(0,M.jsx)(l.m,{sharingInfo:N.sharingInfo,spec:U,uri:e,displayText:r.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:k,playlistType:N.formatListData?.type}),!N.hasSpotifyAudiobooks&&(0,M.jsx)(f.x,{spec:U,uri:e,type:D.c.PLAYLIST})]}),!!N?.formatListData&&(0,M.jsx)(n.r,{divider:"before"}),(0,M.jsx)(x.q,{spec:U,divider:"before",uri:e})]})})})),U=e=>(0,N.c0)(e.uri)?(0,M.jsx)(b.g,{}):(0,M.jsx)(G,{...e})},79209:(e,i,s)=>{s.d(i,{a:()=>p});var t=s(97500),r=s.n(t),a=s(9931),n=s(422),c=s(31417);const l="main-editImage-buttonContainer",o="main-editImageButton-image",d="main-editImageButton-overlay",u="main-editImageButton-rounded",h="main-editImageButton-icon",m="main-editImageButton-copy";var g=s(86070);const p=function({overlay:e=!1,rounded:i=!1,onClick:s}){return(0,g.jsx)("div",{className:l,children:(0,g.jsx)("button",{"data-testid":"edit-image-button",className:r()(o,{[u]:i,[d]:e}),"aria-haspopup":"true",onClick:s,type:"button",children:(0,g.jsxs)("div",{className:r()(h,"icon"),children:[(0,g.jsx)(a.G,{size:"xlarge","aria-hidden":"true"}),(0,g.jsx)(n.E,{variant:"bodyMedium",className:m,children:c.Ru.get("choose_photo")})]})})})}},25493:(e,i,s)=>{s.d(i,{b:()=>g,u:()=>m});var t=s(30758),r=s(97500),a=s.n(r),n=s(97844),c=s(55760),l=s(86070);const o=({type:e,className:i})=>(0,l.jsx)("div",{className:a()(c.A.image,c.A.imagePlaceholder,i),children:(0,l.jsx)(n.s,{type:e})});var d=s(27012),u=s(68266),h=s(22984);let m=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e}({});const g=t.memo(t.forwardRef((function({name:e,images:i,placeholderType:s,renderImage:t,className:r,shape:n=m.SQUARE,loading:g="lazy",dragUri:p,onContextMenu:f},x){const[j,w,E]=(0,u.P)(i),{draggable:O,onDragStart:A}=(0,d.P)({itemUris:p?[p]:[],dragLabelText:e});return(0,l.jsx)("div",{ref:x,onContextMenu:f,className:a()(c.A.image,r),draggable:O&&!(!p||!e),onDragStart:A,children:t?(0,l.jsx)("div",{className:a()(c.A.image,c.A.shadow,{[c.A.roundedCorners]:n===m.ROUNDED_CORNERS,[c.A.circle]:n===m.CIRCLE}),children:t()}):(0,l.jsx)(h._,{loading:g,src:j,alt:e,className:a()(c.A.image,c.A.shadow,{[c.A.roundedCorners]:n===m.ROUNDED_CORNERS,[c.A.circle]:n===m.CIRCLE}),srcSet:w||void 0,sizes:E,children:(0,l.jsx)(o,{type:s,className:a()(c.A.image,c.A.shadow,{[c.A.roundedCorners]:n===m.ROUNDED_CORNERS,[c.A.circle]:n===m.CIRCLE})})})})})))},61800:(e,i,s)=>{s.d(i,{u:()=>l,i:()=>c});var t=s(30758);const r="main-imagePicker-fileInput";var a=s(86070);const n={accept:"image/.jpg, image/.jpeg, image/.png"};let c=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:i,isOpen:s=!1,minImageWidth:l=0,minImageHeight:o=0,maxImageWidth:d=1e4,maxImageHeight:u=1e4,maxFileSizeMB:h=1/0,...m}){const g=t.useRef(null),p={...n,...m};(0,t.useEffect)((()=>{g.current&&s&&g.current.click()}),[g,s]);const f=1048576*h;return(0,a.jsx)("input",{...p,type:"file","data-testid":"image-file-picker",ref:g,className:r,onChange:async function(s){const t=s.target,[r]=Array.from(t.files||[]),a=await async function(e){const i=await function(e){return new Promise(((i,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{i(t.result?.toString()??"")},t.onerror=e=>s(e)}))}(e),[s,t]=await function(e){return new Promise(((i,s)=>{const t=new Image;t.onload=()=>{const{width:e,height:s}=t;i([e,s])},t.src=e,t.onerror=e=>s(e)}))}(i);return{imageFile:e,imageDataUrl:i,imageWidth:s,imageHeight:t}}(r);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw c.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<o)throw c.IMAGE_TOO_SMALL;if(e.imageWidth>d||e.imageHeight>u)throw c.IMAGE_TOO_BIG;if(e.imageFile.size>f)throw c.FILE_TOO_BIG}(a),e(a)}catch(e){if("string"!=typeof e||!Object.values(c).includes(e))throw e;i(e)}}})}},86365:(e,i,s)=>{s.d(i,{z:()=>h});var t=s(97500),r=s.n(t),a=s(422),n=s(51560);const c="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",o="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var u=s(86070);const h=({message:e,isErrorMessage:i=!1})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:r()(c,{[l]:i}),children:(0,u.jsxs)(a.E,{as:"p",variant:"marginal",className:o,children:[(0,u.jsx)(n.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},97445:(e,i,s)=>{s.d(i,{p:()=>r});var t=s(30758);function r(){const[e,i]=(0,t.useState)(!1);return[e,(0,t.useCallback)((()=>{i(!0),setTimeout((()=>i(!1)),0)}),[i])]}},48460:(e,i,s)=>{s.d(i,{x:()=>t});const t=()=>!1},68266:(e,i,s)=>{s.d(i,{B:()=>t,P:()=>a});const t={SMALL:192,BIG:232},r={small:{width:64,height:64},standard:{width:300,height:300},large:{width:640,height:640},xlarge:{width:1280,height:1280}};function a(e){const i=function(e=[]){const i=e.map(n),s=i.filter((e=>e.width>=t.SMALL&&e.url)).sort(((e,i)=>e.width-i.width));return s.length?s:i}(e),[s]=i,r=s?.url||null;if(!r)return[];return[r,i.filter((({url:e,width:i})=>e&&i)).map((({url:e,width:i})=>`${e} ${i/2}w, ${e} ${i}w`)).join(", "),`(min-width: 1280px) ${t.BIG}px, ${t.SMALL}px`]}function n(e){if(!e.label)return e;const{width:i,height:s}=r[e.label];return{url:e.url,width:i,height:s}}},99248:(e,i,s)=>{s.d(i,{l:()=>a});var t=s(30758),r=s(20784);function a(e,i){const s=(0,r.f)(),a=(0,t.useRef)(i);(0,t.useLayoutEffect)((()=>{a.current=i})),(0,t.useEffect)((()=>s.getEvents().addListener(e,(e=>a.current(e)))),[e,s])}}}]);
//# sourceMappingURL=2327.js.map