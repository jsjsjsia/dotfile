"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1408,3838],{80809:(e,i,t)=>{t.d(i,{B:()=>v});var s=t(30758),n=t(5765),r=t(422),l=t(31417),a=t(75134),o=t(43743),c=t(38996),d=t(89994),u=t(81288),p=t(65462),h=t(40675),m=t(84816),x=t(21082),g=t(8268),f=t(3602),j=t(41661),y=t(86070);const b=(e,i)=>(t,s)=>{s&&e.logInteraction(i.cardLinkFactory({position:0}).hitUiNavigate({destination:s}))},v=({name:e,uri:i,images:t,description:v,authorName:k,authorUri:C,isHero:w=!1,onClick:I=(()=>{}),testId:S,index:A,requestId:N,color:T,isPlayable:P,variant:_,logCardImpressions:F=!1,leaveTitleVisible:L})=>{let D,R=(0,y.jsx)(h.W,{uri:i}),O=P,H=!1;const U=C||"",E=(0,s.useCallback)((()=>{I?.(U)}),[I,U]);(0,f.c0)(i)&&(O=!0,R=(0,y.jsx)(g.gb,{}),H=!0);const B=L||!("spotify:user:spotify"===C);return D=w?(0,y.jsx)(d.A,{index:A,onClick:I,headerText:e,featureIdentifier:"playlist",uri:i,isDownloadable:!0,playInsteadOfNavigating:H,renderCardImage:()=>(0,y.jsx)(o.M,{isHero:!0,images:t,color:T,FallbackComponent:e=>(0,y.jsx)(n.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,i)=>(0,y.jsxs)(c.c,{isHero:!0,children:[(0,y.jsx)(u.t,{children:l.Ru.get("card.tag.playlist")}),v?(0,y.jsx)(j.N,{source:v,LinkComponent:x.N,onLinkClick:b(e,i)}):k&&C&&(0,y.jsx)(p.h,{menu:(0,y.jsx)(m.B,{uri:U}),children:(0,y.jsx)(r.E,{variant:"bodySmall",children:(0,y.jsx)(x.N,{to:U,onClick:E,children:k})})})]}),testId:S,requestId:N,isPlayable:O,logCardImpressions:F}):(0,y.jsx)(a.Z,{variant:_,index:A,onClick:I,headerText:e,featureIdentifier:"playlist",uri:i,isDownloadable:!0,playInsteadOfNavigating:H,renderCardImage:()=>(0,y.jsx)(o.M,{images:t,color:T,FallbackComponent:e=>(0,y.jsx)(n.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,i)=>(0,y.jsx)(c.c,{children:v?(0,y.jsx)(j.N,{source:v,LinkComponent:x.N,onLinkClick:b(e,i)}):k&&(0,y.jsx)("span",{children:l.Ru.get("search.playlist-by",k)})}),testId:S,requestId:N,isPlayable:O,logCardImpressions:F,showTitle:B}),(0,y.jsx)(p.h,{menu:R,children:D})}},40675:(e,i,t)=>{t.d(i,{W:()=>E});var s=t(30758),n=t(31417),r=t(10994),l=t(35897),a=t(10285),o=t(59521),c=t(26869),d=t(199),u=t(65305),p=t(56349),h=t(1229),m=t(99165),x=t(96641),g=t(34139),f=t(21489),j=t(67865),y=t(88761),b=t(62209),v=t(69476),k=t(23189),C=t(58033),w=t(42162),I=t(47694);const S=()=>null;var A=t(48460),N=t(63453),T=t(3602),P=t(44672),_=t(20817),F=t(24533),L=t(11893),D=t(16743),R=t(78774),O=t(7307),H=t(86070);const U=s.memo((function({uri:e,isPublished:i,canPin:t=_.oT.NO,isPinned:N=!1}){const T=(0,L.J)(e,{decorateFormatListData:!0}),[U]=(0,F.A)(e),{spec:E}=(0,R.o)(e),B=!!T?.permissions?.isPrivate,M=(0,D.v)(e)??T?.isPublished??i,z=T?.hasSpotifyAudiobooks,V=(0,A.x)();return T?.permissions&&!T.permissions.canView&&U?T&&(0,H.jsx)(P.pZ,{value:"playlist",children:(0,H.jsx)(r.W,{children:(0,H.jsx)(p.ET,{uri:e})})}):T&&(0,H.jsx)(P.pZ,{value:"playlist",children:(0,H.jsxs)(r.W,{children:[!T.isOwnedBySelf&&T.isRootlistable&&(0,H.jsx)(p.ET,{uri:e}),!z&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(a.K,{spec:E,uris:[e]}),(0,H.jsx)(I._,{uri:e,spec:E})]}),V&&(0,H.jsx)(s.Suspense,{fallback:null,children:(0,H.jsx)(S,{playlistUri:e,playlistMetadata:T})}),U&&!B&&(0,H.jsx)(b._,{spec:E,divider:"both",uri:e,isPublished:M}),T.isOwnedBySelf&&(0,H.jsx)(u.T,{spec:E,uri:e,name:T.name,description:T.description,image:T.images[0]}),!T.isOwnedBySelf&&(0,H.jsx)(v.P,{spec:E,uri:e}),T.isOwnedBySelf&&(0,H.jsx)(c.u,{spec:E,uri:e}),!z&&(0,H.jsx)(d.d,{spec:E,uri:e}),T.permissions?.canAdministratePermissions&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(y.U,{spec:E,divider:"before",uri:e,isPrivate:B}),!z&&(0,H.jsx)(m.n,{uri:e,spec:E})]}),T.permissions?.canCancelMembership&&(0,H.jsx)(x._,{spec:E,divider:"before",uri:e}),(0,H.jsx)(h.w,{spec:E,uri:e}),(0,H.jsx)(k.y,{uriToBeAdded:e,isInLibrary:U,spec:E}),!z&&(0,H.jsx)(C.o,{spec:E,uris:[e],isPlaylist:!0,isEmpty:0===T.totalLength}),t!==_.oT.NO&&(0,H.jsx)(j.k,{uri:e,canPin:t,isPinned:N,type:O.c.PLAYLIST,spec:E}),(T.isOwnedBySelf||!B)&&(0,H.jsxs)(w.h,{divider:"before",children:[(0,H.jsx)(o.m,{sharingInfo:T.sharingInfo,spec:E,uri:e,displayText:n.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:B,playlistType:T.formatListData?.type}),!T.hasSpotifyAudiobooks&&(0,H.jsx)(g.x,{spec:E,uri:e,type:O.c.PLAYLIST})]}),!!T?.formatListData&&(0,H.jsx)(l.r,{divider:"before"}),(0,H.jsx)(f.q,{spec:E,divider:"before",uri:e})]})})})),E=e=>(0,T.c0)(e.uri)?(0,H.jsx)(N.g,{}):(0,H.jsx)(U,{...e})},33712:(e,i,t)=>{t.d(i,{p:()=>d});var s=t(92255),n=t(50635),r=t(44875),l=t(98811),a=t(83327),o=t(50671),c=t(86070);const d=({index:e,logShelfImpressions:i=!1,...t})=>{const{id:d,seeAllUri:u,title:p}=t,{onClickShelfTitle:h,onClickShelfSeeAll:m,spec:x}=(0,n.w)({seeAllUri:u,index:e,id:d}),g=(0,o.t)(x),f=(0,r.a)(u,p),j=(0,l.O)(u,p);return(0,c.jsx)(a.r,{spec:x,children:(0,c.jsx)(s.$,{...t,elementRef:i?g:void 0,onClickShelfTitle:()=>{h(),f({category:r.w.TitleClicks}),j({category:l.U.TitleClicks})},onClickShelfSeeAll:()=>{m(),f({category:r.w.ShowAll}),j({category:l.U.ShowAll})}})})}},50635:(e,i,t)=>{t.d(i,{w:()=>l});var s=t(30758),n=t(4414),r=t(21549);const l=({seeAllUri:e,index:i,id:t})=>{const{spec:l,logger:a}=(0,r.r)(n.f,{data:{identifier:t,position:i,uri:e??""}}),o=(0,s.useCallback)((()=>{const e=l.swipeUiReveal();a.logInteraction(e)}),[a,l]),c=(0,s.useCallback)((e=>{const i=l.shelfHeaderFactory().shelfCarouselControlsFactory(),t="next"===e?i.shelfCarouselControlsNextFactory():i.shelfCarouselControlsPreviousFactory();a.logInteraction(t.hitUiReveal())}),[a,l]);return{onClickShelfTitle:(0,s.useCallback)((()=>{const i=l.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});a.logInteraction(i)}),[a,e,l]),onClickShelfSeeAll:(0,s.useCallback)((()=>{const i=l.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});a.logInteraction(i)}),[a,e,l]),onSwipe:o,onClickCarouselControls:c,spec:l}}},55802:(e,i,t)=>{t.r(i),t.d(i,{REDIRECT_BASE:()=>X,default:()=>ee});var s=t(30758),n=t(97500),r=t.n(n),l=t(90183),a=t(31417),o=t(62538),c=t(15292),d=t(92202),u=t(85505),p=t(25577),h=t(88711),m=t(46110),x=t(1246),g=t(62986),f=t(84291),j=t(86070);const y=({image:e,color:i=u.vyq,title:t})=>{const s=void 0===e?p.K.SMALL:p.K.DEFAULT,n=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(p.z,{backgroundImages:n,backgroundColor:i,size:s,children:[(0,j.jsx)(m.h,{children:t?(0,j.jsx)(x.X,{text:t}):null}),(0,j.jsx)(h.Y,{children:t?(0,j.jsx)(g.mm,{children:t}):null})]}),(0,j.jsx)(f.f,{color:i})]})};var b=t(91008),v=t(33712),k=t(86573),C=t(80809);const w=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,i,t)=>{if(void 0===e.id)return null;const s=i.map(((e,i)=>function(e,i){const t=e.component?.id,s=e.id;if(void 0===t||void 0===s)return null;const n=e.events?.click?.data?.uri,r=e.images?.main?.uri,l=r?[{url:r}]:[];switch(t){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===n?null:(0,j.jsx)(k.U,{uri:n,name:e.text?.title??"",images:l,showImages:l,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(a=e.custom?.duration,"number"==typeof a?a:0),releaseDate:w(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:i},s);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===n?null:(0,j.jsx)(C.B,{uri:n,name:e.text?.title??"",images:l,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:i},s);default:return null}var a}(e,i))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const n=(0,b.o_h)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,j.jsx)(v.p,{title:e.text?.title??"",total:s.length,seeAllUri:n,index:t,id:e.id,seeAllLabel:e.text?.accessory,children:s},e.id)};var S=t(34901),A=t(422),N=t(40935),T=t(77567),P=t(21082);const _=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],F=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],L=e=>`images/download-badges/google/${F.includes(e)?e:"int"}.svg`;var D=t(33329),R=t(50671);const O="MT6jAR25XYfoarcSqHDd",H="IYZA3J2VTMydirxq_bdg",U="t6RJK1eND2uPmFYOi32l";var E=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(E||{});const B=({spec:e,model:i})=>{const t=a.Ru.getLocaleForTranslation(),s=(0,D.s)(),n=(0,R.t)(e),l=i.text?.title,o=i.text?.subtitle;if(void 0===l&&void 0===o)return null;const c=i=>{if(i===E.ANDROID){const t=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:i});s.logInteraction(t)}else{const t=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:i});s.logInteraction(t)}};return(0,j.jsxs)(S.a,{variant:"tinted",style:{width:600},ref:n,"data-testid":"unsupported-message",children:[(0,j.jsx)(A.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.v4},children:l}),(0,j.jsx)(A.E,{as:"p",variant:"bodySmall",style:{marginBottom:N.CD},children:o}),(0,j.jsxs)("div",{className:r()(U),children:[(0,j.jsx)(P.N,{to:E.IOS,target:"_blank",onClick:()=>c(E.IOS),children:(0,j.jsx)("img",{src:(0,T.b)((d=t,`images/download-badges/apple/${_.includes(d)?d:"int"}.svg`)),alt:a.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:O})}),(0,j.jsx)(P.N,{to:E.ANDROID,target:"_blank",onClick:()=>c(E.ANDROID),children:(0,j.jsx)("img",{src:(0,T.b)(L(t)),alt:a.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:r()(O,H)})})]})]});var d},M=(e,i)=>{const t=(e=>{const i=Array();let t,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(t&&0!==s.length&&i.push({heading:t,components:s}),t=e,s=Array()):t&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),t&&0!==s.length&&i.push({heading:t,components:s}),i})(e),s=(e=>e.find((e=>"culturalmoments:unavailableBanner"===e.component?.id)))(e);return(0,j.jsxs)(j.Fragment,{children:[s?(0,j.jsx)(B,{spec:i,model:s},s.component?.id):null,t.map(((e,i)=>I(e.heading,e.components,i)))]})};var z=t(6444),V=t(72671);const W=(e,i)=>{const t=new Intl.DateTimeFormat;return e.build().withHost(V.LG).withPath("/hub").withQueryParameters({id:i,userHasRiF:!1,clientTimezone:t.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var Z=t(98655),q=t(21549);const Y="B9Q1L66F7wl4eUMgp4Lg",K="gtqpWbwIV4PTEp8Q0ZW4",Q="edYsLe1QCBdzPglEiROZ",$=({uri:e,id:i})=>{const{data:t,error:n,loading:u}=(0,Z.Z)(W,[i]),{spec:p,UBIFragment:h}=(0,q.r)(l.j,{data:{identifier:e,uri:e}}),m=(0,s.useMemo)((()=>p.shelvesFactory()),[p]),x=(0,s.useMemo)((()=>p.mobilePromptFactory()),[p]),g=t?.body.hubViewData?.body,f=t?.body.hubViewData?.header;if(null===t||void 0===g||void 0===f||u||null!==n)return(0,j.jsx)(d.LoadingPage,{hasError:null!==n,errorMessage:a.Ru.get("error.generic")});const b=t.body.hubViewData?.title,v=f?.text?.title;return(0,j.jsxs)(h,{spec:p,children:[(0,j.jsx)(c.Q,{children:b??""}),v?(0,j.jsx)("div",{className:Y,children:(0,j.jsx)(y,{title:f?.text?.title,image:f.images?.background})}):null,(0,j.jsx)(h,{spec:m,children:(0,j.jsxs)("div",{className:Q,children:[v&&(0,j.jsx)(o.K,{}),(0,j.jsx)("div",{className:r()("contentSpacing",K),children:(0,j.jsx)(z._,{children:g?M(g,x):null})})]})})]})};var J=t(67668);const X="https://accounts.spotify.com/login",G=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},ee=e=>(0,J.V)()?(0,j.jsx)(G,{}):(0,j.jsx)($,{...e})},6444:(e,i,t)=>{t.d(i,{_:()=>d});var s=t(30758),n=t(21743),r=t(97500),l=t.n(r);const a="eqw9lvuoZHrkWMTdyTpY",o="lb08f71wES9AQnKx6e0R";var c=t(86070);const d=(0,s.memo)((function(e){const{triggerOnInitialLoad:i=!1,onReachBottom:t,showScrollbar:r=!0,horizontalScroll:d=!1,className:u}=e,{ref:p,inView:h}=(0,n.Wx)({initialInView:i});return(0,s.useLayoutEffect)((()=>{h&&t&&t()}),[h,t]),(0,c.jsxs)("div",{className:l()({[o]:!r,[a]:d},u),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:p})]})}))},48460:(e,i,t)=>{t.d(i,{x:()=>s});const s=()=>!1},84291:(e,i,t)=>{t.d(i,{f:()=>a,z:()=>l});var s=t(30758),n=t(85505),r=t(47095);function l(e,i=n.l0o){const t=(0,r.as)();return(0,s.useEffect)((()=>(e&&t((0,r.Mo)(e)),()=>{t((0,r.Hf)())})),[e,t]),e||i}const a=({color:e,fallbackColor:i})=>(l(e,i),null)}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map