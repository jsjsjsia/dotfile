"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{10831:(e,a,r)=>{r.d(a,{a:()=>m});var s=r(90694),i=r(31417),t=r(75134),n=r(43743),l=r(38996),o=r(89994),d=r(81288),c=r(65462),u=r(7520),x=r(86070);const m=e=>{const{name:a,uri:r,images:m,isHero:g,onClick:f,testId:h,index:p,requestId:j,color:b,variant:y,logCardImpressions:I=!1}=e;let C;return C=g?(0,x.jsx)(o.A,{index:p,onClick:f,headerText:a,featureIdentifier:"artist",uri:r,renderCardImage:()=>(0,x.jsx)(n.M,{isHero:g,isCircular:!0,images:m,color:b,FallbackComponent:e=>(0,x.jsx)(s.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,x.jsx)(l.c,{isHero:!0,children:(0,x.jsx)(d.t,{children:i.Ru.get("card.tag.artist")})}),testId:h,requestId:j,logCardImpressions:I}):(0,x.jsx)(t.Z,{variant:y,index:p,onClick:f,headerText:a,featureIdentifier:"artist",uri:r,renderCardImage:()=>(0,x.jsx)(n.M,{isHero:g,isCircular:!0,images:m,color:b,FallbackComponent:e=>(0,x.jsx)(s.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,x.jsx)(l.c,{children:(0,x.jsx)("span",{children:i.Ru.get("card.tag.artist")})}),testId:h,requestId:j,logCardImpressions:I}),(0,x.jsx)(c.h,{menu:(0,x.jsx)(u.t,{uri:r}),children:C})}},89519:(e,a,r)=>{r.d(a,{M:()=>R});var s=r(30758),i=r(97500),t=r.n(i),n=r(62411),l=r(422),o=r(17978),d=r(83773),c=r(14343),u=r(31417),x=r(98293),m=r(75134),g=r(43743),f=r(38996),h=r(89994),p=r(81288),j=r(65462),b=r(47863),y=r(76123),I=r(79570),C=r(38501),k=r(79225);const v="udGpsOceE80fzjUaGxkU",S="wMX24UZ671wvuRJkkUOC";var P=r(86070);const w=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,P.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,P.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,k.ad)(a.toISOString()),(0,k.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,A=({signifierText:e})=>e?(0,P.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,R=({name:e,uri:a,images:r,authorName:i,isHero:k,onClick:R,testId:O,index:T,requestId:E,isLocked:H=!1,isPlayable:N=!1,color:L,signifierText:M,isPreRelease:D=!1,publishDate:U,variant:z,consumptionCapExplanation:q,logCardImpressions:Z=!1})=>{const{playUri:B,playOptions:F}=(0,I.J)(a),_=(0,n.wA)(),K=(0,c.NC)(C.HJU),W=!!q,J=(0,s.useCallback)((()=>{W&&_((0,x._3)(q))}),[q,_,W]);let Q;return Q=k?(0,P.jsx)(h.A,{index:T,onClick:R,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:F,onPlay:W?J:void 0,delegatePlayback:W,isPlayable:(N||W)&&K,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(g.M,{isHero:!0,images:r,color:L,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.t,{children:u.Ru.get("card.tag.audiobook")}),(0,P.jsx)(l.E,{variant:"bodySmall",children:i})]}),getSignifierContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w,{isPreRelease:D,publishDate:U}),(0,P.jsx)(A,{signifierText:M})]}),testId:O,requestId:E,logCardImpressions:Z}):(0,P.jsx)(m.Z,{variant:z,index:T,onClick:R,headerText:e,featureIdentifier:"audiobook",uri:a,playUri:B,onPlay:W?J:void 0,delegatePlayback:W,playOptions:F,isPlayable:(N||W)&&K,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(g.M,{images:r,color:L,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(f.c,{lineClamp:M?1:2,children:[H&&(0,P.jsx)(d.y,{size:"small",className:v}),(0,P.jsx)(w,{isPreRelease:D,publishDate:U}),(0,P.jsx)(l.E,{as:"span",variant:"bodySmall",className:t()({[S]:D&&i}),children:i})]}),(0,P.jsx)(A,{signifierText:M})]}),testId:O,requestId:E,logCardImpressions:Z}),(0,P.jsx)(j.h,{menu:(0,P.jsx)(b.p,{uri:a}),children:Q})}},30343:(e,a,r)=>{r.d(a,{o:()=>m});var s=r(31417),i=r(75134),t=r(43743),n=r(38996),l=r(89994),o=r(81288),d=r(65462),c=r(70275),u=r(59029),x=r(86070);const m=({images:e,name:a,uri:r,publisher:m,sharingInfo:g,mediaType:f,isHero:h=!1,onClick:p,testId:j,index:b,requestId:y,color:I,variant:C,logCardImpressions:k=!1})=>{let v;const S=f===u.Q.MIXED?s.Ru.get("type.show"):s.Ru.get("card.tag.show");return v=h?(0,x.jsx)(l.A,{index:b,onClick:p,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:r,isPlayable:!1,renderCardImage:()=>(0,x.jsx)(t.M,{isHero:!0,images:e,color:I}),renderSubHeaderContent:()=>(0,x.jsxs)(n.c,{isHero:!0,children:[(0,x.jsx)(o.t,{children:S}),m&&(0,x.jsx)("span",{children:m})]}),testId:j,requestId:y,logCardImpressions:k}):(0,x.jsx)(i.Z,{variant:C,onClick:p,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:r,index:b,renderCardImage:()=>(0,x.jsx)(t.M,{isHero:h,images:e,color:I}),renderSubHeaderContent:()=>(0,x.jsx)(n.c,{children:m&&(0,x.jsx)("span",{children:m})}),testId:j,requestId:y,logCardImpressions:k}),(0,x.jsx)(d.h,{menu:(0,x.jsx)(c.H,{uri:r,sharingInfo:g}),children:v})}},12010:(e,a,r)=>{r.d(a,{e:()=>n});var s=r(72925);const i="k270skPbT7JOaSidSA2a";var t=r(86070);const n=({iconSize:e=64,...a})=>(0,t.jsx)("div",{className:i,children:(0,t.jsx)(s.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},38154:(e,a,r)=>{r.d(a,{OfflineEmptyState:()=>d});var s=r(46607),i=r(59042),t=r(422),n=r(31417),l=r(52554),o=r(86070);const d=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(s.i,{size:"xxlarge",className:l.A.icon}):(0,o.jsx)(i.P,{size:"xxlarge",className:l.A.icon}),(0,o.jsx)(t.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:n.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(t.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?n.Ru.get("web-player.offline.empty-state.subtitle"):n.Ru.get("offline.callout-disconnected")})]})},61103:(e,a,r)=>{r.r(a),r.d(a,{default:()=>M});var s=r(97500),i=r.n(s),t=r(31417),n=r(90139),l=r(10831),o=r(89519),d=r(80809),c=r(30343),u=r(7307),x=r(59029),m=r(86070);function g(e,a){switch(e.type){case u.c.ALBUM:return(0,m.jsx)(n.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case u.c.ARTIST:return(0,m.jsx)(l.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case u.c.SHOW:return(0,m.jsx)(c.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:x.Q.UNKNOWN,index:a},e.uri);case u.c.AUDIOBOOK:return(0,m.jsx)(o.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,index:a},e.uri);case u.c.PLAYLIST:return(0,m.jsx)(d.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}var f=r(92255),h=r(30758),p=r(40638),j=r(75134),b=r(43743),y=r(38996),I=r(12010),C=r(60393),k=r(94139),v=r(39838),S=r(11808),P=r(58493),w=r(68507),A=r(28340),R=r(2679);const O=function({uri:e,name:a,images:r,index:s}){const i=(0,w.o)(),n=(0,h.useRef)(null),l=(0,h.useRef)(!0),o=(0,P.A)(),{isPlaying:d}=(0,R.l_)(v.bV),{togglePlay:c}=(0,A.P)({uri:v.bV,pages:[{items:n.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,h.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const u=(0,S.P)(),x=(0,p.YQ)((async(e,a)=>{if(!n.current){const e=await o.getTracks();n.current=e}l&&c({loggingParams:a},{uri:v.bV,pages:[{items:n.current?.map((e=>({...e,provider:null})))||[]}]})}),k.d,{leading:!0,trailing:!1});return i.canFetchAllTracks&&u?(0,m.jsx)(j.Z,{index:s,delegatePlayback:!0,delegateLogging:!0,isPlaying:d,onPlay:x,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,m.jsx)(b.M,{images:r,FallbackComponent:I.e}),renderSubHeaderContent:()=>(0,m.jsx)(y.c,{children:t.Ru.get("local-files.description")})}):null},T=({index:e})=>{const a=(0,C.Iu)();return(0,m.jsx)(h.Suspense,{fallback:null,children:(0,m.jsx)(O,{index:e,name:a.name,uri:a.uri,images:a.images})})};var E=r(38154),H=r(44672),N=r(15420);var L=r(52554);const M=function(){const{hasError:e,items:a}=function(){const e=(0,N.B)(),[a,r]=(0,h.useState)(!0),[s,i]=(0,h.useState)(!1),[t,n]=(0,h.useState)([]);return(0,h.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();n(a)}catch(e){i(!0)}finally{r(!1)}})()}),[e]),{isLoading:a,hasError:s,items:t}}(),r=(0,S.P)();return e?null:(0,m.jsx)("div",{className:i()(L.A.offline,"contentSpacing"),children:a.length>0||r?(0,m.jsxs)(H.pZ,{value:"headered-grid",children:[(0,m.jsx)(f.$,{title:t.Ru.get("music_downloads"),total:a.length,seeAllUri:"/collection/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,m.jsx)(H.pZ,{value:"card",index:a,children:g(e,a)},e.uri)))}),r&&(0,m.jsx)(f.$,{title:t.Ru.get("local-files"),total:1,showAll:!0,children:(0,m.jsx)(T,{index:0})})]}):(0,m.jsx)(E.OfflineEmptyState,{showDownloadInformation:!0})})}},33065:(e,a,r)=>{r.d(a,{s:()=>s});const s=e=>"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri},94139:(e,a,r)=>{r.d(a,{d:()=>s});const s=300},11808:(e,a,r)=>{r.d(a,{P:()=>i});var s=r(39587);function i(){return(0,s.y)()[0]}},39587:(e,a,r)=>{r.d(a,{y:()=>t});var s=r(30758),i=r(58493);function t(){const e=(0,i.A)(),[a,r]=(0,s.useState)(e.getIsEnabled());(0,s.useEffect)((()=>{const a=e.subscribeIsEnabled(r);return()=>a()}),[e]);return[a,(0,s.useCallback)((a=>e.setIsEnabled(a)),[e])]}},52554:(e,a,r)=>{r.d(a,{A:()=>s});const s={offline:"tpweADmlLll_vhLLKgu2",emptyStateContainer:"e9Wimf8ZtOrZpvPbfWtg",icon:"zCM7ss2KtS5tWRItxyls",info:"lG5QlwmK6exKdfikWw2A"}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map