"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{6328:(e,t,a)=>{a.d(t,{y:()=>g});var r=a(30758),n=a(97500),s=a.n(n),i=a(10502),o=a(57478),l=a(76346);const c="zUf7jtv9GPOKC1jYO5TO",u="T8QLel3PoQTgJUpGYj7Q";var d=a(86070);const m=(0,r.memo)((({isLoading:e})=>{const t=(0,o.h)("shimmer");return(0,d.jsx)("div",{className:l.A.imageContainer,children:(0,d.jsx)("div",{ref:t,className:s()(l.A.imageWrapper,{[u]:e})})})})),p=(0,r.memo)((({isLoading:e})=>(0,d.jsx)("div",{className:s()(l.A.shortcut,c),"data-testid":"skeleton-shortcut",children:(0,d.jsxs)("div",{className:l.A.draggable,children:[(0,d.jsx)(m,{isLoading:e}),(0,d.jsx)("div",{className:s()(l.A.main,l.A.skeletonShortcut),children:(0,d.jsx)(i.Y,{as:"p",variant:"bodyMediumBold",className:l.A.name,isLoading:e})})]})}))),g=(0,r.memo)((({withTitle:e})=>(0,d.jsxs)("section",{className:l.A.shortcuts,children:[e&&(0,d.jsx)("div",{className:l.A.title,children:(0,d.jsx)(i.Y,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})}),(0,d.jsx)("div",{className:s()(l.A.grid,{[l.A.gridOf4Columns]:true}),children:[...new Array(8).keys()].slice(0,8).map(((e,t)=>(0,d.jsx)(p,{isLoading:!0},t)))})]})))},8677:(e,t,a)=>{a.r(t),a.d(t,{SKELETON_CARDS_COUNT:()=>V,SKELETON_SHELVES_COUNT:()=>W,default:()=>G,getRequestIdForImpressions:()=>z});var r=a(30758),n=a(66108),s=a(97500),i=a.n(s),o=a(14343),l=a(67721),c=a(31417),u=a(15292),d=a(6328),m=a(92202),p=a(15273),g=a(74992),h=a(29195),f=a(67668),y=a(55926),v=a(32963),x=a(38501),C=a(95175);var b=a(62411),P=a(422),j=a(72184),I=a(93523),L=a(94303),w=a(91128),S=a(33329),T=a(21549);const E="iC5KPBY1LYMrQkGPnG8m";var A=a(86070);const k=()=>{const e=(0,b.wA)(),t=(0,S.s)(),{spec:a}=(0,T.r)(L.V,{}),n=(0,r.useCallback)((()=>{e(w.r8.actions.open()),t.logInteraction(a.learnMoreButtonFactory().hitUiReveal())}),[e,t,a]);return(0,A.jsxs)(P.E,{as:"p",semanticColor:"textBase",className:E,children:[(0,A.jsx)(j.p,{size:"small"}),c.Ru.get("home.dsa-message",(0,A.jsx)(I.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:n,children:c.Ru.get("home.dsa-message-link")}))]})};var N=a(76018),R=a(60836),_=a(72700),M=a(37410),U=a(6102),D=a(57666),O=a(35163),F=a(56970),B=a(83327),H=a(5062);const W=6,V=6,z=e=>{const t="object"==typeof e?.responseIds?e?.responseIds:void 0;return t?.["/home"]?.continuum},$=(0,r.memo)((({shelfCount:e,cardCount:t})=>(0,A.jsxs)("div",{className:i()(H.A.homepageContent,"contentSpacing"),children:[(0,A.jsx)(d.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,a)=>(0,A.jsx)(R.f,{withTitle:!0,cardCount:t},a)))]}))),G=(0,n.mc)((()=>{(0,D.m)("home");const e=(0,o.NC)(x.MX4),t=(0,M.W)({type:"locale",uri:"home"}),a=(0,o.NC)(x.q4i),{data:n,error:s,loading:d,extensions:b}=(0,_.f)(),P=!(0,U.p)(),{spec:j}=(0,T.r)(l.Y,{data:{identifier:"home",uri:"spotify:home",reason:z(b)??""}});(()=>{const e=(0,o.NC)(x.ojr),t=(0,h.vh)(),a=(0,y.c)(),n=(0,f.V)();(0,r.useEffect)((()=>{const r={category:"unauth_home_exposures",action:"unauth_home_page_visit",variant:e,label:"dwp",os:(0,v.f)(),sp_t:(0,C.v8)("sp_t")};a&&n&&t.send((0,g.r)(r))}),[e,a,t,n])})();const I=(0,r.useRef)(null);if((0,p.b)(I),d)return(0,A.jsx)("section",{className:i()(H.A.home,e?H.A.homepageWithCarousels:H.A.homepage),"data-testid":"home-page",children:(0,A.jsx)($,{shelfCount:W,cardCount:V})});if(null!==s)return(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")});const L=n?.home;return"HomeResponsePayload"!==L?.__typename?(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")}):0===L.sectionContainer.sections.totalCount||0===L.sectionContainer.sections.items.length?((0,O.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,A.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")})):(0,A.jsxs)(B.r,{spec:j,children:[(0,A.jsx)(u.Q,{children:(0,F.pr)({i18n:c.Ru,shouldLocalize:t})}),(0,A.jsx)("section",{className:i()(H.A.home,e?H.A.homepageWithCarousels:H.A.homepage),"data-testid":"home-page",children:(0,A.jsxs)("div",{className:i()(H.A.homepageContent,"contentSpacing"),ref:I,children:[P&&(0,A.jsx)(k,{}),(0,A.jsx)(N.g,{spec:j,greeting:L.greeting?.transformedLabel??null,container:L.sectionContainer,enableFeedBaseline:a})]})})]})}),{name:"Home"})},68461:(e,t,a)=>{a.d(t,{Q:()=>mt});var r=a(30758),n=a(14343),s=a(96216),i=a(90124),o=a(66108),l=a(97500),c=a.n(l),u=a(33945),d=a(91008),m=a(31417),p=a(73043),g=a(31026),h=a(85387),f=a(18716),y=a(6611),v=(a(76493),a(38157)),x=a(75830),C=a(10994),b=a(12864),P=a(95264),j=a(81162),I=a(90694),L=a(5765),w=a(97106),S=a(25910),T=a(80752),E=a(16157);const A=e=>{switch(e){case E.r7.Album:return j.I;case E.r7.Artist:return I.r;case E.r7.Playlist:return L.e;case E.r7.Track:return w.v;case E.r7.Video:return S.B;default:return T.d}},k=e=>{const t=(0,d.o_h)(e);if(t)return{href:t.toURLPath(),isExternalTarget:!1};return URL.canParse(e)&&new URL(e).host.includes("open.spotify.com")?{href:e,isExternalTarget:!0}:{href:e,isExternalTarget:!1}};var N=a(72671),R=a(98822),_=a(62021),M=a(86070);const U=(0,r.createContext)({onSetDisliked:()=>{},isDislikedInLocalStorage:!1}),D=({children:e,promotionUri:t})=>{const[a,n]=(0,_.x)(`home-promotion-disliked:${t}`,!1),s=(0,r.useMemo)((()=>({onSetDisliked:()=>n(!0),isDislikedInLocalStorage:a})),[a,n]);return a?null:(0,M.jsx)(U.Provider,{value:s,children:e})};var O=a(20829),F=a(6837),B=a(46186),H=a(24533),W=a(28340),V=a(33329);const z="vM8M5NM7DIyeDgnEvDwt",$="nMEsN3cKwfOWwnhr6ORE",G="vvyeNsGyrEOq4WPTy_7i",Y=()=>{},K=e=>"PromotionResponseWrapper"===e.content?.__typename&&"PromotionDefaultNative"===e.content.data.__typename,Q=({promotionSectionItem:e,spec:t})=>{const a=(0,V.s)(),n=(0,h.Zp)(),s=e.content.data,i=t.promotionItemFactory({identifier:"default_native",uri:s.target}),{copyUri:o,iconActions:l,libraryUri:c,playUri:u,notInterestedUri:d}=(0,r.useMemo)((()=>(e=>{let t,a,r,n;const s=[];return e.forEach((e=>{e.type!==E.j3.Navigate&&e.target&&e.type&&(e.type===E.j3.Play&&(t=e.target),e.type===E.j3.AddToLibrary&&(a=e.target),e.type===E.j3.Share&&(r=e.target),e.type===E.j3.NotInterested&&(n=e.target),s.push({target:e.target,type:e.type}))})),{iconActions:s,notInterestedUri:n,copyUri:r,libraryUri:a,playUri:t}})(s.actions)),[s.actions]),[p,g]=(0,H.A)(c??""),{setState:j,Icon:I}=(0,B.Q)(p?P.t.CURATED:P.t.UNCURATED,P.A),{isPlaying:L,togglePlay:w,isActive:S}=(0,W.P)({uri:u??""},{featureIdentifier:"home_promotion"}),T=u?()=>{const e=(0,O.$I)({isPlaying:L,isActive:S,spec:i.playButtonFactory({uri:u}),logger:a,uri:u});w({loggingParams:e})}:Y,{onCopyLink:_}=(0,F.L)({sharingInfo:null,uri:o??"",interactionData:{intent:"share",type:"click"}}),{href:D,isExternalTarget:z}=k(s.target),{onNotInterested:K}=(e=>{const{onSetDisliked:t,isDislikedInLocalStorage:a}=(0,r.useContext)(U),n=(0,R.A)(),[s,i]=(0,r.useState)(a?"INIT":"SUCCESS");return{isMarkedNotInterested:a||"SUCCESS"===s,onNotInterested:(0,r.useCallback)((async()=>{if(i("PENDING"),e)try{await n.build().withHost(N.L1).withMethod("POST").withPath(`feedback/v1/feedback/home-promotion/dislike?uri=${encodeURIComponent(e)}&reason=local`).withEndpointIdentifier("feedback/v1/feedback/home-promotion/dislike").withoutMarket().send(),t(!0)}catch(e){i("ERROR")}}),[e,n,t])}})(d),Q=(0,r.useCallback)((()=>{c&&(j(p?P.t.UNCURATED:P.t.CURATED),p?a.logInteraction(i.saveButtonFactory({uri:c}).hitRemoveLike({itemNoLongerLiked:c})):a.logInteraction(i.saveButtonFactory({uri:c}).hitLike({itemToBeLiked:c})),g(!p))}),[p,c,a,i,j,g]),q=(0,r.useCallback)(((e,t)=>{a.logInteraction(i.hitUiNavigate({destination:s.target})),z||(t.preventDefault(),n(D))}),[i,a,s.target,D,z,n]),J=(0,r.useCallback)((()=>{o&&(a.logInteraction(i.shareButtonFactory({uri:o}).hitCopyToClipboard()),_())}),[i,a,_,o]),Z=(0,r.useCallback)((()=>{d&&(a.logInteraction(i.notInterestedButtonFactory({uri:d}).hitDislike({itemToBeDisliked:d})),K())}),[i,a,K,d]),X=(e=>{if(!e||!("__typename"in e)||"ImageV2"!==e.__typename)return;const t=[];return e.sources.forEach((e=>{t.push(`${e.url} ${e.maxWidth}w`)})),{src:e.imageId,srcSet:t.length>0?t.join(", "):void 0}})(s.mediaSlot?.image?.data);return(0,M.jsx)(y.M,{actions:l,addToLibraryButtonLabel:m.Ru.get("save_to_your_library"),addToLibraryIcon:I,body:s.bodyTranslation?.transformedLabel,className:$,contextMenu:d?(0,M.jsx)(x.b,{menu:(0,M.jsx)(C.W,{children:(0,M.jsx)(b.D,{role:"menuitem",leadingIcon:(0,M.jsx)(f.r,{semanticColor:"textSubdued",size:"small"}),onClick:Z,children:m.Ru.get("promotions.context-menu.not-interested")})}),children:(0,M.jsx)(v.e,{size:v.M.xs,label:m.Ru.get("show_more"),className:G})}):null,href:D,isExternalLinkTargetFn:()=>z,isInLibrary:p,isPlaying:L,mediaSlotImageFallbackIcon:A(s.mediaSlot?.fallbackIcon),mediaSlotImageSrc:X?.src,onAddToLibrary:Q,onNavigate:q,onPlay:T,onShare:J,pauseButtonLabel:m.Ru.get("playlist.a11y.pause",s.titleTranslation?.transformedLabel||""),playButtonLabel:m.Ru.get("playlist.a11y.play",s.titleTranslation?.transformedLabel||""),pretitle:s.pretitleTranslation?.transformedLabel,pretitleSemanticColor:(e=>{switch(e){case E.cf.TextAnnouncement:return"textAnnouncement";case E.cf.TextBrightAccent:return"textBrightAccent";case E.cf.TextNegative:return"textNegative";case E.cf.TextPositive:return"textPositive";case E.cf.TextSubdued:return"textSubdued";case E.cf.TextWarning:return"textWarning";default:return"textBase"}})(s.pretitleSemanticColor),removeFromLibraryButtonLabel:m.Ru.get("remove_from_your_library"),shareButtonLabel:m.Ru.get("mwp.list.item.share"),subtitle:s.subtitleTranslation?.transformedLabel,title:s.titleTranslation?.transformedLabel})};var q=a(83327),J=a(50671),Z=a(21549),X=a(5062);const ee=(0,o.mc)((({spec:e,section:t,index:a})=>{const r=t.sectionItems.items.find(K),n=e.shelvesFactory(),{spec:s}=(0,Z.r)(u.b,{data:{uri:t.uri,position:a,reason:""},parentAbsoluteLocation:n.getAbsoluteLocation()}),i=s.promotionFactory({uri:r?.uri}),o=r?.content.data.target,l=i.promotionItemFactory({identifier:"default_native",uri:(0,d.o_h)(o)?o:r?.content.data.uri}),h=(0,J.t)(l);if(!r)return null;const f=(0,g.wA)(t.data.headerEntity,t.data.title??{transformedLabel:m.Ru.get("promotions.default-section-title")},null);return(0,M.jsx)(D,{promotionUri:r.content.data.uri,children:(0,M.jsx)(q.r,{spec:s,children:(0,M.jsxs)("section",{ref:h,className:c()(z,X.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,M.jsx)(p.k,{...f}),(0,M.jsx)(Q,{promotionSectionItem:r,spec:i})]})})})}),{name:"HomePromotionShelf"});var te=a(93523),ae=a(85961),re=a(47186),ne=a(95884),se=a(99701),ie=a(81035),oe=a(65462),le=a(78516);const ce="JYoTSXH6KEr_MIwisdZi",ue=({title:e,pretitle:t,body:a,uri:n,images:s,spec:i})=>{const o=(0,V.s)(),l=(0,h.Zp)(),[c,u]=(0,H.A)(n||""),{isPlaying:d,togglePlay:p,isActive:g}=(0,W.P)({uri:n},{featureIdentifier:"album"}),{onCopyLink:f}=(0,F.L)({sharingInfo:null,uri:n,interactionData:{intent:"share",type:"click",itemIdSuffix:"album/share"}}),v=(0,r.useCallback)((()=>{const e=(0,O.$I)({isPlaying:d,isActive:g,spec:i.playButtonFactory(),logger:o,uri:n});p({loggingParams:e})}),[i,g,d,o,p,n]),{href:x,isExternalTarget:C}=k(n),b=(0,r.useCallback)(((e,t)=>{o.logInteraction(i.hitUiNavigate({destination:n})),C||(t.preventDefault(),l(x))}),[i,o,n,x,C,l]),{setState:j,Icon:I}=(0,B.Q)(c?P.t.CURATED:P.t.UNCURATED,P.A),L=(0,r.useCallback)((()=>{j(c?P.t.UNCURATED:P.t.CURATED),o.logInteraction(c?i.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:n}):i.saveButtonFactory().hitLike({itemToBeLiked:n})),u(!c)}),[j,c,o,i,n,u]),w=(0,r.useCallback)((()=>{o.logInteraction(i.shareButtonFactory().hitCopyToClipboard()),f()}),[i,o,f]),S=(0,J.t)(i);return(0,M.jsx)("div",{ref:S,children:(0,M.jsx)(y.M,{title:e,href:x,pretitle:t,body:a,isExternalLinkTargetFn:()=>!1,actions:[{target:n,type:"PLAY"},{target:n,type:"ADD_TO_LIBRARY"},{target:n,type:"SHARE"}],onPlay:v,onAddToLibrary:L,onShare:w,isPlaying:d,isInLibrary:c,onNavigate:b,mediaSlotImageSrc:s[0]?.url,playButtonLabel:m.Ru.get("playlist.a11y.play",e),pauseButtonLabel:m.Ru.get("playlist.a11y.pause",e),addToLibraryButtonLabel:m.Ru.get("save_to_your_library"),removeFromLibraryButtonLabel:m.Ru.get("remove_from_your_library"),shareButtonLabel:m.Ru.get("mwp.list.item.share"),className:ce,addToLibraryIcon:I})})};var de=a(13155);const me=({name:e,uri:t,images:a,artists:r,spec:n,type:s})=>(0,M.jsx)(oe.h,{menu:(0,M.jsx)(le.h,{uri:t,artistUri:r?.[0]?.uri}),children:(0,M.jsx)(ue,{title:e,pretitle:`${(0,de.C)(s)} • ${r.map((e=>e.name)).join(m.Ru.getSeparator())}`,uri:t,images:a,spec:n})});var pe=a(40675);const ge=({name:e,uri:t,images:a,description:r,spec:n})=>(0,M.jsx)(oe.h,{menu:(0,M.jsx)(pe.W,{uri:t}),children:(0,M.jsx)(ue,{title:e,pretitle:m.Ru.get("playlist"),body:r,uri:t,images:a,spec:n})});var he=a(63775),fe=a(85907);const ye="ixncPYxvXKu9liUB7s4j",ve="Qhy0EgG4oltMwIF_10L6",xe=(0,o.mc)((({spec:e,section:t})=>{const a=e.shelvesFactory(),{spec:n,logger:s}=(0,Z.r)(ne.j,{data:{identifier:t.uri,uri:t.uri},parentAbsoluteLocation:a.getAbsoluteLocation()}),i=(0,g.wA)(t.data.headerEntity,t.data.title,t.data.subtitle),o=t.sectionItems.items.map(((e,t)=>((e,t)=>{if((0,ie.vd)(e.content)){const a=e.content.data,r=(0,g.f0)(a);switch(a.__typename){case"Album":return(0,M.jsx)(me,{uri:a.uri,name:a.name,images:r,artists:(0,he.K)(a.artists),type:a.albumType,spec:t});case"Playlist":return(0,M.jsx)(ge,{uri:a.uri,name:a.name,images:r,spec:t});case"GenericError":case"NotFound":case"Artist":case"DiscoveryFeed":case"RestrictedContent":case"Audiobook":case"Chapter":case"Episode":case"Podcast":case"Track":case"User":return null;default:return(0,fe.k)(a),null}}return null})(e,n.spotlightCardFactory({position:t,uri:e.uri})))).filter((e=>!!e)),[l,u]=(0,r.useState)(o[0]),[d,h]=(0,r.useState)(0),f=(0,r.useCallback)((()=>{h(d+1),u(o[d+1]),s.logInteraction(n.nextButtonFactory().hitUiReveal())}),[d,s,o,n]),y=(0,r.useCallback)((()=>{h(d-1),u(o[d-1]),s.logInteraction(n.previousButtonFactory().hitUiReveal())}),[d,s,o,n]),v=o.length>1?(0,M.jsxs)("div",{className:ve,children:[(0,M.jsx)(se.Zp,{label:m.Ru.get("carousel.left"),children:(0,M.jsx)(te.H,{size:"small",iconOnly:ae.g,"aria-label":m.Ru.get("carousel.left"),disabled:0===d,onClick:y})}),(0,M.jsx)(se.Zp,{label:m.Ru.get("carousel.right"),children:(0,M.jsx)(te.H,{size:"small",iconOnly:re.V,"aria-label":m.Ru.get("carousel.right"),disabled:d===o.length-1,onClick:f})})]}):null;return o.length<1?null:(0,M.jsx)(q.r,{spec:a,children:(0,M.jsxs)("section",{className:c()(ye,X.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,M.jsx)(p.k,{...i,trailing:v,onClickTitle:()=>{i.titleUri&&s.logInteraction(n.shelfHeaderFactory().hitUiNavigate({destination:i.titleUri}))}}),l]})})}),{name:"HomeV2SpotlightShelf"});var Ce=a(7714),be=a(33712),Pe=a(38501),je=a(20489),Ie=a(42795),Le=a(43329);const we=(0,o.mc)((({spec:e,section:t,index:a})=>{const s=(0,n.NC)(Pe.MX4),i=(0,n.NC)(Le.BC),o=(0,g.wA)(t.data.headerEntity,t.data.title,"HomeGenericSectionData"===t.data.__typename?t.data.subtitle:null),l="GenreResponseWrapper"===t.data.headerEntity?.__typename&&"Genre"===t.data.headerEntity?.data?.__typename?t.data.headerEntity.data.uri:t.uri,c=(0,r.useMemo)((()=>t.sectionItems.items.map(((e,t)=>(0,ie.e0)(e,t,i))).filter((e=>null!==e))),[i,t.sectionItems.items]);return c.length?s?(0,M.jsx)(q.r,{spec:e.shelvesFactory(),children:(0,M.jsx)(Ce.R,{seeAllUri:l,id:t.uri,className:X.A.homeRegularDensityCarouselShelf,index:a,...o,children:c})}):(0,M.jsx)(q.r,{spec:e.shelvesFactory(),children:(0,M.jsx)(je.x,{config:(0,Ie.s1)(Ie.yV.HOME_REGULAR_DENSITY),children:(0,M.jsx)(be.p,{total:t.sectionItems.totalCount,seeAllUri:l,id:t.uri,index:a,...o,children:c})})}):null}),{name:"HomeV2GenericShelf"});var Se=a(80368),Te=a(25408);const Ee=(0,o.mc)((e=>{const t=(0,n.NC)(Pe.MX4),{section:a,index:s,spec:i}=e,o=(0,r.useMemo)((()=>e.section.sectionItems.items.map(((e,t)=>{if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;const a=e.content.data;return(0,M.jsx)(Te.O,{title:a.name,trackUri:a.uri,artists:a.artists.items,album:a.albumOfTrack,contentRating:a.contentRating,referrerIdentifier:"home",index:t},a.uri)})).filter((e=>null!==e))),[e.section.sectionItems.items]);return t?(0,M.jsx)(q.r,{spec:i.shelvesFactory(),children:(0,M.jsx)(Ce.R,{index:s,title:a.data.title?.transformedLabel??"",seeAllUri:a.uri,id:a.uri,className:X.A.homeMusicVideosCarouselShelf,children:o})}):(0,M.jsx)(je.x,{config:(0,Ie.s1)(Ie.yV.MUSIC_VIDEOS),children:(0,M.jsx)(q.r,{spec:i.shelvesFactory(),children:(0,M.jsx)(be.p,{index:s,title:a.data.title?.transformedLabel??"",seeAllUri:a.uri,id:a.uri,total:a.sectionItems.totalCount,children:o})})})}),{name:"HomeV2MusicVideosShelf"});var Ae=a(12099);const ke=(0,o.mc)((({spec:e,section:t,index:a})=>{const r=(0,n.NC)(Pe.MX4),s=t.data.title?.transformedLabel??m.Ru.get("view.recently-played");return r?(0,M.jsx)(q.r,{spec:e.shelvesFactory(),children:(0,M.jsx)(Ae.RecentlyPlayedHomeCarouselShelf,{title:s,index:a,id:t.uri,className:X.A.homeHighDensityCarouselShelf})}):(0,M.jsx)(q.r,{spec:e.shelvesFactory(),children:(0,M.jsx)(Ae.RecentlyPlayedHomeGridShelf,{title:s,index:a,id:t.uri})})}),{name:"HomeV2RecentlyPlayedShelf"});var Ne=a(99475),Re=a(73203),_e=a(68049),Me=a(26448),Ue=a(44859),De=a(25009),Oe=a(39745),Fe=a(22984),Be=a(34990),He=a(63096);const We="mwc_1Zp_E6v9sr0fTnL1",Ve="sbehppetBlPlPp7TSib7",ze="Zg_jTjYYhVRuKwqeO4s3",$e="X3QSU3mxBfBtfhpubU5I",Ge="vMptgdkEGfu4daB_6D7U",Ye="ZMRUy3XCzjoj3U3v8zNb",Ke="Fj9nUGnQyCPsnhDKLx7n",Qe="knJzYlLp6ylpADL42ohP";function qe(e){return!!(e&&e.fileId&&e.uri)}const Je=({canvas:e,canvasContainerClass:t,onCardLoaded:a})=>qe(e)?(0,M.jsx)(Ue.Gg,{className:Ke,fileId:e.fileId,canvasUrl:e.url,overridePlatformId:Oe.Z,playerContainerClass:t,canvasUri:e.uri,playbackType:Ue.RT.LoopOnHover,useContainerMouseOverEvents:!0,onLoaded:a}):null,Ze=({canvas:e,onCardLoaded:t,className:a})=>{const r=(0,He.g)(e?.thumbnail?.sources,{desiredSize:300,desiredLabel:"standard"});return(0,M.jsx)(Fe._,{className:c()(Ye,a),src:r?.url,loading:"lazy",testid:"card-image",fadeIn:!0,onLoad:t,children:(0,M.jsx)(L.e,{size:"xxlarge"})})};var Xe=function(e){return e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Xe||{});const et=({uri:e,index:t,canvas:a,sectionUri:n,discoveryFeedUri:s,uri:i,canvasContainerClass:o,title:l,requestId:u})=>{const{open:d}=(0,De.P)(),{spec:m,logger:p}=(0,Z.r)(Me.y,{data:{position:t,uri:e,reason:u??""}}),g=(0,J.t)(m),h=(0,Be.j)(),[f,y]=(0,r.useState)(!1),[v,x]=(0,r.useState)(Xe.NOT_LOADED),C=()=>{const e=m.hitUiReveal();p.logInteraction(e),d(n,s,i)},b=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=b.current;if(h)return;if(!qe(a))return;const t=()=>{x(Xe.LOADING)};return e?.addEventListener("pointerenter",t,{once:!0}),()=>{e?.removeEventListener("pointerenter",t)}}),[a,h]);const P=(0,r.useCallback)((()=>{y(!0)}),[]),j=(0,r.useCallback)((()=>{x(Xe.LOADED)}),[]),I=!f,L=v!==Xe.LOADED,w=v===Xe.LOADING||v===Xe.LOADED;return(0,M.jsxs)("div",{className:We,tabIndex:0,role:"button",onClick:C,ref:b,onKeyDown:e=>{"Enter"===e.key&&C()},children:[(0,M.jsxs)("div",{className:c()($e,{[Ge]:v===Xe.LOADING}),ref:g,children:[I&&(0,M.jsx)("div",{className:ze}),w&&(0,M.jsx)(Je,{canvas:a,canvasContainerClass:o,onCardLoaded:j}),L&&(0,M.jsx)(Ze,{canvas:a,onCardLoaded:P})]}),(0,M.jsx)("div",{className:Qe,children:(0,M.jsx)(Re.Z,{variant:"ballad",lineClamp:2,title:l,dir:"auto",children:l})}),(0,M.jsx)(_e.A,{semanticColor:"textBase",size:"medium",className:Ve})]})};var tt=a(4414),at=a(99644);const rt="a_zIjVculIT6AAmqITi3",nt="Flfusx_bjoqsdTvLD3n9";const st=({spec:e,children:t,section:a,index:n})=>{const s=(0,r.useRef)(null),i=(0,r.useRef)(null),{spec:o}=(0,Z.r)(tt.f,{data:{position:n,identifier:a.uri,uri:a.uri},parentAbsoluteLocation:e.shelvesFactory().getAbsoluteLocation()});return(0,at.w)({refOrElement:s,observeOnly:"width",observeOnMount:!0,onResize:()=>{const e=i.current;if(!e)return;const t=e.children[0];if(!t)return;const a=t.getBoundingClientRect().top;for(const t of e.children)t.nodeType===Node.ELEMENT_NODE&&(t.getBoundingClientRect().top>a?t.style.display="none":t.style.display="flex")}}),(0,M.jsx)(q.r,{spec:o,children:(0,M.jsxs)("section",{className:rt,ref:s,children:[(0,M.jsx)(p.k,{title:a.data.title?.transformedLabel??"",pageId:a.uri}),(0,M.jsx)("div",{className:nt,ref:i,children:t})]})})},it=({spec:e,children:t,index:a,section:r})=>(0,M.jsx)(q.r,{spec:e.shelvesFactory(),children:(0,M.jsx)(Ce.R,{id:r.uri,title:r.data.title?.transformedLabel??"",className:X.A.homeWatchFeedCarouselShelf,index:a,withEncoreCards:!0,showSeeAll:!1,children:t})}),ot=(0,o.mc)((e=>{const t=(0,n.NC)(Pe.MX4),a=(0,r.useMemo)((()=>e.section.sectionItems.items.map(((t,a)=>{if("DiscoveryFeedResponseWrapper"===t.content.__typename&&"DiscoveryFeed"===t.content.data.__typename){const r=((e,t,a,r)=>{if("TrackResponseWrapper"!==e.firstItem?.__typename||"Track"!==e.firstItem.data.__typename)return null;const n=e.firstItem.data;return(0,M.jsx)(et,{index:a,uri:n.uri,sectionUri:"spotify:section:0JQ5DABRtFWApcy61XJEvU",discoveryFeedUri:t,canvas:n.canvas,title:e.title??"",canvasContainerClass:`Home_WatchFeed_Canvas_${r}_${a}`},`${n.uri}-${a}`)})(t.content.data,t.uri,a,e.index);if(r)return r}return null})).filter((e=>null!==e))),[e.section.sectionItems.items,e.index]);return a.length?t?(0,M.jsx)(it,{...e,children:a}):(0,M.jsx)(st,{...e,children:a}):null}),{name:"HomeV2WatchFeedShelf"});var lt=a(28450);const ct="DbwXO2cO6bYBhrHpU__Q",ut=(0,o.mc)((({uri:e,shelfTitle:t,title:a,description:r})=>(0,M.jsxs)("section",{className:c()(ct,X.A.fixedShelf),"data-shelf-collapsable":!0,children:[(0,M.jsx)(p.k,{title:t}),(0,M.jsx)(lt.n,{uri:e,title:a,description:r})]})),{name:"HomeYourDJShelf"});var dt=a(15011);const mt=(0,r.memo)((({spec:e,greeting:t,section:a,index:r})=>{const o=function(){const e=(0,dt._)();return function(t,a){if(!e)return!1;const r=(0,i.M)(t,a).sectionItems.items[0];return"PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename}}(),l=(0,n.NC)(Pe.BYw),c=(0,n.NC)(Pe.hWV),u=(0,n.NC)(Pe.k6b);switch(a.data?.__typename){case"HomeGenericSectionData":return(0,M.jsx)(we,{spec:e,section:(0,i.M)(a,a.data),index:r});case"HomeShortsSectionData":return(0,M.jsx)(Ne.$,{spec:e,greeting:t,section:(0,i.M)(a,a.data),index:r});case"HomeRecentlyPlayedSectionData":return(0,M.jsx)(ke,{spec:e,section:(0,i.M)(a,a.data),index:r});case"HomeGridSectionData":return c?(0,M.jsx)(Se.A,{spec:e,index:r,section:(0,i.M)(a,a.data)}):(0,M.jsx)(we,{spec:e,section:(0,i.M)(a,a.data),index:r});case"HomePromotionSectionData":return(0,M.jsx)(ee,{section:(0,i.M)(a,a.data),spec:e,index:r});case"HomeSpotlightSectionData":return u?(0,M.jsx)(xe,{spec:e,section:(0,i.M)(a,a.data)}):null;case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,i.M)(a,a.data),{data:t,sectionItems:r}=e,n=r.items[0];if(o(a,a.data)&&"PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,M.jsx)(ut,{uri:e.uri,shelfTitle:t.title?.transformedLabel??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":if(l){const t=(0,i.M)(a,a.data);return(0,M.jsx)(ot,{spec:e,index:r,section:t})}return null;case"HomeFeatureActivationSectionDataV2":return(0,M.jsx)(s.G,{sectionItems:a.sectionItems.items,uri:a.uri,localStorageKey:a.data.localStorageKey});case"HomeMusicVideosSectionData":return(0,M.jsx)(Ee,{spec:e,section:(0,i.M)(a,a.data),index:r});case"HomeFeedBaselineSectionData":case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,fe.k)(a.data),null}}))},76018:(e,t,a)=>{a.d(t,{g:()=>ta});var r=a(30758),n=a(62411),s=a(422),i=a(17918),o=a(188),l=a(52395),c=a(7145),u=a(79110),d=a(81799),m=a(81162),p=a(9931),g=a(42770),h=a(22670),f=a(29051),y=a(84287),v=a(14343),x=a(31417),C=a(98293),b=a(97500),P=a.n(b),j=a(85387),I=a(34901),L=a(43182),w=a(91008),S=a(93523),T=a(77567);const E={screenLg:"1200px",homeRegularDensityMinWidth:"210px",homeRegularDensityMinWidthSmallScreens:"160px",homeFeedBaselineMinWidth:"380px",homeFeedBaselineMaxWidth:"480px",homeFeedBaselineHalfWidth:"430px",gridContainer:"DgRp3EC01YPhzdK9Imn5",withFiniteRowCount:"ihWXb2VdDvsS3bvPrpJF",uniformRowHeight:"frDxJ3jhWuIFWag59N0Q",card:"Q36ugVAb7krhThyRTmJ_",overlayForCenteredImage:"ky4dHMtg46D0NG1znEYF",overlayForCenteredImageGradient:"kI0KOHhAWcqJTU3NyxGg",overlayForCenteredImageDynamicColors:"qF9rZunA5zsqZCAJ8pKq",overlayTop:"QSkuUiKpZ4MHrdOB83XV",withFooterOverlay:"pobLn0CELRvb4TjnNApn",overlayBottom:"AqLt2Nk3rygv3mAt_6gi",hasFooter:"FuL5IvTt_AoeX2tB_U_Q",header:"XKQRNQAUOAjRwwjuUnRU",headerImage:"EHmWppnjgBNjT9yPUXpw",withHeaderImage:"KwklVh4oNn_BXeDMDHcS",headerContainer:"ZhCb7WHaVm5AdY29Cvaq",titleClamp:"auugTSHlDcy58VCqeLjc",titleLink:"YSflHyCWx4tGL7LrqtLE",justClamp:"aILTnh3w8NMsYZOpNJEQ",carousel:"t8hK7HwEUiIjAwheYDse",carouselScrollContent:"bXQccTSllyjV42080L0j",carouselScroller:"fTzLARQ0EPCvPmol3wtF",carouselChevrons:"VSAtCKDeRfQH7O1t2eff",fillSpaceAbsolute:"IriswrXFrjhQwRTmrgIf",backgroundInCarousel:"RWVDgIkhym_nHPfxrxEO",canvasInCarousel:"hpHKwaBDciLDmKsUx6A6",currentlyPlayingStatus:"uw7snqn4j_j7v0S1Fpmi",footerPlayContainer:"PHgLQg31p9qeCUcSicCg",audioPreviewContainer:"EBU7aYrd4J_LgPaKmyJA",footerPlayContainerLeft:"lGxecOZ8oBfh2DzjoP0p",footerPlayContainerRight:"Hf9Q0qSpT2RXgmYT6bNE",footer:"OGu88AVNWY3IM3QlZjG0",footerDescription:"bdiJ1G8TQ1rV0_rYDjws",footerDescriptionContent:"FUyKOZGo4cLlF8PSnINm",expandFooterButton:"ZZqy7vcJrfQy4lXxCTB6",playButtonContainer:"qWtIAYA_A_mOQIlxBb02",isPlayingContext:"BdPspy97AcLd4WhT_L2N",isListeningToPreview:"R6fpPFFvUR3y3foJIDHD",audioWave:"hDiIlhxofBNpk5iFSYik",videoPreview:"mEYwOgcSR3UWyvz0OSVE",artworkImage:"IpLgaK4Oik13ltWcX5FA",transcript:"gSDmqCUB7gyRLyDhNVfF",transcriptForAudio:"Z_ouIT4D_IDAEK9NFivF",isExpandedFooter:"Icn8TjyVe6vIEWpxmYhl",centeredContainer:"TLbWzWrBDxGsZRv8m6lg",parentArtworkImage:"P0gaJ5S6AlrdulY7vERi",hasParentImages:"YPytKH2UYbqp5pJtcUqf",previewHasCompleted:"nlj9PLnUOp6p9CpfeJr3",pulsateText:"dPKkgM2ctEg7P_MAUwjA",playing:"je5WMu3WPFt5JRsMVZb_",loading:"fl8QTa21ubkcNPWPywc9",pulsateLoading:"yQiJ5xD8GjZPS_kJYdgf",transcriptForVideo:"Xl2pUStmWsam79qkFAe7",transcriptText:"S1JkAKIjGrjk74I1YEyb",spoken:"CJoYZ3wN9vIyNxjiMs6q",unspoken:"LF44BrY9AtFsXZOTo2WQ",subtitle:"yb0K_tfQMa762cHBS2LJ",previewHasCompletedContainer:"kraOhQgefWTb4HdrEa2y"};var A=a(86070);const k=e=>{const{isExpandedFooter:t,setIsExpandedFooter:a,children:n}=e,i=(0,r.useRef)(null),[o,l]=(0,r.useState)(!1),c=t?x.Ru.get("show_less"):x.Ru.get("show_more"),u=(0,r.useCallback)((e=>{e.stopPropagation(),a((e=>!e))}),[a]);(0,r.useEffect)((()=>{requestAnimationFrame((()=>{i.current&&l(i.current.scrollHeight>i.current.clientHeight)}))}),[]);const d={"--mask-image":`url(${(0,T.b)("images/mask.png")})`,"--mask-image-rtl":`url(${(0,T.b)("images/mask-rtl.png")})`,"--mask-image-expanded":`url(${(0,T.b)("images/expanded-mask.png")})`,"--mask-image-expanded-rtl":`url(${(0,T.b)("images/expanded-mask-rtl.png")})`};return(0,A.jsxs)("div",{className:E.footerDescription,style:d,children:[(0,A.jsx)(s.E,{variant:"bodySmall",className:E.footerDescriptionContent,ref:i,children:n}),(o||t)&&(0,A.jsx)(S.H,{onClick:u,className:E.expandFooterButton,size:"small",condensedAll:!0,semanticColor:"textBase",tabIndex:0,children:c})]})};var N=a(48497),R=a(68204),_=a(31650),M=a(24533);const U=({uri:e,size:t})=>{const[a,r]=(0,M.A)(e);return(0,A.jsx)(N.M,{size:t,isAdded:a,onClick:()=>{r(!a)},condensed:!0})},D=({uri:e,size:t})=>(0,_.v)(e)?(0,A.jsx)(R.g,{uri:e,size:t}):(0,A.jsx)(U,{uri:e,size:t});var O=a(38157),F=a(70026),B=a(56515),H=a(32394),W=a(79126),V=a(10044),z=a(82935);const $=({uri:e,name:t,togglePreview:a,isListeningToPreview:n,userHasCompletedPreview:i,overture:o,durationMs:l})=>{const c=(0,w.gHQ)(e),[u,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null);u&&n&&d(!1);const g=(0,r.useCallback)((a=>{if(c&&(n||u)){const e=l&&a?(0,z.f)(l-a):(0,z.f)(NaN);return x.Ru.get("preview.remaining-time",{time:e})}const r=t??x.Ru.get("playing"),s=n&&!u;return(0,w.gHQ)(e)?s?r:x.Ru.get("preview.episode"):(0,w._Tv)(e)?s?r:x.Ru.get("preview.album"):(0,w.nuB)(e)?s?r:x.Ru.get("preview.playlist"):s?r:x.Ru.get("preview")}),[c,n,l,u,t,e]),h=(0,r.useCallback)((()=>n?(0,A.jsx)(V.J,{animated:!0}):(0,A.jsx)(F.X,{size:"small"})),[n]);return(0,r.useEffect)((()=>{if(!c)return;if(!o)return;const e=e=>{p(e.data.position)};return o.addListener(W.LW.PROGRESS,e),()=>{o.removeListener(W.LW.PROGRESS,e)}}),[o,c]),i?(0,A.jsx)(B.n,{className:E.audioPreviewContainer,iconOnly:()=>(0,A.jsx)(H.r,{size:"small"}),onClick:e=>{e.stopPropagation(),a()},size:"small"}):(0,A.jsx)(B.n,{className:P()(E.audioPreviewContainer,u?E.loading:null,n?E.playing:null),disabled:u,iconLeading:h,onClick:e=>{e.stopPropagation(),n||d(!0),a()},size:"small",children:(0,A.jsx)(s.E,{variant:"bodySmall",className:E.justClamp,children:g(m)})})},G=e=>{const{isPlayingContext:t}=e;return!t&&e.uri&&e.isPreviewAvailable?(0,A.jsx)($,{...e}):t?(0,A.jsxs)("div",{className:E.currentlyPlayingStatus,children:[(0,A.jsx)(V.J,{animated:!0}),(0,A.jsx)(s.E,{variant:"bodySmall",semanticColor:"textPositive",children:x.Ru.get("playing")})]}):null};var Y=a(75830),K=a(34733);const Q=e=>{const{uri:t,overture:a,isPlayingContext:r,isPreviewAvailable:n,isListeningToPreview:s,togglePreview:i,durationMs:o,currentPreviewItem:l,isAddable:c,isPlayable:u,ariaPlayLabel:d,ariaPauseLabel:m,menu:p,onMoreButtonClick:g,handlePlayButtonClick:h,userHasCompletedPreview:f}=e;return(0,A.jsxs)("div",{className:E.footerPlayContainer,children:[(0,A.jsx)("div",{className:E.footerPlayContainerLeft,children:(0,A.jsx)(G,{isPreviewAvailable:n,isPlayingContext:r,isListeningToPreview:s,uri:l?.uri??null,name:l?.name??null,overture:a,durationMs:o,togglePreview:i,userHasCompletedPreview:f})}),(0,A.jsxs)("div",{className:E.footerPlayContainerRight,onClick:e=>{e.stopPropagation()},children:[(0,A.jsx)(Y.b,{menu:p,children:(0,A.jsx)(O.e,{size:"large",label:x.Ru.get("more"),onClick:g})}),c&&(0,A.jsx)(D,{size:"large",uri:t}),u&&(0,A.jsx)("div",{className:E.playButtonContainer,children:(0,A.jsx)(K.R,{isPlaying:r,onClick:h,ariaPlayLabel:d,ariaPauseLabel:m,version:r?K.H.primary:K.H.secondary})})]})]})};var q=a(43743),J=a(99701),Z=a(21082),X=a(26122),ee=a(95683),te=a(42795),ae=a(99644);const re=Number(E.homeFeedBaselineHalfWidth.replace("px",""))||430,ne=({uri:e,text:t,images:a,imageColor:n,renderSubtitle:i,cardRef:o})=>{const l=(0,r.useRef)(null),c=(0,X.K)({ref:l}),[u,d]=(0,r.useState)(32),m=(0,r.useCallback)((()=>{const e=o.current?.clientWidth??te.Pm,a=2*(l.current?.clientWidth??te.Pm),r=e<re?24:32,n=(0,ee.L)(t,r,700);d(n>a?24:32)}),[o,t]);(0,r.useEffect)((()=>{m()}),[m]),(0,ae.w)({refOrElement:o,onResize:m,observeOnly:"width",observeOnMount:!1});const p={"--title-line-clamp":2,"--title-font-size":`${u}px`,"--title-font-size-small":(32===u?24:20)+"px"};return(0,A.jsxs)("header",{className:E.header,style:p,children:[(0,A.jsx)("div",{className:E.headerImage,children:(0,A.jsx)(q.M,{images:a,color:n,is1DCardHeader:!0})}),(0,A.jsxs)("div",{className:E.headerContainer,children:[(0,A.jsx)(Z.N,{to:e,className:E.titleLink,children:(0,A.jsx)(J.Zp,{label:t,disabled:!c,children:(0,A.jsx)(s.E,{as:"span",variant:"titleSmall",semanticColor:"textBase",ref:l,className:E.titleClamp,children:t})})}),i?(0,A.jsx)(s.E,{as:"span",variant:"bodySmall",semanticColor:"textSubdued",className:P()(E.subtitle),children:i()}):null]})]})};var se=a(36475),ie=a(33449),oe=a(43329);const le=e=>{const{carouselLayout:t,withFooterOverlay:a}=e,r=(0,v.NC)(oe.HO),{dynamicColors:n}=(0,ie.q)(),s={"--background-base-high-contrast":n?.highContrast.backgroundBase.toCSS(se.a.RGBA)||"","--higher-contrast-text-base-color":n?.higherContrast.textBase.toCSS(se.a.RGBA)||""};return t?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:E.overlayTop}),(0,A.jsx)("div",{className:P()({[E.withFooterOverlay]:a,[E.overlayBottom]:!a})})]}):(0,A.jsx)("div",{style:s,className:P()(E.overlayForCenteredImage,{[E.overlayForCenteredImageGradient]:!r,[E.overlayForCenteredImageDynamicColors]:r})})};var ce=a(21743),ue=a(38501),de=a(30147),me=a(14636);const pe=32,ge=[0,1e4];let he=!1;const fe=({analyser:e,dataSize:t,forceAlwaysInView:a,playing:n})=>{const s=(0,v.NC)(ue.eZG),i=(0,r.useRef)(null),o=(0,r.useRef)(null),l=(0,de.v7)(),{ref:c,inView:u}=(0,ce.Wx)({root:l.current,initialInView:!1}),d=(0,r.useRef)(new Uint8Array(pe)),[m]=(0,r.useState)((()=>function(e){const t=new Uint8Array(e),a=new Array(e).fill(80),r=Array.from({length:e},(()=>100*Math.random()+80));return()=>{for(let n=0;n<e;n++)a[n]=a[n]+.4*(r[n]-a[n]),t[n]=Math.round(a[n]),Math.abs(a[n]-r[n])<1&&(r[n]=100*Math.random()+80);return t}}(pe))),[p,g]=(0,r.useState)(n);(0,r.useEffect)((()=>{if(!n){const e=setTimeout((()=>g(!1)),500);return()=>clearTimeout(e)}return g(!0),()=>{}}),[n]);const h=p&&(u||a)&&s!==ue.UiV.OFF,f=(0,r.useCallback)((()=>{if(!i.current)return;const a=i.current?.getContext("2d");if(!i.current||!a)return;const r=i.current.width/window.devicePixelRatio,n=i.current.height/window.devicePixelRatio;let o=null;if(s===ue.UiV.REAL){if(e){const a=new Uint8Array(t);e.getByteFrequencyData(a),o=function(e,t){const a=e.length,r=Math.floor(a*ge[0]/2e4),n=Math.floor(a*ge[1]/2e4),s=Math.floor((n+r)/2),i=s-16,o=s+16;(i<0||o>a)&&!he&&(he=!0,console.warn("Invalid bounds for drawing audio wave, increase fftSize or reduce lineCount",{lowerBound:i,upperBound:o,size:a}));const l=new Uint8Array(pe);for(let a=0;a<pe;a++){const r=e[a+i]??0;t[a]=t[a]*(1-.9)+.9*r,l[a]=t[a]}return l}(a,d.current)}}else s===ue.UiV.RAND&&(o=m());o&&function(e,t,a,r){const n=t/2,s=a/2;e.clearRect(0,0,t,a),e.fillStyle="rgba(255, 255, 255, 35%)";for(let t=0;t<pe;t++){const a=Math.max(0,Math.min(255,r[t]??0))*(s/255),i=n+-256+16*t-2;e.beginPath(),e.roundRect(i,s-a,4,2*a,2),e.fill()}}(a,r,n,o)}),[e,s,t,m]),y=(0,r.useCallback)((()=>{if(!i.current?.parentElement)return;const{offsetWidth:e,offsetHeight:t}=i.current.parentElement,a=window.devicePixelRatio||1;i.current.width=e*a,i.current.height=t*a,i.current.style.width=`${e}px`,i.current.style.height=`${t}px`;const r=i.current.getContext("2d");r?.scale(a,a)}),[]);return(0,ae.w)({onResize:(0,me.s)(y)(200),refOrElement:o}),(0,r.useEffect)((()=>{if(!h)return()=>{};let e,t=null;const a=r=>{(null===t||(t?r-t:0)>=16.666666666666668)&&(f(),t=r),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>{e&&cancelAnimationFrame(e)}}),[f,h]),(0,A.jsx)("div",{ref:o,style:{width:"100%",height:"100%"},children:(0,A.jsx)("canvas",{style:{width:"100%",height:"100%"},ref:e=>{c(e),i.current=e,y()}})})};var ye=a(44481);const ve=({onClick:e})=>(0,A.jsx)("div",{className:E.previewHasCompletedContainer,children:(0,A.jsx)(ye.$,{size:"large",onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},colorSet:"invertedLight",children:x.Ru.get("preview.continue-playing")})});var xe=a(50486),Ce=a(1599);const be=e=>{const{data:t={words:[]},error:a}=(0,xe.I)({queryKey:["transcript",e],queryFn:async()=>(await(async e=>Ce.n.getInstance().build().fromURL(e).withoutMarket().withoutAuthorization().send())(e)).body});return{data:t,error:a}},Pe=1500,je=e=>1e3*parseFloat(e.replace("s","")),Ie=({line:e,positionMs:t,playing:a})=>{const[n,i]=(0,r.useState)(0);(0,r.useEffect)((()=>{i(0)}),[t]);const o=a;(0,r.useEffect)((()=>{let e;return()=>{e&&cancelAnimationFrame(e)}}),[o]);const l=t+n;return(0,A.jsx)("div",{className:E.transcriptText,children:e.map((({word:e,start:t},a)=>(0,A.jsx)(s.E,{variant:"bodyMediumBold",className:l>=t?E.spoken:E.unspoken,children:e},a)))})},Le=({transcriptUrl:e,overture:t,shiftTranscriptByOffsetFromURL:a})=>{const{data:n,error:s}=be(e),[i,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),m=(0,r.useMemo)((()=>(e=>{const t=new URL(e).searchParams.get("offsets.start");return t?je(t):0})(e)),[e]);(0,r.useEffect)((()=>{if(!t)return;const e=e=>{const t=e.data.position+(a?m:0);o(t)},r=()=>{c(!0),u||d(!0)},n=()=>{c(!1)};return t.on(W.LW.PROGRESS,e),t.on(W.LW.PLAYING,r),t.on(W.LW.PAUSED,n),()=>{t.removeListener(W.LW.PROGRESS,e),t.removeListener(W.LW.PLAYING,r),t.removeListener(W.LW.PAUSED,n)}}),[a,m,t,u]);const p=((e,t)=>{const a=(0,r.useMemo)((()=>Math.floor(t/Pe)*Pe),[t]);return(0,r.useMemo)((()=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r],s=je(n.offsets.start);if(s>=a&&s<a+Pe){const e=je(n.offsets.end);t.push({word:`${n.word} `,start:s,end:e})}if(s>=a+Pe)break}return t}),[e,a])})(n.words,i);return s?null:u&&p.length?(0,A.jsx)(Ie,{line:p,positionMs:i,playing:l}):null},we=e=>{const{hasAudioWave:t,analyser:a,userHasCompletedPreview:r,handleContinuePlayingButtonClick:n,overture:s,previewState:i,parentImages:o,images:l,imageColor:c,handleCardClick:u,entityUrl:d,transcriptUrl:m,shiftTranscriptByOffsetFromURL:p}=e,g=(0,v.NC)(ue.eSY),h=o&&o.length>0&&l?.[0]?.url!==o?.[0]?.url;return(0,A.jsxs)(Z.N,{onClick:u,to:d,className:E.centeredContainer,children:[t?(0,A.jsx)("div",{className:E.audioWave,children:(0,A.jsx)(fe,{analyser:a,playing:i.playing,dataSize:a?a.frequencyBinCount:128})}):null,(0,A.jsxs)("div",{className:P()(E.artworkImage,{[E.previewHasCompleted]:r,[E.hasParentImages]:h}),children:[(0,A.jsx)(q.M,{images:l,color:c,desiredSize:180*window.devicePixelRatio}),h&&(0,A.jsx)("div",{className:E.parentArtworkImage,children:(0,A.jsx)(q.M,{images:o,color:c,desiredSize:80*window.devicePixelRatio})})]}),g&&m&&(0,A.jsx)("div",{className:P()(E.transcript,E.transcriptForAudio),children:(0,A.jsx)(Le,{transcriptUrl:m,overture:s,shiftTranscriptByOffsetFromURL:p})}),r?(0,A.jsx)(ve,{onClick:n}):null]})};var Se=a(44859),Te=a(34990);const Ee=({item:e,cardRef:t,playerContainerClass:a,isListening:r,overridePlatformId:n})=>{const s=(0,Te.j)();return!e?.canvas?.fileId||s?(0,A.jsx)("div",{className:E.backgroundInCarousel,style:{backgroundColor:e.background?.color??"transparent"},children:e.background?.imageUrl&&(0,A.jsx)("img",{alt:"",src:e.background.imageUrl})}):(0,A.jsx)(Se.Gg,{className:E.canvasInCarousel,fileId:e.canvas.fileId,canvasType:e.canvas.type,canvasUri:e.canvas.uri,canvasUrl:e.canvas.url,canvasThumbnailUrl:e.canvas.thumbnailUrl,playbackType:r?Se.RT.Loop:Se.RT.LoopOnHover,playerContainerClass:`${a}_${e.canvas.fileId}`,mouseHoverRef:t,overridePlatformId:n,loadingStrategy:"lazy"})};var Ae=a(17287);const ke=e=>{const{previewItems:t,currentPreviewItemIndex:a,setCurrentPreviewItemIndex:n,playPreview:s,isListeningToPreview:i,playerContainerClass:o,cardRef:l}=e,c=(0,r.useCallback)((e=>{if(!t)return;if(a===e)return;const r=t[e];r&&(n(e),i&&s(r))}),[a,i,s,t,n]);return(0,A.jsx)(Ae.FN,{wheelScrollEnabled:!1,scrollingMethod:Ae.Hv.SNAP,scrollSnapAlign:"center",className:P()(E.carousel,E.fillSpaceAbsolute),scrollContentClassName:E.carouselScrollContent,scrollerClassName:E.carouselScroller,chevronsClassName:E.carouselChevrons,dragToScroll:!1,showButtons:Ae.C_.ON_HOVER,edgeGradients:Ae.TB.NONE,onScroll:c,children:t.map(((e,t)=>(0,A.jsx)(Ee,{item:e,playerContainerClass:o,cardRef:l,isListening:i,overridePlatformId:"desktop-home-1d-card-canvas"},`${e.uri}_${t}`)))})};var Ne=a(78294),Re=a(97040),_e=a(99859);const Me=({uri:e,fileId:t,poster:a,overridePlatformId:n,playerContainerClass:s,className:i,startOffsetMs:o,endOffsetMs:l,children:c})=>{const{registerURI:u,unregisterURI:d}=(0,Ne.J)(),m=(0,r.useMemo)((()=>({videoPlayerContainer:`.${s}`})),[s]),p=(0,Re.H)(m,void 0,void 0,void 0,n);(0,r.useEffect)((()=>(u(e,{uri:e,overture:p}),()=>{d(e)})),[e,u,d,p]);const g=(0,r.useRef)(null);return(0,r.useEffect)((()=>{t&&p.playTracks([(0,W.a2)({mediaType:"video",format:"MANIFEST_ID",fileId:t,uri:e,poster:a??"",options:{position:o},logData:{playbackId:(0,_e.E)()}})],{paused:!0,loop:!1,muted:!0})}),[e,p,t,a,o,l]),(0,A.jsxs)("div",{ref:g,className:P()(s,i),children:[a&&(0,A.jsx)("img",{"data-poster":!0,src:a,alt:""}),c]})},Ue=e=>{const{userHasCompletedPreview:t,handleContinuePlayingButtonClick:a,overture:r,transcriptUrl:n,uri:s,playerContainerClass:i,handleCardClick:o,entityUrl:l,startOffsetMs:c,endOffsetMs:u,fileId:d,poster:m,shiftTranscriptByOffsetFromURL:p}=e,g=(0,v.NC)(ue.eSY);return(0,A.jsxs)(Z.N,{onClick:o,to:l,className:E.centeredContainer,children:[(0,A.jsx)(Me,{uri:s,fileId:d,startOffsetMs:c??0,endOffsetMs:u??0,className:E.videoPreview,playerContainerClass:`${i}_Video`,overridePlatformId:"desktop-home-1d-card-video",poster:m,children:g&&n&&(0,A.jsx)("div",{className:P()(E.transcript,E.transcriptForVideo),children:(0,A.jsx)(Le,{transcriptUrl:n,overture:r,shiftTranscriptByOffsetFromURL:p})})}),t?(0,A.jsx)(ve,{onClick:a}):null]})};var De=a(52061),Oe=a(28340);const Fe=({currentPreviewItem:e,uri:t,hasAudioWave:a,playerContainerClass:n,loop:s})=>{const[i,o]=(0,r.useState)({playing:!1,muted:!0,completed:!1,duration:0}),l={uri:t,currentPreviewItem:e,previewState:i,setPreviewState:o,hasAudioWave:a,playerContainerClass:n,loop:s,enabled:!0},c=(({uri:e,currentPreviewItem:t,setPreviewState:a,previewState:n,enabled:s})=>{const{isPlaying:i}=(0,Oe.P)({uri:e},{featureIdentifier:"home"}),o=(0,De.c)(),l=(0,Ne.J)(),c=l.getStateForURI(e)?.overture??null,u=t?.video,d=(0,v.NC)(ue.x8),m=Boolean(u?.fileId),p=s&&d&&m,[g,h]=(0,r.useState)(null),f=p&&null===g,y=u?.startOffsetMs??0,x=u?.endOffsetMs??0,C=u?.transcriptUrl??null,b=Boolean(n&&n.playing&&!n.muted),P=Boolean(n&&n.completed&&!i),j=(0,r.useCallback)((async()=>{c&&((await c.getState()).playbackState.playing?c.setMuted(!n.muted):(c.setVolume(o.currentPlayerVolume),c.setMuted(!1),c.resume()))}),[c,n.muted,o.currentPlayerVolume]),I=(0,r.useCallback)((()=>{}),[]),L=(0,r.useCallback)((async()=>{f&&c&&(b||P||(c.setMuted(!0),c.resume()))}),[f,c,b,P]),w=(0,r.useCallback)((()=>{f&&c&&(b||P||c.pause().catch((()=>{})))}),[f,c,b,P]);return(0,r.useEffect)((()=>{if(!p)return;if(!c)return;const e=e=>{h(e.data.error)};return c.addListener(W.LW.ERROR,e),()=>{c.removeListener(W.LW.ERROR,e)}})),(0,r.useEffect)((()=>{if(!f)return;if(!c)return;const e=e=>{e.data.position>=x&&(c.seek(y),c.pause(),a((e=>({...e,completed:!0}))))};return c.addListener(W.LW.PROGRESS,e),()=>{c.removeListener(W.LW.PROGRESS,e)}}),[f,c,a,x,y]),{durationMs:x,isListeningToPreview:b,isPreviewAvailable:f,togglePreview:j,userHasCompletedPreview:P,playPreview:I,overture:c,transcriptUrl:C,shiftTranscriptByOffsetFromURL:!1,onPointerEnter:L,onPointerLeave:w,analyser:null}})(l),u=(({uri:e,currentPreviewItem:t,previewState:a,hasAudioWave:n,playerContainerClass:s,loop:i,enabled:o})=>{const{isPlaying:l}=(0,Oe.P)({uri:e},{featureIdentifier:"home"}),c=(0,De.c)(),u=Boolean(t?.audio?.url),d=(0,v.NC)(ue.o5i),m=(0,v.NC)(ue.eZG),p=o&&d&&u,g=t?.audio?.transcriptUrl??null,h=(0,r.useMemo)((()=>{if(m!==ue.UiV.REAL)return null;if(!n)return null;const e=new AudioContext({latencyHint:"playback"}),t=e.createAnalyser();t.fftSize=256;const a=e.createGain();return{audioContext:e,analyser:t,gainNode:a}}),[m,n]);(0,r.useEffect)((()=>()=>{h&&h.audioContext.close()}),[h]);const f=(0,r.useMemo)((()=>({audioPlayerContainer:`.${s}_Audio`,audioProcessorOptions:{disable:!0},preinitMediaElement:!1,disallowProtectedTracks:!0,enableWithoutEME:!0,createPlayer:()=>{const e=document.createElement("audio");if(h){const{audioContext:t,analyser:a,gainNode:r}=h;e.crossOrigin="anonymous";const n=t.createMediaElementSource(e);n.connect(a),n.connect(r),r.connect(t.destination)}return e}})),[h,s]),[y,x]=(0,r.useState)(!1),C=Boolean(a&&a.playing&&y),b=Boolean(a&&a.completed&&!l),P=(0,r.useCallback)(((e,t)=>{h?(h.gainNode.gain.value=t*t*t,e.setVolume(1)):e.setVolume(t)}),[h]),j=(0,r.useCallback)(((e,t)=>t.playbackState.playing&&y),[y]),I=(0,r.useCallback)((e=>{x(!1),e.pause().catch((()=>{}))}),[x]),L=(0,Re.H)(f,I,j,P,"desktop-home-1d-card-audio"),w=(0,r.useCallback)(((e,t)=>{x(t),P(L,e)}),[L,P]),S=(0,r.useCallback)((t=>{const a=t.audio?.url;a&&L.playTracks([(0,W.a2)({noAuth:!0,format:"GENERIC_MEDIA",mediaType:"audio",uri:e,url:a,logData:{playbackId:(0,_e.E)()}})],{loop:i,paused:!1,muted:!1})}),[L,e,i]),T=(0,r.useCallback)((async()=>{if(!p)return;if(!t)return;const e=await L.getCurrentState();e.track?.url===t.audio?.url?e.playbackState.playing?y?w(0,!1):w(c.currentPlayerVolume,!0):(w(c.currentPlayerVolume,!0),L.resume()):(w(c.currentPlayerVolume,!0),S(t))}),[p,t,L,w,c.currentPlayerVolume,y,S]),E=(0,r.useCallback)((async()=>{if(!p)return;if(!t)return;if(!n)return;if(C||b)return;const e=await L.getCurrentState();w(0,!1),e.track?.url===t?.audio?.url?L.resume():S(t)}),[p,t,n,C,b,L,w,S]),A=(0,r.useCallback)((()=>{p&&n&&(C||b||(w(0,!1),L.pause().catch((()=>{}))))}),[p,n,C,b,w,L]);return{durationMs:a.duration??0,isPreviewAvailable:p,isListeningToPreview:C,togglePreview:T,playPreview:S,overture:L,userHasCompletedPreview:b,transcriptUrl:g,shiftTranscriptByOffsetFromURL:!0,onPointerEnter:E,onPointerLeave:A,analyser:h?.analyser??null}})({...l,enabled:!c.isPreviewAvailable}),d=c.isPreviewAvailable?"video":"audio",m="video"===d?c:u,{isPreviewAvailable:p,overture:g}=m;return(0,r.useEffect)((()=>{if(!p)return;if(!g)return;const e=e=>{o((t=>({...t,duration:e.data.duration})))},t=e=>{o((t=>({...t,muted:e.data.muted})))},a=()=>{o((e=>({...e,playing:!0,completed:!1})))},r=()=>{o((e=>({...e,playing:!1})))},n=()=>{o((e=>({...e,playing:!1,completed:!0})))};return g.on(W.LW.DURATION_CHANGED,e),g.on(W.LW.MUTED_CHANGED,t),g.on(W.LW.PLAYING,a),g.on(W.LW.PAUSED,r),g.on(W.LW.TRACK_ENDED,n),()=>{g.removeListener(W.LW.DURATION_CHANGED,e),g.removeListener(W.LW.MUTED_CHANGED,t),g.removeListener(W.LW.PLAYING,a),g.removeListener(W.LW.PAUSED,r),g.removeListener(W.LW.TRACK_ENDED,n)}}),[g,p]),{...m,type:d,previewState:i}};var Be=a(57776),He=a(59147);const We=new Be.l("feedBaselineLookup","query","a950fb7c4ecdcaf2aad2f3ca9ee9c3aa4b9c43c97e1d07d05148c4d355bea7fc",null),Ve=(e,t)=>(0,He.I)(We,e,t);var ze=a(90124),$e=a(6683),Ge=a(81035),Ye=a(63096);const Ke=(0,r.createContext)(new Map);function Qe(e,t){const a=new Map;for(const t of e)a.set(t,null);return t&&t.lookup.forEach((e=>{if("AlbumResponseWrapper"===e.__typename||"PlaylistResponseWrapper"===e.__typename||"EpisodeOrChapterResponseWrapper"===e.__typename)switch(e.data.__typename){case"Album":case"Playlist":{const t=(e.data.previewItems?.items||[]).reduce(((e,t)=>{if("TrackResponseWrapper"!==t.__typename)return e;if("Track"!==t.data.__typename)return e;const a=(0,Ye.g)(t.data.albumOfTrack?.coverArt?.sources||[])?.url||null,r=t.data.albumOfTrack?.coverArt?.extractedColors?.colorDark?.hex||null,n=t.data.previews?.audioPreviews.items?.[0];return e.push({name:t.data.name,uri:t.data.uri,canvas:t.data.canvas?{uri:t.data.canvas.uri,type:t.data.canvas.type,fileId:t.data.canvas.fileId,url:t.data.canvas.url,thumbnailUrl:(0,Ye.g)(t.data.canvas.thumbnail?.sources)?.url}:null,background:{color:r,imageUrl:a},audio:n?{url:n.url,startOffsetMs:0,endOffsetMs:0,transcriptUrl:null}:null,video:null}),e}),[]);a.set(e._uri,t);break}case"Episode":{const{audioPreview:t,videoPreview:r}=e.data.previewPlayback??{};a.set(e._uri,[{name:e.data.name,uri:e.data.uri,canvas:null,background:null,audio:t?.cdnUrl?{url:t.cdnUrl,startOffsetMs:t.offset?.startTime?.totalMilliseconds??0,endOffsetMs:t.offset?.endTime?.totalMilliseconds??0,transcriptUrl:t.transcriptUrl}:null,video:r?{fileId:r.fileId,thumbnailUrl:"ImageV2"===r.placeholderImage?.data.__typename?(0,Ye.g)(r.placeholderImage?.data.sources)?.url??null:null,startOffsetMs:r.offset?.startTime?.totalMilliseconds??0,endOffsetMs:r.offset?.endTime?.totalMilliseconds??0,transcriptUrl:r.transcriptUrl}:null}]);break}}})),a}var qe=a(18113),Je=a(27012),Ze=a(37410),Xe=a(82846),et=a(50671),tt=a(21549),at=a(66387);let rt=function(e){return e.VideoEpisode="VideoEpisode",e.Carousel="Carousel",e.AudioEpisode="AudioEpisode",e}({});const nt=({layout:e,onClick:t=(()=>{}),onPlay:a=(()=>{}),onContextMenu:n=(()=>{}),uri:s,headerText:i,renderFooter:o,isPlayable:l,isAddable:c,renderSubtitle:u,className:d,testId:m,ariaPlayLabel:p,ariaPauseLabel:g,index:h,requestId:f,images:y,parentImages:x,color:C,dragMimeType:b,onMoreButtonClick:S,menu:T,audioPreviewInLoop:N,logCardImpressions:R})=>{const{previewItems:_,currentPreviewItemIndex:M,setCurrentPreviewItemIndex:U,currentPreviewItem:D}=(e=>{const t=(0,v.NC)(ue.o5i),[a,n]=(0,r.useState)(0),s=(0,r.useContext)(Ke),i=!s.has(e),{data:o}=Ve({uris:[e]},{enabled:i}),l=(0,r.useMemo)((()=>{let a=[];return a=s.has(e)?s.get(e)??[]:Qe([e],o).get(e)??[],t?a:a.slice(0,1)}),[o,t,s,e]);return{previewItems:l,currentPreviewItem:l[a]??null,currentPreviewItemIndex:a,setCurrentPreviewItemIndex:n}})(s),{dynamicColors:O}=(0,ie.q)(),F=O?.higherContrast.backgroundBase.toCSS(se.a.RGBA)??C,B=`BigCard_${s.replace("spotify:","").replace(/:/g,"_")}`,{isPlaying:H,isActive:W,togglePlay:V}=(0,Oe.P)({uri:s},{featureIdentifier:"home"}),z=e===rt.AudioEpisode,{durationMs:$,isListeningToPreview:G,togglePreview:Y,overture:K,userHasCompletedPreview:q,previewState:J,isPreviewAvailable:Z,playPreview:X,transcriptUrl:ee,shiftTranscriptByOffsetFromURL:te,onPointerEnter:ae,onPointerLeave:re,analyser:oe}=Fe({uri:s,currentPreviewItem:D,hasAudioWave:z,loop:N,playerContainerClass:B}),ce=(0,j.Zp)(),de=(0,Ze.W)({type:"link",uri:s}),{spec:me,logger:pe,UBIFragment:ge}=(0,tt.r)(L.y,{data:{uri:s,position:h,reason:f??""}}),he=(0,et.t)(me),{draggable:fe,onDragStart:ye}=(0,Je.P)({itemUris:[s],itemMimeTypes:b?[b]:[],dragLabelText:i}),ve=(0,r.useCallback)((()=>{let e=me.cardPlayButtonFactory().hitPause({itemToBePaused:s});H||(e=W?me.cardPlayButtonFactory().hitResume({itemToBeResumed:s}):me.cardPlayButtonFactory().hitPlay({itemToBePlayed:s}));const t=pe.logInteraction(e);a(s,t)?.preventDefault||V({loggingParams:t})}),[W,H,pe,a,me,V,s]),xe=(0,r.useCallback)((()=>{let e=me.cardPlayButtonFactory().hitPause({itemToBePaused:s});H||(e=W?me.cardPlayButtonFactory().hitResume({itemToBeResumed:s}):me.cardPlayButtonFactory().hitPlay({itemToBePlayed:s}));const t=pe.logInteraction(e);a(s,t),V({loggingParams:t})}),[W,H,pe,a,me,V,s]),Ce=(0,r.useCallback)((()=>{const e=me.hitUiNavigate({destination:s});pe.logInteraction(e)}),[pe,me,s]),be=(0,r.useCallback)((()=>{t(s),Ce()}),[t,s,Ce]),Pe=(0,w.o_h)(s)?.toURLPath(!0)??"",je=de?(0,at.hF)(Pe):Pe,Ie=(0,r.useRef)(null),[Le,Se]=(0,r.useState)(!1),Te=e===rt.VideoEpisode||e===rt.Carousel,Ee={...(0,Xe.w)({contrast:"higherContrast"}),"--background-color":F||"","--background-base-high-contrast":O?.highContrast.backgroundBase.toCSS(se.a.RGBA)||"","--higher-contrast-text-base-color":O?.higherContrast.textSubdued.toCSS(se.a.RGBA)||""};return(0,A.jsx)(ge,{spec:me,children:(0,A.jsx)(qe.E,{uri:s,trigger:qe.l.OnMouseDown,children:(0,A.jsxs)(I.a,{variant:"naked",onClick:()=>{be(),ce(je)},ref:Ie,className:P()(E.card,d,"encore-medium-devices-theme",{[E.isPlayingContext]:H,[E.isListeningToPreview]:G,[E.isExpandedFooter]:Le,[E.withHeaderImage]:Te}),style:Ee,"data-testid":m,draggable:fe,onDragStart:ye,onContextMenu:n,onPointerEnter:ae,onPointerLeave:re,children:[(0,A.jsx)("div",{"data-uri":s,className:E.fillSpaceAbsolute,ref:R?he:null}),e===rt.Carousel?(0,A.jsx)(ke,{cardRef:Ie,isListeningToPreview:G,playPreview:X,playerContainerClass:B,previewItems:_,setCurrentPreviewItemIndex:U,currentPreviewItemIndex:M}):null,(0,A.jsx)(le,{carouselLayout:e===rt.Carousel,withFooterOverlay:Boolean(o)}),(0,A.jsx)(ne,{uri:s,text:i,images:y,imageColor:F,renderSubtitle:u,cardRef:Ie}),e===rt.VideoEpisode&&D?.video?(0,A.jsx)(Ue,{userHasCompletedPreview:q,handleContinuePlayingButtonClick:xe,overture:K,transcriptUrl:ee,shiftTranscriptByOffsetFromURL:te,uri:s,playerContainerClass:B,handleCardClick:be,entityUrl:je,fileId:D.video.fileId,poster:D.video.thumbnailUrl,startOffsetMs:D.video.startOffsetMs,endOffsetMs:D.video.endOffsetMs}):null,e===rt.AudioEpisode?(0,A.jsx)(we,{hasAudioWave:z,analyser:oe,userHasCompletedPreview:q,handleContinuePlayingButtonClick:xe,overture:K,playerContainerClass:B,transcriptUrl:ee,shiftTranscriptByOffsetFromURL:te,uri:s,previewState:J,parentImages:x,images:y,imageColor:F,handleCardClick:be,entityUrl:je}):null,(0,A.jsxs)("footer",{className:E.footer,children:[(0,A.jsx)(k,{isExpandedFooter:Le,setIsExpandedFooter:Se,children:o?.()}),(0,A.jsx)(Q,{uri:s,overture:K,isPreviewAvailable:Z,isPlayingContext:H,isListeningToPreview:G,durationMs:$,togglePreview:Y,userHasCompletedPreview:q,currentPreviewItem:D,isAddable:c,isPlayable:l,ariaPlayLabel:p,ariaPauseLabel:g,onMoreButtonClick:S,handlePlayButtonClick:ve,menu:T})]})]})})})};var st=a(81288),it=a(65462),ot=a(78516),lt=a(47863),ct=a(50496),ut=a(40675),dt=a(33712),mt=a(33593),pt=a(31026),gt=a(99041),ht=a(20489),ft=a(41661),yt=a(50866),vt=a(27483),xt=a(61714),Ct=a(83327),bt=a(16157),Pt=a(63775),jt=a(61983),It=a(53149),Lt=a(75049),wt=a(72051),St=a(13719),Tt=a(85907),Et=a(79225);const At="SsbbQFeJun2Ts_EIktpr",kt="c9BGAQRNNsdwX3UTMr6I",Nt="uywGjRMxNHg8g1bYlRCw",Rt="lx7nfGbsUkI_2pC6caw9",_t="xrnpBm515hmJJbcxfudp",Mt="zEXW4c9SPtH2KBs6ziag",Ut="bAtY2R6yehmYQinDdUo8",Dt="kKlHj6lIKU67CC1irRYP",Ot="dwXI_X_KOCLVx2Ki1h9R",Ft="vK47ZfLVzR4LfUvpNy5z",Bt="CZnhsxKzhvTg17LEWR7Y";function Ht({data:e,index:t,shelfIndex:a}){const r=t,o=(0,pt.f0)(e),l=(0,pt.o8)(e),c=(0,pt.Uk)(e)??null,u=(0,v.NC)(oe.BC),d=(0,n.wA)(),m=(0,v.NC)(ue.x8);let p;switch(e.__typename){case"Album":p=(0,A.jsx)(ot.h,{uri:e.uri});break;case"Audiobook":p=(0,A.jsx)(lt.p,{uri:e.uri});break;case"Episode":p=(0,A.jsx)(ct.b,{uri:e.uri});break;case"Playlist":p=(0,A.jsx)(ut.W,{uri:e.uri});break;default:return(0,Tt.k)(e),null}switch(e.__typename){case"Album":return(0,A.jsx)(it.h,{menu:p,children:(0,A.jsx)(nt,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isPlayable:!0,isAddable:!0,audioPreviewInLoop:!0,layout:rt.Carousel,renderFooter:()=>null,renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(st.t,{children:e.albumType===bt._m.Single?x.Ru.get("single"):x.Ru.get("card.tag.album")}),(0,A.jsx)("div",{className:Bt,children:(0,Pt.K)(e.artists).map(((e,t)=>[t>0&&x.Ru.getSeparator(),(0,A.jsx)(Z.N,{to:e.uri,stopPropagation:!0,children:(0,A.jsx)(s.E,{variant:"bodySmall",className:Dt,children:e.name})},e.uri)]))})]}),menu:p,logCardImpressions:u})},r);case"Audiobook":{const n=(0,jt.e)(e.accessInfo),l=!!n?()=>(d((0,C._3)(n)),{preventDefault:!0}):void 0;return(0,A.jsx)(ie.d,{dynamicColors:(0,vt.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),children:(0,A.jsx)(it.h,{menu:p,children:(0,A.jsx)(nt,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isAddable:!0,isPlayable:!0,audioPreviewInLoop:!1,layout:rt.AudioEpisode,onPlay:l,renderFooter:()=>{const t=e.rating?.averageRating,a=e.accessInfo?.signifier?.text,r=(e.description||"").replace(/<[^>]*>?/gm,""),n=(0,Lt.JO)(e.publishDate),o=n?new Date(n):void 0;return(0,A.jsxs)(A.Fragment,{children:[a&&(0,A.jsx)(s.E,{variant:"bodySmall",as:"div",semanticColor:"textBrightAccent",children:a}),o&&!isNaN(o.getTime())&&(0,A.jsx)(st.t,{semanticColor:"textBase",className:Ft,children:(0,Et.gD)(o)}),e.audiobookDuration&&!isNaN(e.audiobookDuration.totalMilliseconds)&&(0,A.jsx)(st.t,{semanticColor:"textBase",className:Ft,children:(0,A.jsx)(yt.d,{durationMs:e.audiobookDuration.totalMilliseconds})}),!0===t?.showAverage&&void 0!==t.average&&(0,A.jsxs)(st.t,{semanticColor:"textBase",className:Ft,children:[(0,A.jsx)(i.j,{size:"xsmall"})," ",x.Ru.formatNumber(t.average,{maximumFractionDigits:1})]}),(0,A.jsx)("span",{children:(0,A.jsx)(ft.N,{source:r??"",LinkComponent:Z.N})})]})},renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(st.t,{children:x.Ru.get("card.tag.audiobook")}),(0,A.jsx)("span",{children:e.authors?.[0]?.name})]}),menu:p,logCardImpressions:u})},r)})}case"Episode":{const n=e.mediaTypes?.includes(wt.C.Video),i=n&&m;return(0,A.jsx)(ie.d,{dynamicColors:(0,vt.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),children:(0,A.jsx)(it.h,{menu:p,children:(0,A.jsx)(nt,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,parentImages:l,color:c,isAddable:!0,isPlayable:!0,audioPreviewInLoop:!1,layout:i?rt.VideoEpisode:rt.AudioEpisode,renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,It.V)(e.contentRating)&&(0,A.jsx)(gt.U,{}),n?(0,A.jsx)(mt.T,{className:Ot}):(0,A.jsx)(st.t,{children:x.Ru.get("card.tag.episode")}),(0,A.jsx)("div",{className:Bt,children:"Podcast"===e.podcastV2.data.__typename?(0,A.jsx)(Z.N,{to:e.podcastV2.data.uri,stopPropagation:!0,children:(0,A.jsx)(s.E,{variant:"bodySmall",className:Ut,children:e.podcastV2.data.name})}):""})]}),renderFooter:()=>{const t=(0,Lt.JO)(e.releaseDate),a=t?new Date(t):void 0;return(0,A.jsxs)(A.Fragment,{children:[a&&!isNaN(a.getTime())&&(0,A.jsx)(st.t,{semanticColor:"textBase",className:Ft,children:(0,Et.gD)(a)}),!isNaN(e.duration.totalMilliseconds)&&(0,A.jsx)(st.t,{semanticColor:"textBase",className:Ft,children:(0,A.jsx)(yt.d,{durationMs:e.duration.totalMilliseconds})}),(0,A.jsx)("span",{children:(0,A.jsx)(ft.N,{source:e.description??"",LinkComponent:Z.N})})]})},menu:p,logCardImpressions:u})},r)})}case"Playlist":return(0,A.jsx)(it.h,{menu:p,children:(0,A.jsx)(nt,{index:t,shelfIndex:a,headerText:e.name,uri:e.uri,images:o,color:c,isAddable:!0,audioPreviewInLoop:!0,layout:rt.Carousel,isPlayable:!(0,xt.p)(e?.attributes),renderSubtitle:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(st.t,{children:x.Ru.get("card.tag.playlist")}),"User"===e.ownerV2.data.__typename&&(0,A.jsx)("div",{className:Bt,children:e.ownerV2.data.name})]}),renderFooter:()=>(0,A.jsx)(ft.N,{source:e.description??"",LinkComponent:Z.N,onLinkClick:e=>{e.stopPropagation()}}),menu:p,logCardImpressions:u})},r);default:return(0,Tt.k)(e),null}}const Wt=({icon:e})=>{switch(e){case"trending":return(0,A.jsx)(o.L,{size:"small"});case"briefcase":return(0,A.jsx)(l.o,{size:"small"});case"enhance":return(0,A.jsx)(c.M,{size:"small"});case"headphones":return(0,A.jsx)(u.r,{size:"small"});case"add-to-playlist":return(0,A.jsx)(d.u,{size:"small"});case"album":return(0,A.jsx)(m.I,{size:"small"});case"edit":return(0,A.jsx)(p.G,{size:"small"});case"lab":return(0,A.jsx)(g.X,{size:"small"});case"light-bulb":return(0,A.jsx)(h.N,{size:"small"});case"preview":return(0,A.jsx)(f.W,{size:"small"});case"star":return(0,A.jsx)(y.a,{size:"small"});default:return null}},Vt=({title:e,icon:t})=>(0,A.jsxs)("header",{className:_t,children:[e&&t&&(0,A.jsx)(Wt,{icon:t}),e&&(0,A.jsx)(s.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Mt,children:e})]});const zt=({spec:e,section:t,index:a})=>{const r=t.items.map(((e,t)=>(({item:e,index:t,shelfIndex:a})=>(0,Ge.vd)(e.content)&&function(e){switch(e.__typename){case"Album":case"Audiobook":case"Episode":case"Playlist":return!0;default:return!1}}(e.content.data)?(0,A.jsx)("div",{className:kt,children:(0,A.jsx)("div",{className:Nt,children:(0,A.jsxs)("div",{className:Rt,children:[(0,A.jsx)(Vt,{icon:e.recsplanation?.iconName,title:e.recsplanation.title?.transformedLabel}),(0,A.jsx)(Ht,{data:e.content.data,index:t,shelfIndex:a})]})})},t):null)({item:e,index:t,shelfIndex:a}))).filter(St.P);return 0===r.length?null:(0,A.jsx)(ht.x,{config:(0,te.s1)(te.yV.HOME_FEED_BASELINE),children:(0,A.jsx)(Ct.r,{spec:e.shelvesFactory(),children:(0,A.jsx)(dt.p,{id:t.uri,className:At,index:a,total:r.length,rowTruncationMethod:"floor",children:r})})})};var $t=a(68461),Gt=a(68355),Yt=a(92255),Kt=a(78505),Qt=a(32810);var qt=a(24281);var Jt=a(90224),Zt=a(55926),Xt=a(72750);const ea=()=>{const e=(t=(0,Jt.J)(),!(0,qt.w)(navigator.userAgent)&&(1===t.length||1===window.navigation?.entries().length));var t;const a=(0,Zt.c)()&&e,[n,s]=(0,r.useState)(a?(()=>{try{const e=window.innerHeight-Kt.uC-Kt.fO;return Math.ceil(e/Yt.Y)}catch(e){return e instanceof Error&&(0,Qt.fE)({metric_type:Gt.MetricTypes.COUNTER,tags:{message:e.message,source:"deriveLimit"},what:"dwp-lazy-shelves-error",value:1}),null}})():null),i=(e=>(0,r.useCallback)((()=>{try{e()}catch(e){e instanceof Error&&(0,Qt.fE)({metric_type:Gt.MetricTypes.COUNTER,tags:{message:e.message,source:"useHandleTrigger"},what:"dwp-lazy-shelves-error",value:1})}}),[e]))((0,r.useCallback)((()=>{n&&s(null)}),[n,s]));return((e,t)=>{(0,Xt.g)((()=>t("scroll")),{disabled:null===e})})(n,i),((e,t)=>{(0,r.useEffect)((()=>{if(null===e)return;const a=setTimeout((()=>t("timeout")),3e3);return()=>{clearTimeout(a)}}),[e,t])})(n,i),n};const ta=({spec:e,greeting:t,container:a,enableFeedBaseline:n})=>{const s=(0,r.useMemo)((()=>((e,t)=>{const a=[];let r=[],n=null;const s=e.sections.items.reduce(((e,a)=>{switch(a.data?.__typename){case"HomeFeedBaselineSectionData":if(!t)break;null===n&&(n={uri:`spotify:home:feed-baseline-unified-shelf:${e.length}`,items:[]},e.push({localOverrideTypename:"HomeFeedBaselineUnifiedShelf",localItem:n})),a.sectionItems.items.forEach((e=>{n&&n.items.push({uri:e.uri,content:e.content,recsplanation:a.data})}));break;default:n=null,e.push({localOverrideTypename:!1,item:a})}return e}),[]);return r=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[s[0],...a,...s.slice(1)]:[...a,...s],r})(a,n)),[a,n]),i=ea(),o=i?s.slice(0,i):s,l=function(e,t){const a=(0,r.useMemo)((()=>t?e.sections.items.reduce(((e,t)=>("HomeFeedBaselineSectionData"===t.data?.__typename&&(0,ze.M)(t,t.data).sectionItems.items.forEach((t=>{const{content:a}=t;if((0,Ge.vd)(a)){const{data:t}=a;"GenericError"!==t.__typename&&"NotFound"!==t.__typename&&"RestrictedContent"!==t.__typename&&"DiscoveryFeed"!==t.__typename&&e.push(t.uri)}})),e)),[]):[]),[e,t]),{data:n}=Ve({uris:a},{enabled:a.length>0,gcTime:$e.gO,staleTime:$e.jl});return(0,r.useMemo)((()=>Qe(a,n)),[n,a])}(a,n);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Ke.Provider,{value:l,children:o.map(((a,r)=>"HomeFeedBaselineUnifiedShelf"===a.localOverrideTypename?(0,A.jsx)(zt,{spec:e,section:a.localItem,index:r},`${r}-${a.localItem.uri}`):(0,A.jsx)($t.Q,{spec:e,greeting:t,section:a.item,index:r},`${r}-${a.item.uri}`)))})})}},60836:(e,t,a)=>{a.d(t,{f:()=>o});var r=a(30758),n=a(89737),s=a(99435),i=a(86070);const o=(0,r.memo)((({cardCount:e,showAll:t,withTitle:a})=>(0,i.jsx)(s._,{isLoading:!0,withTitle:a,showAll:t??!1,children:[...new Array(e).keys()].map(((e,t)=>(0,i.jsx)(n.u,{isLoading:!0},t)))})))},20829:(e,t,a)=>{a.d(t,{$I:()=>i,Qv:()=>s,R2:()=>n});var r=a(35035);const n=(e,t)=>{const a=e.contextMenuButtonFactory().hitUiReveal();t.logInteraction(a)},s=(e,t,a,n)=>{let s;e===r.NV.ADD?s=t.hitDownload({itemToDownload:n}):e===r.NV.REMOVE?s=t.hitRemoveDownload({itemToRemoveFromDownloads:n}):e===r.NV.NO_PERMISSION&&(s=t.hitUiReveal?.()),s&&a.logInteraction(s)},i=({isPlaying:e,isActive:t,spec:a,logger:r,uri:n})=>{let s;return s=e?a.hitPause({itemToBePaused:n}):t?a.hitResume({itemToBeResumed:n}):a.hitPlay({itemToBePlayed:n}),r.logInteraction(s)}},15273:(e,t,a)=>{a.d(t,{b:()=>i});var r=a(41526),n=a(37178),s=a(99644);const i=e=>{const t=(0,n.W)();(0,s.w)({refOrElement:e,observeOnly:"width",observeOnMount:!0,onResize:()=>{const a=e.current?.querySelectorAll(":scope > [data-shelf='carousel']");if(a?.length)for(const e of a)if(e instanceof HTMLElement){(0,r.X)(e,t)?e.removeAttribute("data-shelf-notatedge"):e.setAttribute("data-shelf-notatedge","true")}}})}},95320:(e,t,a)=>{a.d(t,{v:()=>i});var r=a(7069),n=a(45627),s=a(5805);function i(e){if("string"==typeof e)return(0,r.g)(e);const t=e;return(0,s.v)(t)||(0,n.p)(t)}},68204:(e,t,a)=>{a.d(t,{g:()=>r.g});var r=a(88882)},31650:(e,t,a)=>{a.d(t,{v:()=>r.v});var r=a(95320)},44859:(e,t,a)=>{a.d(t,{RT:()=>x,Gg:()=>I,Eg:()=>P});var r=a(30758),n=a(18254),s=a(97500),i=a.n(s),o=a(21743),l=a(88308),c=a(79126),u=a(91008),d=a(97040),m=a(59390),p=a(99859),g=a(2679),h=a(16157);const f="huMHH_FySIW5UhSrJfy8",y="mmpwfbCOORaWT_xuMBIx";var v=a(86070);let x=function(e){return e.Loop="loop",e.LoopOnHover="loopOnHover",e.LoopOnPlayback="loopOnPlayback",e}({});function C(e){return!!e&&(0,u.bpK)(e)}function b(e){return!!e}function P(e,t){return C(t)&&b(e)}function j(e,t,a,r,n){if(!C(a))return null;if(!b(e))return null;const s={};return n&&(s.position=Math.trunc(8e3*Math.random())),(0,c.a2)({fileId:e,uri:a,url:t??void 0,poster:r??void 0,mediaType:"video",format:{}.DEBUG_OVERTURE_WITHOUT_EME?"GENERIC_MEDIA":"MANIFEST_ID",options:s,logData:{playbackId:(0,p.E)()}})}const I=({canvasUri:e,fileId:t,canvasUrl:a,canvasType:s,canvasThumbnailUrl:u,overridePlatformId:p,playerContainerClass:C,children:b,className:P,playbackType:I=x.LoopOnHover,onError:L=(()=>{}),mouseHoverRef:w=null,useContainerMouseOverEvents:S=!1,allowAspectRatioFix:T=!1,onLoaded:E=(()=>{}),loadingStrategy:A="lazy"})=>{const k=(0,r.useRef)(null),{ref:N,inView:R}=(0,o.Wx)({triggerOnce:!0}),_=(0,m.S)([k,N]),M=(0,r.useMemo)((()=>({disallowProtectedTracks:!0,enableWithoutEME:!0,videoPlayerContainer:`.${C}`,audioPlayerContainer:`.${C}`})),[C]),U=(0,r.useCallback)((()=>!1),[]),D=(0,d.H)(M,U,U,U,p),[O,F]=(0,r.useState)(!1),[B,H]=(0,r.useState)(!1),[W,V]=(0,r.useState)(!1),{isPlaying:z}=(0,g.GK)();(0,l.Ij)((()=>{if(!R&&"lazy"===A)return;const r=j(t,a,e,u,s===h.PJ.VideoLoopingRandom);return r?(D.playTracks([r],{paused:I===x.LoopOnHover||I===x.LoopOnPlayback&&!z,muted:!0,loop:!0}),D.on(c.LW.TRACK_LOADED,(()=>{const e=document.getElementsByClassName(C),t=e[0]?.querySelector("video");if(t&&k.current){if(k.current.appendChild(t),T){t.videoWidth/t.videoHeight>9/16&&H(!0)}t.autoplay=I===x.LoopOnPlayback&&z||I===x.Loop}F(!0),E()})),D.on(c.LW.ERROR,(e=>{L(e.data.error),V(!1),(0,n.Cp)(e.data.error)})),D.on(c.LW.PLAYING,(()=>{V(!0)})),D.on(c.LW.PAUSED,(()=>{V(!1)})),D.on(c.LW.STOPPED,(()=>{V(!1)})),()=>{F(!1),D.stop(),D.removeAllListeners()}):void 0}),[t,e,R,A]);const $=(0,r.useRef)(null),G=(0,r.useRef)(!1),Y=(0,r.useCallback)((()=>{G.current=!0,$.current&&clearTimeout($.current),O&&D.resume()}),[O,D]),K=(0,r.useCallback)((()=>{G.current=!1,$.current&&clearTimeout($.current),$.current=setTimeout((()=>{O&&D.pause()}),300)}),[O,D]);return(0,r.useEffect)((()=>{const e=w?.current;if(e&&I===x.LoopOnHover)return e.addEventListener("mouseenter",Y),e.addEventListener("mouseleave",K),e.addEventListener("mousemove",Y,{once:!0}),()=>{e.removeEventListener("mouseenter",Y),e.removeEventListener("mousemove",Y),e.removeEventListener("mouseleave",K)}}),[I,Y,K,z,w]),(0,r.useEffect)((()=>{I===x.LoopOnHover&&!G.current&&W&&D.pause()}),[w,D,I,O,W]),(0,r.useEffect)((()=>{I===x.LoopOnPlayback&&O&&(z?D.resume():D.pause())}),[z,O,D,I]),(0,v.jsx)("div",{className:i()(C,P,f,{[y]:B}),onMouseEnter:()=>{S?Y():G.current=!0},onMouseLeave:()=>{S?K():G.current=!1},ref:_,children:b})}},72700:(e,t,a)=>{a.d(t,{f:()=>c});var r=a(14343),n=a(11472),s=a(6683),i=a(26921),o=a(38501),l=a(95175);const c=()=>{const e=(0,i.f)(),t=(0,r.NC)(o.HO),a=(0,r.NC)(o.wWq),c={timeZone:(0,s.Ff)(),sp_t:(0,l.v8)("sp_t")??"",facet:e,sectionItemsLimit:a??10,enableDynamicColors:t},u={gcTime:s.gO,staleTime:s.jl};return(0,n.B8)(c,u)}},39745:(e,t,a)=>{a.d(t,{R:()=>n,Z:()=>r});const r="desktop-home-watch-feed",n="desktop-watch-feed"},15011:(e,t,a)=>{a.d(t,{_:()=>s});var r=a(14343),n=a(38501);const s=()=>(0,r.NC)(n.p5T,{loadingValue:!1})},52061:(e,t,a)=>{a.d(t,{c:()=>s});var r=a(12032),n=a(30157);function s(){return(0,n.N)(r.W)}},97040:(e,t,a)=>{a.d(t,{H:()=>i});var r=a(30758),n=a(29195),s=a(52061);const i=(e,t,a,i,o)=>{const l=(0,s.c)(),c=(0,n.mv)(),u=(0,r.useRef)(a);u.current=a;const d=(0,r.useRef)(t);d.current=t;const m=(0,r.useRef)(i);m.current=i;const p=(0,r.useMemo)((()=>{const t=u.current?(...e)=>!!u.current&&u.current(...e):void 0,a=d.current?(...e)=>{d.current&&d.current(...e)}:void 0,r=m.current?(...e)=>{m.current&&m.current(...e)}:void 0;return l.createOvertureInstance(e,a,t,r,o,c.version)}),[l,e,c.version,o]);return(0,r.useEffect)((()=>()=>{l.deleteOvertureInstance(p),p.removeAllListeners(),p.stop()}),[p,l]),p}},56970:(e,t,a)=>{a.d(t,{L$:()=>l,Q2:()=>c,hV:()=>o,j2:()=>i,pr:()=>d,qc:()=>s,rO:()=>u});var r=a(16157),n=a(13155);const s=({albumArtists:e,albumName:t,albumType:a,shouldLocalize:s,i18n:i})=>{if(!a||!t||!e)return"";const o=a!==r._m.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(a):a,l=(0,n.C)(a),c=`${t} - ${o} by ${e} | Spotify`,u=i.get("i18n.meta.album.title",t,l,e);return s?u:c},i=({i18n:e,shouldLocalize:t,artistTitleTagExperimentVariants:a={artistTitleTagSongsVariantEnabled:!1,artistTitleTagSongsAndMoreVariantEnabled:!1,artistTitleTagSongsAndMusicVariantEnabled:!1},artistName:r})=>{if(!r)return"";const{artistTitleTagSongsVariantEnabled:n,artistTitleTagSongsAndMoreVariantEnabled:s,artistTitleTagSongsAndMusicVariantEnabled:i}=a;if(t){if(n)return e.get("i18n.meta.artist.title.artist-songs",r);if(i)return e.get("i18n.meta.artist.title.artist-songs-and-music",r);if(s)return e.get("i18n.meta.artist.title.artist-songs-and-more",r)}return`${r} | Spotify`},o=({showOrAudiobookName:e,type:t})=>e?`${e} | ${t} on Spotify`:"",l=({episodeOrChapterName:e,showOrAudiobookName:t,type:a})=>e&&t?`${e} - ${t} | ${a} on Spotify`:"",c=({playlistName:e,userName:t,isSpotifyOwned:a=!1,spotifyPlaylistTitleTagVariants:r={spotifyPlaylistTitleTagVariant1Enabled:!1,spotifyPlaylistTitleTagVariant2Enabled:!1,spotifyPlaylistTitleTagVariant3Enabled:!1},userPlaylistTitleTagVariants:n={userPlaylistTitleTagVariant1Enabled:!1,userPlaylistTitleTagVariant2Enabled:!1,userPlaylistTitleTagVariant3Enabled:!1},count:s})=>{if(!e||!t)return"";const{spotifyPlaylistTitleTagVariant1Enabled:i,spotifyPlaylistTitleTagVariant2Enabled:o,spotifyPlaylistTitleTagVariant3Enabled:l}=r,{userPlaylistTitleTagVariant1Enabled:c,userPlaylistTitleTagVariant2Enabled:u,userPlaylistTitleTagVariant3Enabled:d}=n;if(s){const r=s>1?"Songs":"Song",n=s>1?"songs":"song";if(a){if(i)return`${e} - ${s} ${r} | Spotify Playlist`;if(o)return`${e} - Top ${s} ${r} | Spotify Playlist`;if(l)return`${e} - ${s} ${r} - playlist by Spotify`}if(c)return`${e} - playlist by ${t} - ${s} ${n} | Spotify`;if(u)return`${e} - ${s} ${n} - playlist by ${t} | Spotify`;if(d)return`${e} - ${s} ${n} | Spotify`}return`${e}${a?"":` - playlist by ${t}`} | ${a?"Spotify Playlist":"Spotify"}`},u=({i18n:e,trackArtistsList:t,trackName:a,shouldLocalize:r,disabled:n=!1})=>{if(!t||!a)return"";let s=`${a} - song and lyrics by ${t} | Spotify`,i=e.get("i18n.meta.track-lyrics.title",a,t);return n&&(s=`${a} - song by ${t} | Spotify`,i=e.get("i18n.meta.track.title",a,t)),r?i:s},d=({i18n:e,shouldLocalize:t})=>{const a=e.get("i18n.meta.home.title");return t?a:"Spotify - Web Player: Music for everyone"}}}]);
//# sourceMappingURL=home-v2.js.map