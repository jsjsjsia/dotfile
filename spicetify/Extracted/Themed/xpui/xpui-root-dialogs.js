"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1206],{15552:(e,t,a)=>{a.d(t,{h:()=>u});var s=a(30758),r=a(31417),n=a(10994),i=a(59521),o=a(42162),l=a(44672),c=a(78774),d=a(86070);const u=s.memo((function({uri:e}){const{spec:t}=(0,c.o)(e);return(0,d.jsx)(l.pZ,{value:"generic",children:(0,d.jsx)(n.W,{children:(0,d.jsx)(o.h,{divider:"before",children:(0,d.jsx)(i.m,{spec:t,uri:e,displayText:r.Ru.get("context-menu.copy-generic-link")})})})})}))},48570:(e,t,a)=>{a.d(t,{C:()=>c});var s=a(97500),r=a.n(s),n=a(44074);const i="main-dropDown-dropDown",o="main-dropDown-isSafari";var l=a(86070);const c=({value:e,id:t,children:a,disabled:s,onSelect:c,className:d,dir:u})=>(0,l.jsx)("span",{className:d,children:(0,l.jsx)("select",{className:r()(i,{[o]:(0,n.n)()}),value:e?.toString(),id:t,disabled:s,onBlur:()=>{},onChange:e=>{c(e.target.value)},dir:u,children:a})})},84299:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(31417),r=a(86070);const n=({fill:e="#fff",width:t=32,height:a=32})=>(0,r.jsxs)("svg",{width:t,height:a,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:s.Ru.get("close")}),(0,r.jsx)("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:e,fillRule:"evenodd"})]})},14442:(e,t,a)=>{a.d(t,{M:()=>c});var s=a(30758),r=a(97500),n=a.n(r);const i="JCoroLSoJO7iJzBU1n2W",o="aOxbsZDBlepfQptv_EfI";var l=a(86070);const c=({children:e,isOpen:t,onRequestClose:a,className:r,animated:c=!1,shouldCloseOnEsc:d=!0,shouldCloseOnBackdropClick:u=!0,...m})=>{const g=(0,s.useRef)(null);var p;return function(e,t,a){(0,s.useEffect)((()=>{const s=t.current,r=t=>{t.preventDefault(),e&&a&&a()};return s?.addEventListener("cancel",r),()=>{s?.removeEventListener("cancel",r)}}),[t,a,e])}(d,g,a),p=g,(0,s.useEffect)((()=>{const e=p.current;return()=>{e?.close()}}),[p]),(0,s.useEffect)((()=>{t?g.current?.showModal():g.current?.close()}),[t]),(0,l.jsx)("dialog",{ref:g,className:n()(i,r,{[o]:c}),onClick:e=>{const t=e.target;t instanceof HTMLElement&&"DIALOG"===t.nodeName&&u&&a?.()},...m,children:e})}},98626:(e,t,a)=>{a.r(t),a.d(t,{RootDialogs:()=>Uu});var s=a(30758),r=a(62411),n=a(14343),i=a(71416),o=a(422),l=a(45415),c=a(31417),d=a(6045),u=a(44971);const m="tJeH2W2to1A7d9tWBRoi",g="oNjdJbGQ9ypf7KR0nYJW",p="ibrRlYShsgThsh8VNS8Q",h="Yl9jzsnP8e_5i9me3h7H",b="vxBybZOmHdDF_nmLE4sa";var x=a(86070);const f=(0,s.memo)((function(){const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.aboutRecs)),a=(0,s.useCallback)((()=>{e((0,d.oK)())}),[e]),n=`https://about-recommendations.spotify.com/?bg=${i.wdA.substr(1)}&hideHeader=true`;return(0,x.jsx)(u.A,{animated:!0,isOpen:t,onRequestClose:a,contentLabel:c.Ru.get("context-menu.about-recommendations"),children:(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:g,children:c.Ru.get("context-menu.about-recommendations")}),(0,x.jsx)("div",{className:p,children:(0,x.jsx)("iframe",{className:h,title:c.Ru.get("context-menu.about-recommendations"),src:n})}),(0,x.jsx)("button",{"aria-label":c.Ru.get("close_button_action"),className:b,onClick:a,children:(0,x.jsx)(l.M,{size:"medium"})})]})})}));var R=a(99921),y=a(93523),E=a(97500),v=a.n(E),k=a(44481);const C=({className:e})=>(0,x.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,x.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,x.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,x.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]});function j(e,t,a,s){if(a<=0||s<=0||s>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};const r=e*t,n=1/s*a,i=Math.sqrt(r/n);return{height:i,width:i*a,parentHeight:e,parentWidth:t}}var S=a(22984);const N="SVnAziPF2z_cgAGrp6He",w="miG_SXrw265mkozdEHrJ",O="RWLySPhsOTyK2EsAGUgx",A="X_vuuyeQDD6IWI4aIE6k",_="VdyeU78LKQdX8Dclnfxr",I="Z12I3N4OnNvzRSNKOeUn",T="IDHZCFcj1ynmYu6Sm5SR",L="UmY163JiUcgJt2MKNyGW",D="SYKOtPBDhPSs6zGwbk6A";var P=a(98712);const M={[P.E.XSMALL]:I,[P.E.SMALL]:I,[P.E.MEDIUM]:T,[P.E.LARGE]:L,[P.E.XLARGE]:L},U=({image:e,title:t,description:a,primaryButton:s,secondaryButton:r,renderExtraInfo:n,style:i,className:o,size:l=P.E.SMALL})=>{const c="string"==typeof t?(0,x.jsx)("h2",{className:O,children:t}):(0,x.jsx)("div",{className:O,children:t});let d,u;return a&&(d="string"==typeof a?(0,x.jsx)("p",{className:A,children:a}):(0,x.jsx)("div",{className:A,children:a})),r&&(u=(0,x.jsx)("div",{className:D,children:r})),(0,x.jsxs)("div",{className:v()(`${N} ${M[l]}`,o),style:i,"data-testid":"dialog-root",children:[e&&(0,x.jsx)("div",{className:_,children:(0,x.jsx)(S._,{loading:"lazy",src:e})}),(0,x.jsxs)("div",{className:w,children:[c,d,s,u,n&&n()]})]})},B="dzS9k6yn4XzF3jWcS3W2",F="ezHLQVkVclgu_n15ybG6",G="gQ3lUcmizympex29IHL7",V="VDUUJg30Ewzy9OP54arn",W={[P.E.SMALL]:1,[P.E.MEDIUM]:.72,[P.E.LARGE]:1.82},z={[P.E.SMALL]:0,[P.E.MEDIUM]:600,[P.E.LARGE]:1024},H=({image:e,onConfirm:t,backgroundColor:a})=>{const r=(e=>Object.keys(z).reverse().find((t=>e>=z[t]?t:null)))(window.innerWidth),{width:n,height:i,parentHeight:o}=function(e,t){const[a,r]=(0,s.useState)((()=>j(window.innerHeight,window.innerWidth,e,t))),n=(0,s.useRef)(),i=(0,s.useCallback)((()=>{r(j(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,s.useEffect)((()=>(n.current||(r(j(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",i),n.current=!0),()=>{n.current&&(r(j(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",i),n.current=!1)})),[e,t,i]),a}(W[r],.3333333333333333),l=a?{backgroundColor:a}:{},d=((e,t,a,s)=>e===P.E.SMALL?{width:"100vw",height:"100vh"}:e===P.E.MEDIUM&&s<750||e===P.E.LARGE&&s<520?{width:"inherit",height:"inherit"}:{width:`${Math.ceil(t)}px`,height:`${Math.ceil(a)}px`})(r,n,i,o),u=(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{className:F,children:c.Ru.get("age.restriction.explicitContent")}),(0,x.jsx)(C,{className:G})]}),m=(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:c.Ru.get("age.restriction.continue")});return(0,x.jsx)(U,{className:v()(B,{[V]:1===W[r]}),style:{...d,...l},image:e,title:c.Ru.get("age.restriction.confirmAge"),description:u,primaryButton:m,size:r})},K="J2uBhFKAVeDnSUb6Diq_",q="dlCbZFZLaxVOGbVUleiV",Y=()=>{const e=(0,r.wA)(),{image:t,backgroundColor:a,providerUrl:s}=(0,r.d4)((({ageRestriction:e})=>({image:"",backgroundColor:e.dialog.backgroundColor,providerUrl:e.dialog.providerUrl})),((e,t)=>e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl));return(0,x.jsxs)("div",{className:K,children:[(0,x.jsx)(H,{image:t,onConfirm:()=>{window.location.assign(s)},backgroundColor:a}),(0,x.jsx)("div",{className:q,children:(0,x.jsx)(y.H,{onClick:()=>{e((0,R.Rb)())},children:c.Ru.get("close")})})]})},Q=()=>{const e=(0,r.wA)(),t=(0,r.d4)((({ageRestriction:e})=>e.isOpen));return(0,x.jsx)(u.A,{animated:!0,onRequestClose:()=>{e((0,R.Rb)())},contentLabel:c.Ru.get("age.restriction.confirmAge"),isOpen:t,children:(0,x.jsx)(Y,{})})};var J=a(40935),Z=a(98293),$=a(53133),X=a(36061),ee=a(46441),te=a(98822);const ae="main-keyboardShortcutsHelpModal-container",se="gPDYH11Cr1B2ZtS9z0P8",re="IIQWD0tGOaagAN9uP_4h",ne="LdrQgiV3Kav0IR6Oqsej",ie=(0,s.memo)((function(){const e=(0,r.wA)(),{user:t}=(0,r.d4)(X.Ht),{name:a,uri:n,isOpen:i}=(0,r.d4)((({ui:e})=>e.blockUserDialog)),{enqueueSnackbar:l}=(0,$.d)(),d=(0,te.A)(),m=(0,s.useCallback)((async()=>{if(t&&n)try{await(0,ee.rn)(d,{currentUserUri:t?.uri,uri:n}),e((0,Z.xF)()),l(c.Ru.get("feedback.block-user"))}catch(t){throw e((0,Z.xF)()),t}}),[t,n,d,e,l]),g=(0,s.useCallback)((()=>{e((0,Z.xF)())}),[e]),p=(0,s.useCallback)((()=>{e((0,Z.xF)())}),[e]);return(0,x.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:p,contentLabel:c.Ru.get("block-user.dialog.title",a),isOpen:i,children:(0,x.jsxs)("div",{className:ae,children:[(0,x.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:se,children:c.Ru.get("block-user.dialog.title",a)}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",className:re,paddingBottom:J.lT,children:c.Ru.get("block-user.dialog.description",a)}),(0,x.jsxs)("div",{className:v()("encore-light-theme",ne),children:[(0,x.jsx)(y.H,{buttonSize:y.H.md,onClick:g,children:c.Ru.get("block-user.dialog.cancel")}),(0,x.jsx)(k.$,{onClick:m,buttonSize:k.$.md,children:c.Ru.get("block-user.dialog.block")})]})]})})}));var oe=a(85387),le=a(91008),ce=a(26344),de=a(89402),ue=a(46069);const me=(0,s.memo)((function(){const e=(0,r.wA)(),t=(0,de.W)(),{removeFolder:a}=(0,ue.Z)(),n=(0,oe.Zp)(),i=(0,oe.zy)(),{uri:o,onDeleteCallback:l}=(0,r.d4)((({ui:e})=>e.deleteFolderDialog)),d=(0,s.useCallback)((()=>{e((0,Z.c$)())}),[e]),u=(0,s.useCallback)((()=>{o&&(t({targetUri:o,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),a(o),d(),(0,le.o_h)(o)?.toURLPath().endsWith(i.pathname)&&n("/",{replace:!0}),l&&l())}),[o,t,a,d,i.pathname,l,n]);return(0,x.jsx)(ce.T,{"aria-label":c.Ru.get("folder.delete-header"),titleText:c.Ru.get("folder.delete-header"),onConfirm:u,onClose:d,confirmText:c.Ru.get("contextmenu.delete"),confirmLabel:c.Ru.get("folder.delete-header"),cancelText:c.Ru.get("queue.cancel-button")})}));var ge=a(24533),pe=a(11893);const he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},be=/[&<>"']/g,xe=RegExp(be.source);const fe=Object.values(he);RegExp(`${fe.join("|")}`,"g"),RegExp(`${fe.join("|")}`);const Re=(0,s.memo)((function({uri:e}){const t=(0,oe.Zp)(),a=(0,oe.zy)(),n=(0,r.wA)(),i=(0,de.W)(),[,o]=(0,ge.A)(e),l=(0,pe.J)(e),d=(0,s.useCallback)((()=>{i({targetUri:e,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),o(!1),n((0,Z._P)()),(0,le.B2u)(e,a.pathname)&&t("/",{replace:!0})}),[i,e,o,n,a.pathname,t]),u=(0,s.useCallback)((()=>{n((0,Z._P)())}),[n]);return l&&(0,x.jsx)(ce.T,{"aria-label":c.Ru.get("playlist.delete",l.name),titleText:c.Ru.get("playlist.delete-title",l.name),descriptionText:c.Ru.get("playlist.delete-description",(m=l.name,m&&xe.test(m)?m.replace(be,(e=>e in he?he[e]:e)):m)),onConfirm:d,onClose:u,confirmText:c.Ru.get("contextmenu.delete"),confirmLabel:c.Ru.get("playlist.delete",l.name),cancelText:c.Ru.get("queue.cancel-button"),allowHTML:!0});var m})),ye=()=>{const e=(0,r.d4)((e=>e.ui.deletePlaylistDialog.uri));return e?(0,x.jsx)(Re,{uri:e}):null},Ee=(0,s.lazy)((async()=>{const{AboutSpotifyModal:e}=await a.e(8493).then(a.bind(a,26431));return{default:e}})),ve=(0,s.lazy)((async()=>await a.e(8493).then(a.bind(a,89758))));function ke(){return(0,x.jsxs)(s.Suspense,{fallback:null,children:[(0,x.jsx)(Ee,{}),(0,x.jsx)(ve,{})]})}var Ce=a(42551),je=a(2963),Se=a(29074);const Ne="main-duplicateTrackModal-container",we="main-duplicateTrackModal-title",Oe="main-duplicateTrackModal-description",Ae="main-duplicateTrackModal-buttonContainer",_e=(0,Ce.Mz)((e=>e.duplicateTracks),(e=>{const t=!!e.uri;return{...e,onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris}})),Ie=(0,s.memo)((function(){const e=(0,r.wA)(),t=(0,Se.m)(),{isOpen:a,playlistName:n,playlistUri:i,uris:l=[],onlyOneTrack:d,position:m={after:"end"},newUris:g=[]}=(0,r.d4)(_e),p=g?.length,h=!d&&p,b=(0,s.useCallback)((()=>{h&&t.add(i,g,m),e((0,je.Qo)())}),[t,h,g,m,i,e]),f=(0,s.useCallback)((()=>{t.add(i,l,m),e((0,je.Qo)())}),[t,l,m,i,e]),R=(0,s.useCallback)((()=>{e((0,je.Qo)())}),[e]);let E;return E=h?c.Ru.get("duplicate.tracks.someAlreadyAddedDescription",n):d?c.Ru.get("duplicate.tracks.oneAlreadyAdded",n):c.Ru.get("duplicate.tracks.allAlreadyAdded",n),(0,x.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:R,contentLabel:c.Ru.get("duplicate.tracks.alreadyAdded"),isOpen:a,children:(0,x.jsxs)("div",{className:Ne,children:[(0,x.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:we,children:h?c.Ru.get("duplicate.tracks.someAlreadyAdded"):c.Ru.get("duplicate.tracks.alreadyAdded")}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",className:Oe,paddingBottom:J.lT,children:E}),(0,x.jsxs)("div",{className:v()("encore-light-theme",Ae),children:[(0,x.jsx)(y.H,{onClick:f,children:h?c.Ru.get("duplicate.tracks.addAll"):c.Ru.get("duplicate.tracks.addAnyway")}),(0,x.jsx)(k.$,{onClick:b,children:h?c.Ru.get("duplicate.tracks.addNewOnes"):c.Ru.get("duplicate.tracks.dontAdd")})]})]})})}));var Te=a(31186),Le=a(5854),De=a(74699),Pe=a(1120),Me=a(55968),Ue=a(48570),Be=a(84029),Fe=a(80870);let Ge=function(e){return e[e.PODCAST_AUDIO=0]="PODCAST_AUDIO",e[e.PODCAST_VIDEO=1]="PODCAST_VIDEO",e[e.TRACK=2]="TRACK",e[e.PLAYLIST=3]="PLAYLIST",e[e.ARTIST=4]="ARTIST",e[e.ALBUM=5]="ALBUM",e}({});const Ve=[1,60,3600],We=[3600,60,1],ze={seconds:NaN,humanString:"-:--"};function He(e){if(!isFinite(e))return ze.humanString;let t=Math.round(e);return We.reduce(((e,a,s)=>{const r=0===e.length?1:2;if(t>=a||e.length>0||s===Ve.length-2){const s=Math.floor(t/a);t-=s*a,e.push(s.toString().padStart(r,"0"))}return e}),[]).join(":")}function Ke(e){let t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){const a=e.split(":");a.length<=Ve.length&&(t=a.reverse().reduce(((e,t,a)=>e+=function(e){const t=parseInt(e,10);return t>=0?t:NaN}(t)*Ve[a]),0))}return isNaN(t)?ze:{seconds:t,humanString:He(t)}}var qe=a(44672),Ye=a(85505),Qe=a(57776),Je=a(59147);const Ze=new Qe.l("fetchExtractedColorAndImageForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),$e=new Qe.l("fetchExtractedColorAndImageForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),Xe=new Qe.l("fetchExtractedColorAndImageForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),et=new Qe.l("fetchExtractedColorAndImageForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),tt=new Qe.l("fetchExtractedColorAndImageForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),at=new Qe.l("fetchExtractedColorAndImageForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),st=new Qe.l("fetchExtractedColorForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),rt=new Qe.l("fetchExtractedColorForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),nt=new Qe.l("fetchExtractedColorForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),it=new Qe.l("fetchExtractedColorForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ot=new Qe.l("fetchExtractedColorForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),lt=new Qe.l("fetchExtractedColorForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null);var ct=a(81834),dt=a(63096);const ut={artist:rt,album:st,episode:nt,playlist:it,"playlist-v2":it,show:ot,track:lt};function mt(e){return e?.extractedColors?.colorDark.hex}const gt={artist:$e,album:Ze,episode:Xe,playlist:et,"playlist-v2":et,show:tt,track:at};function pt(e){return!!e}function ht(e){return!!e}function bt(e){return!(!e||0===Object.keys(e).length)&&"Episode"===e.__typename}function xt(e){return!!e}function ft(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function Rt(e){return!(!e||0===Object.keys(e).length)&&"Audiobook"===e.__typename}function yt(e){return!!e}var Et=a(62270),vt=a(41031),kt=a(7307),Ct=a(33234);const jt="main-embedWidgetGenerator-container",St="main-embedWidgetGenerator-contentCode",Nt="main-embedWidgetGenerator-visible",wt="main-embedWidgetGenerator-code",Ot="main-embedWidgetGenerator-timestampInput",At="main-embedWidgetGenerator-content",_t="main-embedWidgetGenerator-contentHeader",It="main-embedWidgetGenerator-contentFooter",Tt="main-embedWidgetGenerator-contentIframe",Lt="main-embedWidgetGenerator-copyWrapper",Dt="main-embedWidgetGenerator-copyBtn",Pt="main-embedWidgetGenerator-darkControl",Mt="main-embedWidgetGenerator-widthField",Ut="main-embedWidgetGenerator-tooltipInitiator",Bt="main-embedWidgetGenerator-tooltip",Ft="main-embedWidgetGenerator-transControl",Gt="main-embedWidgetGenerator-header",Vt="main-embedWidgetGenerator-closeBtn",Wt="main-embedWidgetGenerator-theme",zt="main-embedWidgetGenerator-themeDescription",Ht="main-embedWidgetGenerator-themeRadio",Kt="main-embedWidgetGenerator-active",qt="main-embedWidgetGenerator-terms",Yt="main-embedWidgetGenerator-dimensionsContainer",Qt="main-embedWidgetGenerator-dimensionLabel",Jt="main-embedWidgetGenerator-dimensionField",Zt="main-embedWidgetGenerator-crossSep",$t="main-embedWidgetGenerator-startAt",Xt="main-embedWidgetGenerator-loadingIndicator",ea=352,ta="100%",aa={frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"},sa={disallow:{timestamp:!0,theme:!1,width:!1},defaults:{theme:"1",height:ea,width:ta},theme:[["1",null],["0","#282828"]],height:[[ea,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},ra={[Ge.PODCAST_AUDIO]:{disallow:{timestamp:!1,theme:!1,width:!1},defaults:{theme:"1",height:ea,width:ta},theme:[["1",null],["0","#282828"]],height:[[ea,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},[Ge.PODCAST_VIDEO]:{disallow:{timestamp:!1,theme:!1,width:!0},defaults:{theme:"1",height:351,width:624},theme:[["1",null],["0","#282828"]],height:[[351,"normal"],[279,"compact"]],constraints:{width:{min:400,max:700,minPercentage:40,maxPercentage:100}}},[Ge.TRACK]:sa,[Ge.PLAYLIST]:sa,[Ge.ARTIST]:sa,[Ge.ALBUM]:sa},na={disallow:{timestamp:!0,theme:!0,width:!0},defaults:{theme:"1",height:ea,width:ta},theme:[],height:[],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},ia=({uri:e,currentTrackUri:t,currentPosition:a,isOpen:r,entityType:n})=>{const i=(0,s.useMemo)((()=>(0,le.o_h)(e)),[e]),d=t===e,m=(0,Fe.n)(n),{search:g}=(0,oe.zy)(),[p,h]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[R,E]=(0,s.useState)(null),[C,j]=(0,s.useState)(null),[S,N]=(0,s.useState)(!1),[w,O]=(0,s.useState)(!1),[A,_]=(0,s.useState)(d?a??0:0),[I,T]=(0,s.useState)(!0),[L,D]=(0,s.useState)(!1),[P,M]=(0,s.useState)(c.Ru.get("ewg.copy")),U=null!==p?ra[p]:na,B=(0,Et.T)(),F=function(e,t=Ye.l0o){const{request:a}=(0,s.useContext)(ct.j),[r,n]=(0,s.useState)(t);return(0,s.useEffect)((()=>{(async()=>{const t=(0,le.o_h)(e);if(!t)return;const s=ut[t.type];if(!s)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const r=await a(s,{uri:t.toURI()}),{albumUnion:i,artistUnion:o,episodeUnionV2:l,playlistV2:c,podcastUnionV2:d,trackUnion:u}=r?.data||{};pt(i)?n(mt(i.coverArt)):ht(o)?n(mt(o.visuals?.avatarImage)):bt(l)?n(mt(l.coverArt)):xt(c)?n(mt(c.images?.items?.[0])):ft(d)||Rt(d)?n(mt(d?.coverArt)):yt(u)&&n(mt(u.albumOfTrack?.coverArt))})()}),[e,a]),r}(e,"#FFF"),G=(0,de.W)(),V=(0,s.useRef)(null),W=(0,s.useRef)(null),z=(0,s.useContext)(Be.wv),H=(0,s.useCallback)((()=>{z({type:"close"})}),[z]),K=()=>{H(),G({type:"click",intent:"close"})},q=()=>{if(!W?.current)return;const e=W.current.value;if(null!==p){const{constraints:t}=ra[p],[a,s]=function(e,t){const a=parseInt(e.replace(/px|%$/,""),10);if(Number.isFinite(a)){if(-1!==e.indexOf("px")){const e=Math.max(t.min,Math.min(t.max,Math.round(a)));return[`${e}px`,e.toString()]}const s=Math.max(t.minPercentage,Math.min(t.maxPercentage,Math.round(a)));return[`${s}%`,`${s}%`]}return["100%","100%"]}(e,t.width);W.current.value=a,j(s)}},Y=()=>{if(V?.current){const e=Ke(V.current.value);V.current.value=e.humanString,e.seconds!==A&&(T(!0),_(e.seconds))}};(0,s.useEffect)((()=>{if(p===Ge.PODCAST_VIDEO&&R){const e=parseInt(R,10);j(351===e?624..toString():496..toString())}}),[R,p]),(0,s.useEffect)((()=>{(async()=>{const t=i?.type;if(t===le.NQG.EPISODE){const t=await B.getEpisodeOrChapter(e);return t.type===kt.c.EPISODE&&t.mediaTypes?.includes(vt.Cx.Video)?h(Ge.PODCAST_VIDEO):h(Ge.PODCAST_AUDIO)}if(t===le.NQG.SHOW){const t=n===kt.c.SHOW?await B.getContents(e,{offset:0,limit:1}):await B.getBookContents(e,{offset:0,limit:1,doRefreshSubscription:!1});if(t.items.length>0&&null!==t.items[0]){const e=await B.getEpisodeOrChapter(t.items[0].uri);return e.type===kt.c.EPISODE&&e.mediaTypes?.includes(vt.Cx.Video)?h(Ge.PODCAST_VIDEO):h(Ge.PODCAST_AUDIO)}}t===le.NQG.TRACK?h(Ge.TRACK):t===le.NQG.ARTIST?h(Ge.ARTIST):t===le.NQG.ALBUM?h(Ge.ALBUM):h(Ge.PLAYLIST)})()}),[n,B,e,i]),(0,s.useEffect)((()=>{E(U.defaults.height.toString()),f(U.defaults.theme),j(U.defaults.width.toString())}),[U]);const Q=p===Ge.PODCAST_VIDEO,J=(e=>{if(new URLSearchParams(e).get("locale"))return c.Ru.getLocaleForTranslation()})(g),Z=null!==p?function(e,t,a,s,r,n){const i=(0,le.o_h)(e);if(!i)return null;const o=i.toURLPath(),l=new URL(`https://open.spotify.com/embed/${o}${r?"/video":""}`);return l.searchParams.set("utm_source","generator"),t&&"1"!==t&&l.searchParams.set("theme",t),a&&void 0!==s&&l.searchParams.set("t",s.toString()),n&&l.searchParams.set("locale",n.toString()),l}(e,b,w,A,Q,J):null,$=Z&&U!==na&&R&&C?(0,x.jsx)("iframe",{onLoad:()=>{T(!1)},style:{borderRadius:"12px"},src:Z?.toString(),width:C,height:R,...aa},Z?.toString()):null,X=$?(Te.renderToStaticMarkup($)||"").replace(/src=".*?"/,`src="${Z?.toString()}"`):"";return(0,x.jsxs)(u.A,{isOpen:r,contentLabel:m,animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,onRequestClose:K,children:[(0,x.jsxs)("div",{className:v()(jt),children:[(0,x.jsxs)("div",{className:Gt,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleSmall",children:m}),(0,x.jsx)("button",{className:Vt,onClick:K,children:(0,x.jsx)(l.M,{size:"small","aria-label":c.Ru.get("close")})})]}),(0,x.jsxs)("div",{className:At,children:[(0,x.jsxs)("div",{className:_t,children:[(0,x.jsxs)("div",{className:Wt,style:{visibility:U.disallow.theme?"hidden":"visible"},children:[(0,x.jsxs)("p",{className:zt,children:[c.Ru.get("ewg.color"),":"]}),U.theme.map((([e,t])=>{return(0,x.jsx)("button",{style:{backgroundColor:null===t?F:t},className:v()(Ht,{[Kt]:b===e}),onClick:(a=e,()=>{b!==a&&(T(!0),f(a))})},e);var a}))]}),(0,x.jsxs)("div",{className:Yt,children:[(0,x.jsxs)("div",{className:Qt,children:[c.Ru.get("ewg.size"),":"]}),(0,x.jsxs)("div",{className:Jt,children:[R&&(0,x.jsx)(Ue.C,{id:"ewg-height",value:R,onSelect:E,children:U.height.map((([e,t])=>(0,x.jsxs)("option",{value:e,children:["normal"===t?c.Ru.get("ewg.size.normal"):c.Ru.get("ewg.size.compact")," ","(",e,"px)"]},e)))}),U.disallow.width?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:Zt,children:"Ã—"}),(0,x.jsxs)("div",{className:Mt,children:[(0,x.jsx)("input",{className:Pt,type:"text",ref:W,defaultValue:U.defaults.width,onKeyUp:e=>{"Enter"===e.key&&q()},onBlur:q}),(0,x.jsx)(y.H,{"aria-label":c.Ru.get("ewg.help"),"aria-describedby":"ewg-help-text",size:"small",iconOnly:Le.N,className:Ut,onMouseOver:()=>N(!0),onMouseLeave:()=>N(!1)}),(0,x.jsx)("div",{onFocus:()=>N(!0),onMouseOver:()=>N(!0),onMouseLeave:()=>N(!1),className:v()(Bt,{[Nt]:S}),children:(0,x.jsx)(De.m,{id:"ewg-help-text",children:c.Ru.get("ewg.help-text")})})]})]})]})]})]}),(0,x.jsxs)("div",{className:Tt,style:{height:ea,maxHeight:"calc(100vh - 402px)"},children:[I&&(0,x.jsx)("div",{className:Xt,children:(0,x.jsx)(Pe.I,{})}),$]}),(0,x.jsx)("small",{className:qt,dangerouslySetInnerHTML:{__html:c.Ru.get("ewg.terms",{devTerms:"https://developer.spotify.com/terms/",platfRules:"https://www.spotify.com/platform-rules/"})}}),(0,x.jsxs)("div",{className:It,children:[(0,x.jsxs)("div",{className:$t,style:{visibility:U.disallow.timestamp?"hidden":"visible"},children:[(0,x.jsx)(Me.c,{className:Pt,checked:w,type:"checkbox",id:"ewg-timestamp",onChange:e=>{const t=e.currentTarget.checked;w!==t&&(T(!0),O(t),G({type:"click",intent:"toggle",itemIdSuffix:`timestamp/${t}`}))},"data-testid":"timestamp-checkbox"}),(0,x.jsx)("label",{htmlFor:"ewg-timestamp",children:c.Ru.get("ewg.start-at")}),(0,x.jsx)("input",{className:v()(Ft,Ot),disabled:!w,type:"text",defaultValue:Ke(Math.floor(A/1e3).toString()).humanString,ref:V,onBlur:Y,onKeyUp:e=>{"Enter"===e.key&&Y()}})]}),(0,x.jsxs)("div",{className:Lt,children:[(0,x.jsx)(Me.c,{className:Pt,checked:L,type:"checkbox",id:"ewg-showcode",onChange:e=>{const t=e.currentTarget.checked;D(t),G({type:"click",intent:"show-more",itemIdSuffix:`showcode/${t}`})}}),(0,x.jsx)("label",{htmlFor:"ewg-showcode",children:c.Ru.get("ewg.showcode")}),(0,x.jsx)(k.$,{className:Dt,size:"small",onClick:()=>{(0,Ct.l)(X),G({type:"click",intent:"copy"}),M(c.Ru.get("ewg.copied")),setTimeout((()=>M(c.Ru.get("ewg.copy"))),5e3)},children:P})]})]})]})]}),(0,x.jsx)("section",{className:v()(St,{[Nt]:L}),children:(0,x.jsx)("pre",{className:wt,"data-testid":"iframe-code",children:X})})]})},oa=()=>{const e=(0,s.useContext)(Be.Fx);return e.uri?(0,x.jsx)(qe.pZ,{value:"embed-widget-generator",children:(0,x.jsx)(ia,{...e})}):null},la=()=>{const e=(0,r.wA)(),t=(0,oe.Zp)(),{isOpen:a}=(0,r.d4)((({ui:e})=>e.explicitContentDialog)),n=(0,s.useCallback)((()=>{e((0,Z.wn)())}),[e]),i=(0,s.useCallback)((()=>{t("/preferences"),e((0,Z.wn)())}),[e,t]);return(0,x.jsx)(ce.T,{isOpen:a,onClose:n,onConfirm:i,"aria-label":"explicit-content-dialog",titleText:c.Ru.get("explicit-content.dialog.title"),descriptionText:c.Ru.get("explicit-content.dialog.description"),confirmText:c.Ru.get("explicit-content.dialog.confirm"),cancelText:c.Ru.get("explicit-content.dialog.cancel")})};var ca=a(78540),da=a(80453),ua=a(33061),ma=a(77981),ga=a(48655),pa=a(48994),ha=a(95752),ba=a(72762),xa=a(32963),fa=a(30493),Ra=a(78412),ya=a(19329),Ea=a(21549);const va=()=>{const e=(0,oe.Zp)(),t=(0,r.wA)(),a=(0,oe.zy)(),s=(0,r.d4)((e=>e.ui.history.canGoBack)),n=(0,r.d4)((e=>e.ui.history.canGoForward)),{createPlaylist:i}=(0,fa.A)(),{createFolder:o}=(0,ue.Z)(),{openURL:l,openURLWithSessionTransfer:d}=(0,ya.L)(),{spec:u,logger:m}=(0,Ea.r)(ca.r,{data:{uri:(0,le.o_h)(a.pathname)?.toURI()??""},parentAbsoluteLocation:{locations:[]}});return(0,pa.x)(ga.W.CREATE_NEW_PLAYLIST,(async()=>{await i()})),(0,pa.x)(ga.W.CREATE_NEW_FOLDER,(async()=>{await o(c.Ru.get("playlist.default_folder_name"),{before:"start"})})),(0,pa.x)(ga.W.BROWSE_BACKWARD,(()=>{s&&e(-1)})),(0,pa.x)(ga.W.BROWSE_FORWARD,(()=>{n&&e(1)})),(0,pa.x)(ga.W.LOGOUT,(()=>{t((0,Ra.wH)())})),(0,pa.x)(ga.W.SHOW_ABOUT,(()=>{t((0,da.Uu)())})),(0,pa.x)(ga.W.SHOW_PREFERENCES,(()=>{e("/preferences")})),(0,pa.x)(ga.W.SHOW_ACCOUNT,(()=>{d("https://spotify.com/account/overview/")})),(0,pa.x)(ga.W.SHOW_COMMUNITY,(()=>{d("https://community.spotify.com/")})),(0,pa.x)(ga.W.SHOW_HELP,(()=>{d("https://support.spotify.com/")})),(0,pa.x)(ga.W.SHOW_LICENSES,(()=>{t((0,ua.FS)())})),(0,pa.x)(ga.W.SHOW_LICENSING_INFORMATION,(()=>{l("https://www.spotify.com/int/legal/licensing-info/")})),(0,pa.x)(ga.W.SHOW_SCTA_INFORMATION,(()=>{l("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,pa.x)(ga.W.ENTER_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiReveal()),t((0,Z.Kk)())})),(0,pa.x)(ga.W.LEAVE_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiHide()),t((0,Z.DH)())})),(0,pa.x)(ga.W.SET_PLATFORM_EMULATION_AUTO,(()=>{(0,ma.O)((0,ba.My)(),(0,xa.D)())})),(0,pa.x)(ga.W.SET_PLATFORM_EMULATION_MACOS,(()=>{(0,ma.O)((0,ba.My)(),ha.f.macOS)})),(0,pa.x)(ga.W.SET_PLATFORM_EMULATION_WINDOWS,(()=>{(0,ma.O)((0,ba.My)(),ha.f.Windows)})),(0,pa.x)(ga.W.SET_PLATFORM_EMULATION_LINUX,(()=>{(0,ma.O)((0,ba.My)(),ha.f.Linux)})),null};var ka=a(84299),Ca=a(50845);const ja=({combinations:e})=>(0,x.jsx)(x.Fragment,{children:e.map(((t,a)=>{const r=t.split("+");return(0,x.jsxs)(s.Fragment,{children:[r.map((e=>(0,x.jsx)(Ca.U,{children:e},e))),a<e.length-1&&(0,x.jsxs)(o.E,{variant:"bodyMedium",children:[" ",c.Ru.get("keyboard.shortcuts.or")," "]})]},t)}))});var Sa=a(36150),Na=a(28956);const wa=({shortcuts:e,sectionTitle:t})=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.E,{as:"h2",className:Na.A.sectionHeading,variant:"titleSmall",children:t}),(0,x.jsx)("ul",{children:e.map((e=>e.enabled?(0,x.jsxs)("li",{className:Na.A.sectionItem,children:[(0,x.jsx)(o.E,{variant:"bodyMedium",className:Na.A.sectionItemName,children:e.description}),(0,x.jsx)(ja,{combinations:(0,Sa.p)(e.action)})]},e.action):null))})]});var Oa=a(3714),Aa=a(38501);const _a=(0,s.memo)((function(){const e=function(){const e=(0,n.NC)(Aa.DHV,{loadingValue:!1}),t=(0,ba.Ek)();return{basic:[{action:Oa.r.CREATE_NEW_PLAYLIST,get description(){return c.Ru.get("playlist.new-header")},enabled:!0},{action:Oa.r.CREATE_NEW_FOLDER,get description(){return c.Ru.get("keyboard.shortcuts.description.createNewFolder")},enabled:!0},{action:Oa.r.OPEN_CONTEXT_MENU,get description(){return c.Ru.get("keyboard.shortcuts.description.openContextMenu")},enabled:!0},{action:Oa.r.OPEN_SEARCH_MODAL,get description(){return c.Ru.get("keyboard.shortcuts.description.openSearchModal")},enabled:!0},{action:Oa.r.SELECT_ALL,get description(){return c.Ru.get("keyboard.shortcuts.description.selectAll")},enabled:t},{action:Oa.r.FILTER,get description(){return c.Ru.get("filter")},enabled:t},{action:Oa.r.FOCUS_YLX_TEXT_FILTER,get description(){return c.Ru.get("web-player.your-library-x.text-filter.generic-placeholder")},enabled:!0},{action:Oa.r.LOG_OUT,get description(){return c.Ru.get("user.log-out")},enabled:!0}],playback:[{action:Oa.r.TOGGLE_PLAY,get description(){return c.Ru.get("keyboard.shortcuts.description.togglePlay")},enabled:!0},{action:Oa.r.LIKE_DISLIKE_SONG,get description(){return c.Ru.get("keyboard.shortcuts.description.likeDislikeSong")},enabled:!0},{action:Oa.r.SHUFFLE,get description(){return c.Ru.get("keyboard.shortcuts.description.shuffle")},enabled:!0},{action:Oa.r.REPEAT,get description(){return c.Ru.get("keyboard.shortcuts.description.repeat")},enabled:!0},{action:Oa.r.SKIP_PREVIOUS,get description(){return c.Ru.get("keyboard.shortcuts.description.skipPrev")},enabled:!0},{action:Oa.r.SKIP_NEXT,get description(){return c.Ru.get("keyboard.shortcuts.description.skipNext")},enabled:!0},{action:Oa.r.SEEK_BACKWARD,get description(){return c.Ru.get("keyboard.shortcuts.description.seekBackward")},enabled:!0},{action:Oa.r.SEEK_FORWARD,get description(){return c.Ru.get("keyboard.shortcuts.description.seekForward")},enabled:!0},{action:Oa.r.RAISE_VOLUME,get description(){return c.Ru.get("keyboard.shortcuts.description.raiseVolume")},enabled:!0},{action:Oa.r.LOWER_VOLUME,get description(){return c.Ru.get("keyboard.shortcuts.description.lowerVolume")},enabled:!0},{action:Oa.r.DECREASE_PLAYBACK_SPEED,get description(){return c.Ru.get("playback-control.decrease-playback-speed")},enabled:!0},{action:Oa.r.INCREASE_PLAYBACK_SPEED,get description(){return c.Ru.get("playback-control.increase-playback-speed")},enabled:!0}],navigation:[{action:Oa.r.GO_TO_HOME,get description(){return c.Ru.get("keyboard.shortcuts.description.home")},enabled:!0},{action:Oa.r.GO_BACKWARDS,get description(){return c.Ru.get("keyboard.shortcuts.description.goBackwards")},enabled:!0},{action:Oa.r.GO_FORWARDS,get description(){return c.Ru.get("keyboard.shortcuts.description.goForwards")},enabled:!0},{action:Oa.r.GO_TO_PREFERENCES,get description(){return c.Ru.get("keyboard.shortcuts.description.goToPreferences")},enabled:t},{action:Oa.r.GO_TO_NOW_PLAYING,get description(){return c.Ru.get("keyboard.shortcuts.description.currentlyPlaying")},enabled:!0},{action:Oa.r.GO_TO_SEARCH,get description(){return c.Ru.get("keyboard.shortcuts.description.search")},enabled:!0},{action:Oa.r.GO_TO_LIKED_SONGS,get description(){return c.Ru.get("keyboard.shortcuts.description.likedSongs")},enabled:!0},{action:Oa.r.GO_TO_QUEUE,get description(){return c.Ru.get("playback-control.queue")},enabled:!0},{action:Oa.r.GO_TO_LIBRARY,get description(){return c.Ru.get("web-player.your-library-x.your-library")},enabled:!0},{action:Oa.r.GO_TO_PLAYLISTS,get description(){return c.Ru.get("keyboard.shortcuts.description.yourPlaylists")},enabled:!0},{action:Oa.r.GO_TO_PODCASTS,get description(){return c.Ru.get("keyboard.shortcuts.description.yourPodcasts")},enabled:!0},{action:Oa.r.GO_TO_ARTISTS,get description(){return c.Ru.get("keyboard.shortcuts.description.yourArtists")},enabled:!0},{action:Oa.r.GO_TO_ALBUMS,get description(){return c.Ru.get("keyboard.shortcuts.description.yourAlbums")},enabled:!0},{action:Oa.r.GO_TO_AUDIOBOOKS,get description(){return c.Ru.get("keyboard.shortcuts.description.yourAudiobooks")},enabled:!0},{action:Oa.r.GO_TO_MADE_FOR_YOU,get description(){return c.Ru.get("keyboard.shortcuts.description.madeForYour")},enabled:!0},{action:Oa.r.GO_TO_NEW_RELEASES,get description(){return c.Ru.get("new_releases")},enabled:!0},{action:Oa.r.GO_TO_CHARTS,get description(){return c.Ru.get("keyboard.shortcuts.description.charts")},enabled:!0},{action:Oa.r.GO_TO_BUDDY_FEED,get description(){return c.Ru.get("buddy-feed.friend-activity")},enabled:!0},{action:Oa.r.GO_TO_DEVICE_PICKER,get description(){return c.Ru.get("spotify-connect")},enabled:!0}],layout:[{action:Oa.r.TOGGLE_YLX_SIDEBAR,get description(){return c.Ru.get("keyboard.shortcuts.layout.toggleLeftSidebar")},enabled:!0},{action:Oa.r.YLX_SIDEBAR_DECREASE_WIDTH,get description(){return c.Ru.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")},enabled:!0},{action:Oa.r.YLX_SIDEBAR_INCREASE_WIDTH,get description(){return c.Ru.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")},enabled:!0},{action:Oa.r.TOGGLE_NPV_SIDEBAR,get description(){return c.Ru.get("keyboard.shortcuts.layout.toggleRightSidebar")},enabled:!0},{action:Oa.r.NPV_SIDEBAR_DECREASE_WIDTH,get description(){return c.Ru.get("keyboard.shortcuts.layout.rightSidebarDecreaseWidth")},enabled:!0},{action:Oa.r.NPV_SIDEBAR_INCREASE_WIDTH,get description(){return c.Ru.get("keyboard.shortcuts.layout.rightSidebarIncreaseWidth")},enabled:!0}],employee:[{action:Oa.r.TOGGLE_DEBUG_WINDOW,description:"Toggle Debug Window",enabled:e}]}}(),t=(0,r.wA)(),a=(0,r.d4)((e=>e.ui.keyboardShortcutsHelpModal.isOpen)),i=(0,s.useCallback)((()=>{t((0,Z.wi)(!1))}),[t]),l=e.employee.filter((e=>e.enabled));return(0,x.jsx)(u.A,{isOpen:a,onRequestClose:i,contentLabel:c.Ru.get("keyboard.shortcuts.help.heading"),children:(0,x.jsxs)("div",{className:Na.A.container,children:[(0,x.jsxs)("div",{className:Na.A.header,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("keyboard.shortcuts.help.heading")}),(0,x.jsx)("button",{"aria-label":c.Ru.get("close"),className:Na.A.closeBtn,onClick:i,children:(0,x.jsx)(ka.A,{width:18,height:18,fill:"currentColor"})}),(0,x.jsxs)(o.E,{variant:"bodyMedium",as:"p",children:[c.Ru.get("keyboard.shortcuts.help.subheading.press")," ",(0,x.jsx)(ja,{combinations:(0,Sa.p)(Oa.r.OPEN_HELP)})," ",c.Ru.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,x.jsx)("div",{className:Na.A.sectionsContainer,children:(0,x.jsxs)("div",{className:Na.A.sections,tabIndex:0,children:[(0,x.jsx)(wa,{shortcuts:e.basic,sectionTitle:c.Ru.get("keyboard.shortcuts.section.basic")}),(0,x.jsx)(wa,{shortcuts:e.playback,sectionTitle:c.Ru.get("keyboard.shortcuts.section.playback")}),(0,x.jsx)(wa,{shortcuts:e.navigation,sectionTitle:c.Ru.get("keyboard.shortcuts.section.navigation")}),(0,x.jsx)(wa,{shortcuts:e.layout,sectionTitle:c.Ru.get("keyboard.shortcuts.section.layout")}),l.length>0?(0,x.jsx)(wa,{shortcuts:l,sectionTitle:"Employee"}):null]})})]})})}));var Ia=a(31);const Ta="ABD0FGjBGqGZG33bP7Lc",La="iV_SwHyMafiGlMDhlcB5",Da="gMEKhUL8rKx7DhSDUVk7",Pa="Z0v7BXnINL5FxFXjQIzE",Ma=s.memo((function({playlistUri:e}){const t=(0,r.wA)(),a=(0,oe.Zp)(),n=(0,de.W)(),[i,l]=(0,ge.A)(e),d=(0,r.d4)(X.Ht).user,m=(0,pe.J)(e),{removeMember:g}=(0,Ia.x)(e),p=m?.permissions?.isPrivate,h=m?.canAdd,b=(0,s.useCallback)((()=>{d?.id&&(n({intent:"playlisting",type:"click"}),i&&p&&l(!1),g(d?.id),t((0,Z.mE)()),a("/"))}),[d?.id,n,i,p,g,t,a,l]),f=(0,s.useCallback)((()=>{t((0,Z.mE)())}),[t]),R=c.Ru.get("leave-playlist.dialog.leave");let E=c.Ru.get("leave-playlist.dialog.private-description");return p||(E=h?c.Ru.get("leave-playlist.dialog.public-contributor-description"):c.Ru.get("leave-playlist.dialog.public-listener-description")),(0,x.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:f,contentLabel:R,isOpen:!0,children:(0,x.jsxs)("div",{className:Ta,children:[(0,x.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:La,children:c.Ru.get("leave-playlist.dialog.title")}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",className:Da,paddingBottom:J.lT,children:E}),(0,x.jsxs)("div",{className:v()("encore-light-theme",Pa),children:[(0,x.jsx)(y.H,{onClick:f,children:c.Ru.get("leave-playlist.dialog.cancel")}),(0,x.jsx)(k.$,{onClick:b,children:R})]})]})})})),Ua=s.memo((function(){const{isOpen:e,playlistUri:t}=(0,r.d4)((e=>e.ui.leavePlaylistDialog));return t&&e?(0,x.jsx)(Ma,{playlistUri:t}):null}));var Ba=a(77567),Fa=a(83812),Ga=a(54454);const Va=e=>(0,x.jsx)("img",{alt:"Zara Larsson",src:(0,Ba.b)("images/zara-larsson-singles.png"),...e});var Wa=a(42024),za=a(27301);const Ha="m7yI2BjDd8Jfq4bwU_IT",Ka="A0uXWh53dpxhad3t59v_",qa="jN93nx_3NxRM0qYmOmjB",Ya="x_mFp6qsLw0AgSON4gdy",Qa="aS3WvPBqyZdP1S28pn6r",Ja="FvaVPD0bBm4QOZEKRYOm",Za="nRjGqzP1Yyg9utpJtFEG",$a="lljaf1wMpxMQY1AVr1sf",Xa="Mhj98HFd0jXE916R2Ggz",es="TicfIwifH276e2046RzG",ts="ONMHZOOfFwfCPGr5rKNp",as="ZQ94gWpWwDhhvQ7bRv9S",ss="DNkhD0rW2qSWeBj4HBIZ",rs=s.memo((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.loginToListenDialog.isOpen)),a=(0,de.W)();a({intent:"navigate",type:"view"});const n=(0,s.useCallback)((()=>{a({intent:"close",type:"click"}),e((0,Z.k0)())}),[e,a]),i=(0,oe.Zp)(),l=(0,Ga.k)(),{url:d,isExternal:m}=l,g=(0,s.useCallback)((t=>{a({intent:"upgrade-to-premium",type:"click"}),e((0,Z.k0)()),t?!1===m?i("/premium"):window.open(d,"_blank"):window.open(za.zd,"_blank")}),[a,e,d,m,i]);return(0,x.jsx)(Fa.u,{property:Aa.StW,renderOldExperience:()=>(0,x.jsx)(u.A,{animated:!0,isOpen:t,className:Za,overlayClassName:$a,contentLabel:c.Ru.get("mwp.d2p.modal.title"),onRequestClose:n,children:(0,x.jsxs)("div",{className:Ha,children:[(0,x.jsx)("div",{className:Ja,children:(0,x.jsx)(Va,{className:Ka})}),(0,x.jsxs)("div",{className:`${Ja}`,children:[(0,x.jsx)("div",{className:qa,children:(0,x.jsx)(Wa.T,{color:"var(--spice-text)",height:"23"})}),(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("mwp.d2p.modal.title")}),(0,x.jsx)(o.E,{as:"p",variant:"bodyMedium",children:c.Ru.get("mwp.d2p.modal.description")}),(0,x.jsx)(k.$,{onClick:g.bind(null,!0),className:`${Ya}`,children:c.Ru.get("mwp.d2p.modal.cta")}),(0,x.jsx)(y.H,{onClick:n,className:`${Ya} ${Qa}`,children:c.Ru.get("mwp.d2p.modal.dismiss")})]})]})}),renderNewExperience:()=>(0,x.jsx)(u.A,{animated:!0,isOpen:t,className:Za,overlayClassName:$a,contentLabel:c.Ru.get("mwp.d2p.modal.title"),onRequestClose:n,children:(0,x.jsxs)("div",{className:`${Ha} ${Xa}`,children:[(0,x.jsx)("div",{className:`${Ja} ${ss}`,children:(0,x.jsx)("img",{alt:c.Ru.get("midyear.cta"),src:(0,Ba.b)("images/mid-year.png")})}),(0,x.jsxs)("div",{className:`${Ja}`,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("midyear.title")}),(0,x.jsx)(o.E,{as:"p",variant:"bodyMedium",children:c.Ru.get("midyear.intro")}),(0,x.jsx)(k.$,{onClick:g.bind(null,!1),className:`${Ya} ${es}`,children:c.Ru.get("midyear.cta")}),(0,x.jsx)(y.H,{onClick:n,className:`${Ya} ${Qa} ${ts}`,children:c.Ru.get("mwp.d2p.modal.dismiss")}),(0,x.jsx)(o.E,{as:"p",className:as,variant:"marginal",dangerouslySetInnerHTML:{__html:c.Ru.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}})]})]})})})})),ns=s.memo((function(){return(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(rs,{})})}));var is=a(58278),os=a(38107),ls=a(286),cs=a(71055),ds=a(91128),us=a(33329);const ms="Gq0nmqrHqipmGwpzAmPM",gs="SlF1l98yxyaNXDn4clyB",ps=()=>{const e=(0,r.wA)(),t=(0,oe.Zp)(),a=(0,us.s)(),s=(0,cs.j)(),{isOpen:n}=(0,r.d4)((e=>e.ui.learnMorePersonalizedRecommendationsModal)),i=()=>{e(ds.r8.actions.close()),a.logInteraction(s.cancelButtonFactory().hitUiHide())};return(0,x.jsx)(u.A,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:i,contentLabel:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),animated:!0,children:(0,x.jsx)(is.Q,{className:ms,dialogTitle:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),"aria-label":c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),body:(0,x.jsxs)("div",{className:gs,children:[(0,x.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body")}),(0,x.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-missing-features-intro")}),(0,x.jsxs)(os.b,{as:"ul",children:[(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,x.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-persistent-features-intro")}),(0,x.jsx)(os.b,{condensed:!0,as:"ul",children:(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.H,{onClick:i,size:"small",condensed:!0,children:c.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,x.jsx)(k.$,{onClick:()=>{t("/preferences?highlight=dsa"),e(ds.r8.actions.close()),a.logInteraction(s.goToSettingsButtonFactory().hitUiNavigate({destination:"/preferences"}))},size:"small",colorSet:"invertedLight",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-confirm")})]}),legal:(0,x.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-disclaimer")})})})};var hs=a(42953);const bs=()=>{const e=(0,r.wA)(),t=(0,us.s)(),a=(0,hs.H)(),{isOpen:s,onConfirm:n}=(0,r.d4)((e=>e.ui.turnOffPersonalizedRecommendationsModal)),i=()=>{e(ds.UU.actions.close()),t.logInteraction(a.cancelButtonFactory().hitUiHide())};return(0,x.jsx)(u.A,{isOpen:s,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:i,contentLabel:c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,x.jsx)(is.Q,{className:ms,dialogTitle:c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,x.jsxs)("div",{className:gs,children:[(0,x.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body")}),(0,x.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,x.jsxs)(os.b,{as:"ul",children:[(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,x.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,x.jsx)(os.b,{condensed:!0,as:"ul",children:(0,x.jsx)(ls.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.H,{onClick:i,size:"small",condensed:!0,children:c.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,x.jsx)(k.$,{onClick:()=>{n(),e(ds.UU.actions.close()),t.logInteraction(a.turnOffPersonalizedRecommendationsButtonFactory().hitSettingDisable())},size:"small",colorSet:"invertedLight",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-confirm")})]}),legal:(0,x.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-delay-disclaimer")})})})};var xs=a(63352),fs=a(79209),Rs=a(25493),ys=a(61800),Es=a(97445),vs=a(86365),ks=a(80752),Cs=a(36558),js=a(66460),Ss=a(75830),Ns=a(10994),ws=a(12864);const Os="main-playlistEditDetailsModal-container",As="main-playlistEditDetailsModal-content",_s="main-playlistEditDetailsModal-header",Is="main-playlistEditDetailsModal-closeBtn",Ts="main-playlistEditDetailsModal-albumCover",Ls="main-playlistEditDetailsModal-imageLoadingContainer",Ds="main-playlistEditDetailsModal-imageChangeButton",Ps="main-playlistEditDetailsModal-imageDropDownContainer",Ms="main-playlistEditDetailsModal-imageDropDownButton",Us="main-playlistEditDetailsModal-textElement",Bs="main-playlistEditDetailsModal-textElementError",Fs="main-playlistEditDetailsModal-textElementInfo",Gs="main-playlistEditDetailsModal-title",Vs="main-playlistEditDetailsModal-textElementLabel",Ws="main-playlistEditDetailsModal-description",zs="main-playlistEditDetailsModal-titleInput",Hs="main-playlistEditDetailsModal-titleInputWithPadding",Ks="main-playlistEditDetailsModal-descriptionTextarea",qs="main-playlistEditDetailsModal-save",Ys="main-playlistEditDetailsModal-disclaimer",Qs="main-playlistEditDetailsModal-characterCounter",Js="main-playlistEditDetailsModal-titleCharacterCounter",Zs="main-playlistEditDetailsModal-descriptionCharacterCounter",$s="main-playlistEditDetailsModal-insertLinkButton",Xs=({openImagePicker:e,onRemoveImage:t})=>(0,x.jsx)("div",{className:Ps,children:(0,x.jsx)(Ss.b,{menu:(0,x.jsxs)(Ns.W,{children:[(0,x.jsx)(ws.D,{role:"menuitem",onClick:e,leadingIcon:(0,x.jsx)(ks.d,{semanticColor:"textSubdued",size:"small"}),children:c.Ru.get("playlist.edit-details.change-photo")}),(0,x.jsx)(ws.D,{role:"menuitem",onClick:t,leadingIcon:(0,x.jsx)(Cs.x,{semanticColor:"textSubdued",size:"small"}),children:c.Ru.get("playlist.edit-details.remove-photo")})]}),children:(0,x.jsxs)("button",{className:Ms,type:"button",children:[(0,x.jsx)(js.x,{size:"small","aria-hidden":"true"}),(0,x.jsx)("span",{className:"hidden-visually",children:c.Ru.get("edit_photo")})]})})});var er=a(80995);const tr=({onClick:e})=>(0,x.jsx)("button",{title:"Insert link",className:$s,onClick:e,children:(0,x.jsx)(er.b,{size:"small","aria-hidden":"true"})});var ar=a(79133),sr=a.n(ar);const rr=({className:e,usedCharacters:t,maxCharacters:a,isVisible:s=!0})=>{const r=a-t,{ariaLive:n,ariaAtomic:i}=function(e){let t,a;return e<=20?(t="assertive",a=!0):e<=60?(t="polite",a=!1):e<=70?(t="polite",a=!0):(t="off",a=!0),{ariaLive:t,ariaAtomic:a}}(r);return(0,x.jsx)("span",{className:v()(Qs,e,{"hidden-visually":!s}),"aria-label":c.Ru.get("character-counter"),"aria-live":n,"aria-atomic":i,children:`${t}/${a}`})};var nr=a(52898);const ir=(0,s.forwardRef)((function({autoFocus:e,handleOnChange:t,playlistDescription:a,maxNumCharacters:r=300},n){const i=(0,s.useMemo)((()=>`text-input-${(0,nr.Yu)(8)}`),[]),l=r-20,[d,u]=(0,s.useState)(!1),m=sr()(a).length;return(0,s.useEffect)((()=>{e&&"function"!=typeof n&&n?.current?.select()}),[e,n]),(0,x.jsxs)("div",{className:Ws,children:[(0,x.jsx)(o.E,{htmlFor:i,as:"label",variant:"marginalBold",className:Vs,children:c.Ru.get("playlist.edit-details.description-label")}),(0,x.jsx)("textarea",{ref:n,"data-testid":"playlist-edit-details-description-input",autoFocus:e,className:v()(Us,Ks,{[Fs]:d}),onChange:e=>{const a=t(sr()(e.target.value).slice(0,r).join(""));u(!!a)},placeholder:c.Ru.get("playlist.edit-details.description-placeholder"),value:a}),(0,x.jsx)(rr,{className:Zs,maxCharacters:r,usedCharacters:m,isVisible:m>=l})]})}));var or=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(or||{});const lr={type:"info",code:or.CONTAINS_NEW_LINE,get message(){return c.Ru.get("playlist.edit-details.error.description-breaks")}},cr={type:"info",code:or.CONTAINS_HTML,get message(){return c.Ru.get("playlist.edit-details.error.invalid-html")}},dr={type:"info",code:or.SAVE_WARNING,get message(){return c.Ru.get("playlist.edit-details.error.unsaved-changes")}},ur={type:"info",code:or.OFFLINE_WARNING,get message(){return c.Ru.get("playlist.edit-details.error.no-internet")}},mr={type:"error",code:or.FILE_TOO_BIG,get message(){return c.Ru.get("playlist.edit-details.error.file-size-exceeded",10)}},gr={type:"error",code:or.IMAGE_TOO_SMALL,get message(){return c.Ru.get("playlist.edit-details.error.too-small",300,300)}},pr={type:"error",code:or.IMAGE_TOO_BIG,get message(){return c.Ru.get("playlist.edit-details.error.too-big",1e4,1e4)}},hr={type:"error",code:or.IMAGE_TYPE_NOT_SUPPORTED,get message(){return c.Ru.get("playlist.edit-details.error.image-type-not-supported")}},br={type:"error",code:or.IMAGE_FILE_UPLOAD_FAILED,get message(){return c.Ru.get("playlist.edit-details.error.file-upload-failed")}},xr={type:"error",code:or.NAME_REQUIRED,get message(){return c.Ru.get("playlist.edit-details.error.missing-name")}},fr={type:"error",code:or.UPDATE_DETAILS_FAILED,get message(){return c.Ru.get("playlist.edit-details.error.failed-to-save")}},Rr=({autoFocus:e,handleOnChange:t,maxNumCharacters:a=100,playlistName:r,onSubmit:n})=>{const[i,l]=(0,s.useState)(!1),d=(0,s.useMemo)((()=>`text-input-${(0,nr.Yu)(8)}`),[]),u=a-10,m=sr()(r).length,g=m>=u,p=(0,s.useRef)(null);return(0,s.useEffect)((()=>{e&&p.current?.select()}),[e]),(0,x.jsxs)("div",{className:Gs,children:[(0,x.jsx)(o.E,{as:"label",htmlFor:d,variant:"marginalBold",className:Vs,children:c.Ru.get("playlist.edit-details.name-label")}),(0,x.jsx)("input",{"data-testid":"playlist-edit-details-name-input",id:d,autoFocus:e,ref:p,type:"text",className:v()(Us,zs,{[Hs]:g,[Bs]:i}),onKeyDown:e=>{"Enter"===e.key&&n()},onChange:e=>{const s=t(sr()(e.target.value).slice(0,a).join(""));l(!!s)},placeholder:c.Ru.get("playlist.edit-details.name-placeholder"),value:r}),(0,x.jsx)(rr,{isVisible:g,maxCharacters:a,usedCharacters:m,className:Js})]})};var yr=a(68266);const Er={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function vr(e){return{type:"setPlaylistDescription",data:e}}function kr(e){return{type:"setLoading",data:e}}function Cr(e){return{type:"setMessage",data:e}}function jr(e,t){switch(t.type){case"setImageData":return{...e,loading:!1,image:{width:yr.B.SMALL,height:yr.B.SMALL,url:t.data}};case"removeImage":return{...e,loading:!1,imageToken:null,image:void 0};case"setImageToken":return{...e,imageToken:t.data};case"setPlaylistName":return{...e,name:t.data};case"setPlaylistDescription":return{...e,description:t.data};case"setLoading":return{...e,loading:t.data,message:null};case"setHasWarnedAboutUnsavedChanges":return{...e,hasWarnedAboutUnsavedChanges:t.data};case"setMessage":return{...e,loading:!1,message:t.data};case"reset":return{...Er,name:t.data.name,description:t.data.description,image:t.data.image};default:return e}}var Sr=a(39566);const Nr=/[\b\f\n\r\t\v\0]/,wr=/<[bi]/i,Or=({isOpen:e,isImagePickerOpen:t,focusedElement:a,name:n,description:i,image:d,uri:m,onClose:g})=>{i=(e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value})(i);const{uploadImage:p,updateDetails:h}=(0,Ia.x)(m),[b,f]=function({name:e,description:t,image:a}){const[r,n]=(0,s.useReducer)(jr,{...Er,name:e,description:t,image:a});return[r,n]}({name:n,description:i,image:d}),[R,y]=(0,Es.p)(),E=!(0,Sr.n)(),v=(0,s.useRef)(null),C=(0,r.d4)((e=>"1"===e.session.productState?.["playlist-annotations-markup"]));(0,s.useEffect)((()=>{f(Cr(E?ur:null))}),[E,f]),(0,s.useEffect)((()=>{t&&y()}),[t,y]);const j=(0,s.useCallback)((()=>{f({type:"removeImage"})}),[f]),S=(e=!1)=>{const t=null===b.imageToken,a=b.imageToken;!(n!==b.name||i!==b.description||a||t)||b.hasWarnedAboutUnsavedChanges||e?(f(function(e){return{type:"reset",data:e}}({name:n,description:i,image:d})),g()):(f(Cr(dr)),f({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};async function N(){if(!b.loading)if(0!==b.name.length){f(kr(!0));try{await async function(){const e={};n!==b.name&&(e.name=b.name);i!==b.description&&(e.description=b.description);b.imageToken?e.imageUploadToken=await b.imageToken:null===b.imageToken&&(e.imageUploadToken=null);e.image=b.image,await h(e)}(),f(kr(!1));S(!0)}catch{f(Cr(fr))}}else f(Cr(xr))}return(0,x.jsx)(u.A,{isOpen:e,onRequestClose:()=>{S()},contentLabel:c.Ru.get("playlist.edit-details.title"),children:(0,x.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:Os,children:[(0,x.jsxs)("div",{className:_s,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("playlist.edit-details.title")}),(0,x.jsx)("button",{className:Is,onClick:()=>{S()},children:(0,x.jsx)(l.M,{size:"small","aria-label":c.Ru.get("close")})})]}),b.message&&(0,x.jsx)(vs.z,{isErrorMessage:"error"===b.message.type,message:b.message.message}),C?(0,x.jsx)(tr,{onClick:function(){if(!v.current)return;const{selectionStart:e,selectionEnd:t}=v.current,a=b.description.substring(e,t);let s=a;const r=!!(0,le.o_h)(s);!s.startsWith("http://")&&!s.startsWith("https://")&&!r&&(s=`https://${s}`),f(vr([b.description.substring(0,e),`<a href="${s}">${a}</a>`,b.description.substring(t)].join("")))}}):null,(0,x.jsxs)("div",{className:As,children:[(0,x.jsx)(ys.u,{isOpen:R,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(f(Cr(null)),f({type:"setImageData",data:a}),t)try{const e=p(t);f({type:"setImageToken",data:e}),await e}catch{f(Cr(br))}},onError:e=>{e===ys.i.FILE_TOO_BIG?f(Cr(mr)):e===ys.i.IMAGE_TOO_SMALL?f(Cr(gr)):e===ys.i.IMAGE_TOO_BIG?f(Cr(pr)):e===ys.i.IMAGE_TYPE_NOT_SUPPORTED&&f(Cr(hr))}}),(0,x.jsxs)("div",{className:Ts,children:[(0,x.jsx)(Rs.b,{loading:"eager",name:b.name,images:b.image?[b.image]:[],placeholderType:"playlist"}),(0,x.jsx)("div",{className:Ds,children:(0,x.jsx)(fs.a,{overlay:!!b.image,onClick:y})}),(0,x.jsx)(Xs,{onRemoveImage:j,openImagePicker:y}),!!b.imageToken&&b.loading&&(0,x.jsx)("div",{className:Ls,children:(0,x.jsx)(Pe.I,{})})]}),(0,x.jsx)(Rr,{autoFocus:a===xs.NV.TITLE,handleOnChange:e=>(f({type:"setPlaylistName",data:e}),0===e.length?(f(Cr(xr)),xr):(f(Cr(null)),null)),playlistName:b.name,onSubmit:N}),(0,x.jsx)(ir,{ref:v,autoFocus:a===xs.NV.DESCRIPTION,handleOnChange:e=>{let t=e;return wr.test(t)?(f(Cr(cr)),cr):Nr.test(t)?(t=(e||"").replace(Nr,""),f(Cr(lr)),lr):(f(vr(t)),null)},playlistDescription:b.description}),(0,x.jsx)("div",{className:qs,children:(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:N,disabled:b.loading,"data-testid":"playlist-edit-details-save-button",children:c.Ru.get("save")})}),(0,x.jsx)(o.E,{as:"p",variant:"marginalBold",className:Ys,children:c.Ru.get("image-upload.legal-disclaimer")})]})]})})},Ar=()=>{const{isOpen:e,isImagePickerOpen:t,playlistDetails:a,focusedElement:r}=(0,s.useContext)(xs.iE),n=(0,s.useContext)(xs.$$),i=(0,s.useCallback)((()=>{n({type:"close"})}),[n]),{name:o,description:l,uri:c,image:d}=a;return e?(0,x.jsx)(Or,{isOpen:e,isImagePickerOpen:t,onClose:i,focusedElement:r,uri:c,name:o,description:l,image:d}):null};var _r=a(69630);const Ir=new Map;Ir.set("ad","â‚¬ 9,99"),Ir.set("ar","$ 69,00"),Ir.set("at","â‚¬ 9,99"),Ir.set("au","$11.99"),Ir.set("be","â‚¬ 9,99"),Ir.set("bg","4.99 EUR"),Ir.set("bo","5.99 USD"),Ir.set("br","R$ 16,90"),Ir.set("ca","9.99 CAD"),Ir.set("ch","Fr. 12.95"),Ir.set("cl","$ 3.490,00"),Ir.set("co","$ 14.900,00"),Ir.set("cr","5.99 USD"),Ir.set("cy","6.99 EUR"),Ir.set("cz","5.99 EUR"),Ir.set("de","9,99 â‚¬"),Ir.set("dk","kr 99,00"),Ir.set("do","5.99 USD"),Ir.set("ec","5.99 USD"),Ir.set("ee","6.99 EUR"),Ir.set("es","9,99 â‚¬"),Ir.set("fi","9,99 â‚¬"),Ir.set("fr","9,99 â‚¬"),Ir.set("uk","Â£9.99"),Ir.set("gr","6.99 EUR"),Ir.set("gt","5.99 USD"),Ir.set("hk","HK$58.00"),Ir.set("hn","5.99 USD"),Ir.set("hu","4.99 EUR"),Ir.set("id","Rp 49.990"),Ir.set("ie","â‚¬9.99"),Ir.set("is","9.99 EUR"),Ir.set("it","â‚¬ 9,99"),Ir.set("kr","â‚©10,900"),Ir.set("li","12.95 CHF"),Ir.set("lt","6.99 EUR"),Ir.set("lu","9.99 EUR"),Ir.set("lv","6.99 EUR"),Ir.set("mc","9.99 EUR"),Ir.set("mt","6.99 EUR"),Ir.set("mx","$ 99.00"),Ir.set("my","RM14.90"),Ir.set("ni","5.99 USD"),Ir.set("nl","â‚¬9,99"),Ir.set("no","kr109,00"),Ir.set("nz","$14.99"),Ir.set("pa","5.99 USD"),Ir.set("pe","S/ 18.90"),Ir.set("ph","â‚±129"),Ir.set("pl","19,99 zÅ‚"),Ir.set("pt","6.99 EUR"),Ir.set("py","5.99 USD"),Ir.set("se","99,00 kr"),Ir.set("sg","S$9.90"),Ir.set("sk","5.99 EUR"),Ir.set("sv","5.99 USD"),Ir.set("th","à¸¿129.00"),Ir.set("tr","13,99 TL"),Ir.set("tw","NT$149.00"),Ir.set("us","$9.99"),Ir.set("uy","5.99 USD");const Tr=new Map;Tr.set("ad","â‚¬ 0,00"),Tr.set("ar","$ 0,00"),Tr.set("at","â‚¬ 0,00"),Tr.set("au","$0.00"),Tr.set("be","â‚¬ 0,00"),Tr.set("bg","0.00 EUR"),Tr.set("bo","0.00 USD"),Tr.set("br","R$ 0,00"),Tr.set("ca","0.00 CAD"),Tr.set("ch","Fr. 0.00"),Tr.set("cl","$ 0,00"),Tr.set("co","$ 0,00"),Tr.set("cr","0.00 USD"),Tr.set("cy","0.00 EUR"),Tr.set("cz","0.00 EUR"),Tr.set("de","0,00 â‚¬"),Tr.set("dk","kr 0,00"),Tr.set("do","0.00 USD"),Tr.set("ec","0.00 USD"),Tr.set("ee","0.00 EUR"),Tr.set("es","0,00 â‚¬"),Tr.set("fi","0,00 â‚¬"),Tr.set("fr","0,00 â‚¬"),Tr.set("uk","Â£0.00"),Tr.set("gr","0.00 EUR"),Tr.set("gt","0.00 USD"),Tr.set("hk","HK$0.00"),Tr.set("hn","0.00 USD"),Tr.set("hu","0.00 EUR"),Tr.set("id","Rp 0.00"),Tr.set("ie","â‚¬0.00"),Tr.set("is","0.00 EUR"),Tr.set("it","â‚¬ 0,00"),Tr.set("li","0.00 CHF"),Tr.set("lt","0.00 EUR"),Tr.set("lu","0.00 EUR"),Tr.set("lv","0.00 EUR"),Tr.set("mc","0.00 EUR"),Tr.set("mt","0.00 EUR"),Tr.set("mx","$ 0.00"),Tr.set("my","RM0.00"),Tr.set("ni","0.00 USD"),Tr.set("nl","â‚¬0,00"),Tr.set("no","kr0,00"),Tr.set("nz","$0.00"),Tr.set("pa","0.00 USD"),Tr.set("pe","S/ 0.00"),Tr.set("ph","â‚±0.00"),Tr.set("pl","0,00 zÅ‚"),Tr.set("pt","0.00 EUR"),Tr.set("py","0.00 USD"),Tr.set("se","0,00 kr"),Tr.set("sg","S$0.00"),Tr.set("sk","0.00 EUR"),Tr.set("sv","0.00 USD"),Tr.set("th","à¸¿0.00"),Tr.set("tr","0,00 TL"),Tr.set("tw","NT$0.00"),Tr.set("us","$0.00"),Tr.set("uy","0.00 USD");var Lr=a(86551);const Dr="jqvEr4MvCdQ1QA_FSpe7",Pr="sRkNI1Gya5aBxtf_vS1S",Mr="WShxRrLdX9LzzqlCmWZy",Ur="rlMoP29GxtDlHkDK_aci",Br=(0,s.memo)((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.premiumDialog.isOpen)),a=(0,r.d4)((e=>{const t=(e=>{const t=e.toLowerCase();return{premiumPrice:Ir.has(t)?Ir.get(t):"99,00 kr",freePrice:Tr.has(t)?Tr.get(t):"0,00 kr"}})((0,Lr.JJ)(e));return t.premiumPrice})),n=(0,r.d4)(Lr.q),i=(0,s.useCallback)((()=>e((0,Ra.wH)())),[e]),{openURLWithSessionTransfer:o}=(0,ya.L)(),{spec:l,logger:d}=(0,Ea.r)(_r._,{}),m=(0,oe.Zp)(),g=(0,Ga.k)(),{url:p,isExternal:h}=g,b=(0,s.useCallback)((()=>{let e;!1===h?(m("/premium"),e=l.upsellButtonFactory().hitUiNavigate({destination:"/premium"})):(o(p),e=l.upsellButtonFactory().hitNavigateToExternalUri({destination:p})),d.logInteraction(e)}),[h,d,m,l,o,p]);return(0,x.jsx)(u.A,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:c.Ru.get("premium.dialog.title"),children:(0,x.jsxs)("div",{className:Dr,children:[(0,x.jsx)("h1",{className:Pr,children:c.Ru.get("premium.dialog.title")}),(0,x.jsx)("p",{className:Mr,children:c.Ru.get("premium.dialog.description",n?3:1)}),(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:b,children:c.Ru.get("premium.dialog.subscribe")}),(0,x.jsx)(y.H,{semanticColor:"textBase",onClick:i,children:c.Ru.get("user.log-out")}),(0,x.jsx)("p",{className:Ur,children:n?c.Ru.get("premium.dialog.disclaimer.noprice"):c.Ru.get("premium.dialog.disclaimer",{price:a})})]})})}));var Fr=a(74008),Gr=a(48905);const Vr=(0,s.memo)((function(){const e=(0,r.wA)(),t=(0,Et.T)(),{uri:a,isPrerelease:n}=(0,r.d4)((e=>e.ui.removeFromLibraryDialog)),[i,o]=(0,ge.A)(a??""),{remove:l}=(0,Gr.p)("prerelease"),d=(0,Fr.o)("prerelease",a?[a]:[]).at(0),u=(0,le.o_h)(a)?.type,[m,g]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{switch(u){case le.NQG.PRERELEASE:case le.NQG.ALBUM:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album"));break;case le.NQG.ARTIST:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist"));break;case le.NQG.SHOW:g((0,vt.Go)(await t.getMetadata(a??""))?c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"):c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show"));break;case le.NQG.PLAYLIST:case le.NQG.PLAYLIST_V2:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist"));break;default:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description"))}})()}),[t,u,a]);const p=(0,s.useCallback)((()=>{e((0,Z.yh)())}),[e]),h=(0,s.useCallback)((()=>{if(a){if(n){if(!d)return;l(a)}else{if(!i)return;o(!1)}p()}}),[a,n,p,d,l,i,o]);return(0,x.jsx)(ce.T,{"aria-label":`${c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")} ${m}`,titleText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:m,onConfirm:h,onClose:p,confirmText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),Wr="ZjyLlDvxh8QqNVY2vMsF",zr="sx8Bf4udHt_kPAnxmGW8",Hr="sfaREUmOnuxlr99uOYnS",Kr="RTGGeDA2P3rKc6r96vqA",qr="e1NO8ZuDIwSef3E4ppfX",Yr="Fo3Fe1PpXtQ3G32BqnwP",Qr="aRZZo0b_4ktkI0mPQ7Vw",Jr=({name:e,onRename:t})=>{const a=(0,r.wA)(),[n,i]=(0,s.useState)(null),d=(0,s.useCallback)((e=>{null!==e&&i(e)}),[]);(0,s.useEffect)((()=>{n?.select()}),[n]);const m=()=>{a((0,Z.Yk)())},g=()=>{t(n?.value??""),m()};return(0,x.jsx)(u.A,{contentLabel:c.Ru.get("playlist.edit-details.title"),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:m,shouldFocusAfterRender:!0,isOpen:!0,children:(0,x.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:Wr,children:[(0,x.jsxs)("div",{className:Hr,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("web-player.your-library-x.rename-folder")}),(0,x.jsx)("button",{className:Kr,onClick:m,children:(0,x.jsx)(l.M,{size:"medium","aria-label":c.Ru.get("close")})})]}),(0,x.jsxs)("form",{className:zr,onSubmit:e=>{e.preventDefault(),g()},children:[(0,x.jsx)("input",{ref:d,type:"text",defaultValue:e,onSubmit:g,className:v()(qr,Yr)}),(0,x.jsx)("div",{className:Qr,children:(0,x.jsx)(k.$,{colorSet:"invertedLight",type:"submit",children:c.Ru.get("save")})})]})]})})};var Zr=a(13160),$r=a(20442),Xr=a(30157);function en(){return(0,Xr.N)($r.hQ)}var tn=a(50248);function an(){const e=(e=>{const t={title:c.Ru.get("web-player.connect.device-picker.restricted-device-default-title"),body:c.Ru.get("web-player.connect.device-picker.restricted-device-default-body")};return e.reason,tn.m.CONNECT_DEBUG,t})(en().getRestrictionState());return e}var sn=a(50671);const rn="pHB4TMkKuN9rjS0KDi0e",nn="BFckQSqh6YPYP16D4F0Q",on=()=>{const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.restrictionsModalState.isOpen)),a=en().getRestrictionState(),{spec:n,logger:i,UBIFragment:l}=(0,Ea.r)(Zr.O,{data:{identifier:a.reason?.toString()||""}});(0,s.useEffect)((()=>{i.logImpression(n.impression())}),[i,n]);const d=()=>{const t=n.primaryButtonFactory();i.logInteraction(t.hitUiHide()),e((0,Z.d2)())},m=(0,sn.t)(n),g=an();return(0,x.jsx)(u.A,{isOpen:t,onRequestClose:d,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:g.title,children:(0,x.jsxs)("div",{className:v()("encore-light-theme",rn),children:[(0,x.jsx)(o.E,{as:"h2",variant:"titleSmall",children:g.title}),(0,x.jsx)(o.E,{as:"p",className:nn,children:g.body}),(0,x.jsx)(l,{spec:n,children:(0,x.jsx)(k.$,{ref:m,onClick:d,children:c.Ru.get("web-player.connect.device-picker.restrictions-modal-ok-button")})})]})})};function ln(){return null}var cn=a(62021);function dn(){const[e]=(0,cn.x)("lintHtmlWithCss",!1);let t;return t=ln,(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(t,{})})}var un=a(17918),mn=a(84287),gn=a(11635),pn=a(69707),hn=a(22212);const bn=new Qe.l("showItemsPlayedState","query","4a070b9bfab2e8537a5271e6839bc3ef51501dcac8170b5fb69a98f967c5fb60",null),xn=3e4;function fn(e,t=100){const{data:a,loading:s}=(r={uri:e,limit:t},n={staleTime:0,gcTime:18e5},(0,Je.I)(bn,r,n));var r,n;const i=function(e){const t=e?.lookup.at(0);if("PodcastOrAudiobookResponseWrapper"===t?.__typename){if("Audiobook"===t.data.__typename){const e=t.data;return"ContextChapterPage"===e.chaptersV2?.__typename&&e.chaptersV2.items.some((({entity:e})=>"Chapter"===e.data.__typename&&Rn(e.data)))}if("Podcast"===t.data.__typename){const e=t.data;return"ContextEpisodePage"===e.episodesV2?.__typename&&e.episodesV2.items.some((({entity:e})=>"Episode"===e.data.__typename&&Rn(e.data)))}}return!1}(a);return{hasUserListenedToShow:i,loading:s}}function Rn(e){return"COMPLETED"===e.playedState.state||e.playedState.playPositionMilliseconds>=xn}var yn=a(55623),En=a(93240),vn=a(78821);const kn="osuFIR_6Jo9yKsmLL4y2",Cn="r1F2okBwH7F8pEGF7MEG",jn="H2z72R8YxQVQF8UU_ymH",Sn="Pq5dXGGJ3mlXY0HFuhCS",Nn="plZRpYfm5PMEiSYLRj8P",wn="B8OPJYenwKO45OLDwLyY",On="HwHP6Y0kc7ksENQMXJ75",An="l2w2Hl3YN3bb4TcgyXcb",_n="hWmnoRh1uj8ciMRAgL4f",In="MXT688TwrGLq4tvesXwc",Tn="hQIFH0LbkGEHIdsQ20tQ",Ln=({uri:e,rating:t,isBook:a,closeRatingModal:r})=>{const[n,i]=(0,s.useState)(t??null),{onSubmitRating:o}=function(e,t){const a=(0,Et.T)(),{enqueueSnackbar:s}=(0,En.dh)(),{spec:r,logger:n}=(0,Ea.r)(vn.b,{}),{mutateAsync:i}=(0,yn.n)({mutationFn:async()=>{t&&await a.updateUserRating(e,t)},onSuccess:()=>{const a=r.submitRatingButtonFactory().hitSubmitRating({rating:t,entityUri:e});n.logInteraction(a),s(c.Ru.get("web-player.show.rating.snackbarSuccess"))},onError:()=>{s(c.Ru.get("web-player.show.rating.snackbarFailure"))}});return{onSubmitRating:i}}(e,n??0),l=null!==n&&n!==t,d=Array.from(Array(5).keys(),(e=>e+1));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:In,children:d.map((e=>(0,x.jsx)(y.H,{"aria-label":a?c.Ru.get("web-player.audiobooks.rating.starAriaLabel",e):c.Ru.get("web-player.show.rating.starAriaLabel",e),className:Tn,onClick:()=>i(e),iconOnly:()=>n&&n>=e?(0,x.jsx)(un.j,{size:"large",semanticColor:"textBase"}):(0,x.jsx)(mn.a,{size:"large"})},e)))}),(0,x.jsx)(k.$,{"aria-label":c.Ru.get("web-player.show.rating.submit"),colorSet:"invertedLight",disabled:!l,onClick:()=>{n&&o(),r()},children:c.Ru.get("web-player.show.rating.submit")})]})},Dn=({isBook:e,onDismiss:t})=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.E,{as:"p",variant:"titleSmall",className:An,children:e?c.Ru.get("web-player.audiobooks.rating.listenFirstTitle"):c.Ru.get("web-player.show.rating.listenFirstTitle")}),(0,x.jsx)(o.E,{as:"p",className:_n,variant:"bodyMedium",children:e?c.Ru.get("web-player.audiobooks.rating.listenFirstDescription"):c.Ru.get("web-player.show.rating.listenFirstDescription")}),(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:c.Ru.get("web-player.audiobooks.rating.ok")})]}),Pn=({uri:e,isBook:t,rating:a,spec:s,logger:r,closeRatingModal:n})=>{const{hasUserListenedToShow:i,loading:o}=fn(e);return o?(0,x.jsx)(hn.m,{}):a?.canRate&&i?(0,x.jsx)(Ln,{uri:e,rating:a?.rating?.rating??null,isBook:t,closeRatingModal:n}):(0,x.jsx)(Dn,{isBook:t,onDismiss:()=>{r.logInteraction(s.okButtonFactory().hitUiNavigateBack()),n()}})},Mn=s.memo((function({uri:e,metadata:t,isOpen:a}){const s=(0,r.wA)(),n=Boolean(t&&(0,vt.Go)(t)),i=(0,dt.g)(t?.coverArt,{desiredSize:320}),{spec:d,logger:m}=(0,Ea.r)(gn.e,{data:{identifier:n?pn.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:pn.$h.RATINGS_AND_REVIEWS_RATINGS,uri:e}}),g=t?.rating,p=()=>{s((0,Z.Kc)())};return(0,x.jsx)(u.A,{contentLabel:"podcast-rating-modal",isOpen:a,onRequestClose:p,children:(0,x.jsxs)("div",{className:kn,children:[(0,x.jsxs)("div",{className:jn,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleSmall",className:On,children:n?c.Ru.get("web-player.audiobooks.rating.rateAudiobook"):c.Ru.get("web-player.show.rating.header")}),(0,x.jsxs)("button",{className:Sn,onClick:()=>{const e=d.closeButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:[(0,x.jsx)(l.M,{role:"presentation"}),(0,x.jsx)("span",{className:"hidden-visually",children:c.Ru.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,x.jsxs)("div",{className:Nn,children:[(0,x.jsx)(S._,{loading:"eager",src:i?.url,className:Cn}),(0,x.jsx)("div",{className:wn,children:(0,x.jsx)(Fa.u,{property:Aa.skl,renderNewExperience:()=>(0,x.jsx)(Pn,{uri:e,rating:g,isBook:n,closeRatingModal:p,spec:d,logger:m}),renderOldExperience:()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.E,{as:"p",variant:"bodyMediumBold",className:An,children:n?c.Ru.get("web-player.audiobooks.rating.wantToRate"):c.Ru.get("web-player.show.rating.want-to-rate")}),(0,x.jsx)(o.E,{as:"p",className:_n,children:c.Ru.get("web-player.audiobooks.rating.goToApp")}),(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:()=>{const e=d.okButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:c.Ru.get("web-player.audiobooks.rating.ok")})]})})})]})]})})})),Un=()=>{const{uri:e,isOpen:t,metadata:a}=(0,r.d4)((e=>e.ui.showRatingModalState));return e&&a?(0,x.jsx)(Mn,{uri:e,metadata:a,isOpen:t}):null};var Bn=a(25797),Fn=a(29195),Gn=a(37178),Vn=a(21996);const Wn={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},zn={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"},Hn="nA6L5ghQWwxyiSLduNyb",Kn="CgsDbaLb2DCGHkrw4wiw",qn="qp1xbhJfglEmJAWm6pdy",Yn="fFk09sW_YL0Qsk8lYOfD",Qn="BDNNVyxsxgQQvGmij9M1",Jn="ChX5nojraEtlxQULfJFk",Zn="XV07akXqG5L_suY2X8ML",$n="j8qAQ6XAb2YSBUEzUqEV",Xn="xZnbvSzpNSY7qnC6X8Rf",ei="FZncbwv9M2sxuY27K8YO",ti=(0,s.memo)((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.signupToListenDialog.isOpen)),a=(0,Gn.W)(),n=(0,r.d4)((e=>e.session.userCountry)),i=(0,r.d4)((e=>e.features.isPodcastEnabled)),l=(0,de.W)(),d=(()=>{const e=(0,Vn.f)();return Object.keys(Wn).includes(e)?Wn[e]:Object.keys(zn).includes(e)?zn[e]:"https://spotify.com/download"})(),m=(0,Fn.vh)();(0,s.useEffect)((()=>{l({intent:"navigate",type:"view"})}),[l]);const g=(0,s.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,xa.f)(),country:n,context:window.location.search},a=(0,Bn._)(t);m.send(a),l({intent:"close",type:"click"}),e((0,Z.BY)())}),[e,l,m,n]),p=(0,s.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"download",destination_url:d,os:(0,xa.f)(),country:n,context:window.location.search},a=(0,Bn._)(t);m.send(a),l({intent:"download",type:"click"}),e((0,Z.BY)()),window.open(d,"_self")}),[e,l,d,m,n]);return(0,x.jsx)(u.A,{animated:!0,isOpen:t,className:Hn,overlayClassName:Kn,contentLabel:c.Ru.get("s2l.download_spotify"),onRequestClose:g,children:(0,x.jsxs)("div",{className:qn,children:[(0,x.jsxs)("div",{className:Yn,children:[(0,x.jsx)("div",{className:`${Jn}`,children:(0,x.jsx)("img",{className:Zn,alt:"Web Player",src:(0,Ba.b)(a?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})}),(0,x.jsxs)("div",{className:Qn,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleSmall",className:$n,children:c.Ru.get("s2l.download_spotify")}),(0,x.jsx)(o.E,{as:"p",semanticColor:"textSubdued",className:Xn,children:i?c.Ru.get("s2l.play_millions_podcasts"):c.Ru.get("s2l.play_millions")}),(0,x.jsx)(k.$,{onClick:p,children:c.Ru.get("s2l.download")})]})]}),(0,x.jsx)(y.H,{onClick:g,semanticColor:"textBase",className:ei,children:c.Ru.get("s2l.dismiss")})]})})})),ai=(0,s.memo)((function(){return(0,x.jsx)(qe.pZ,{value:"signup-to-listen",children:(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(ti,{})})})}));var si=a(32510),ri=a(498),ni=a(22713),ii=a(83346),oi=a(37337),li=a(40778);function ci(e){switch(e){case"Performers":return c.Ru.get("track-credits.performers");case"Writers":return c.Ru.get("track-credits.writers");case"Producers":return c.Ru.get("track-credits.producers");default:return e}}function di(e){switch(e){case"assistant recording engineer":return c.Ru.get("track-credits.assistant-recording-engineer");case"engineer":return c.Ru.get("track-credits.engineer");case"assistant engineer":return c.Ru.get("track-credits.assistant-engineer");case"trumpet":return c.Ru.get("track-credits.trumpet");case"guitar":return c.Ru.get("track-credits.guitar");case"composer and lyricist":return c.Ru.get("track-credits.composer-and-lyricist");case"associated performer":return c.Ru.get("track-credits.associated-performer");case"background vocals":return c.Ru.get("track-credits.background-vocals");case"bass":return c.Ru.get("track-credits.bass");case"co-producer":return c.Ru.get("track-credits.co-producer");case"additional engineer":return c.Ru.get("track-credits.additional-engineer");case"masterer":return c.Ru.get("track-credits.masterer");case"mixer":return c.Ru.get("track-credits.mixer");case"recording engineer":return c.Ru.get("track-credits.recording-engineer");case"accordion":return c.Ru.get("track-credits.accordion");case"piano":return c.Ru.get("track-credits.piano");case"organ":return c.Ru.get("track-credits.organ");case"background vocal":return c.Ru.get("track-credits.background-vocal");case"recorded by":return c.Ru.get("track-credits.recorded-by");case"mixing engineer":return c.Ru.get("track-credits.mixing-engineer");case"editor":return c.Ru.get("track-credits.editor");case"fiddle":return c.Ru.get("track-credits.fiddle");case"additional vocals":return c.Ru.get("track-credits.additional-vocals");case"violin":return c.Ru.get("track-credits.violin");case"viola":return c.Ru.get("track-credits.viola");case"percussion":return c.Ru.get("track-credits.percussion");case"mastering engineer":return c.Ru.get("track-credits.mastering-engineer");case"composer":return c.Ru.get("track-credits.composer");case"additional keyboards":return c.Ru.get("track-credits.additional-keyboards");case"mix engineer":return c.Ru.get("track-credits.mix-engineer");case"mandolin":return c.Ru.get("track-credits.mandolin");case"acoustic guitar":return c.Ru.get("track-credits.acoustic-guitar");case"keyboards":return c.Ru.get("track-credits.keyboards");case"synthesizer":return c.Ru.get("track-credits.synthesizer");case"drum programmer":return c.Ru.get("track-credits.drum-programmer");case"programmer":return c.Ru.get("track-credits.programmer");case"assistant mixer":return c.Ru.get("track-credits.assistant-mixer");case"assistant mixing engineer":return c.Ru.get("track-credits.assistant-mixing-engineer");case"digital editor":return c.Ru.get("track-credits.digital-editor");case"drums":return c.Ru.get("track-credits.drums");case"drum programming":return c.Ru.get("track-credits.drum-programming");case"conga":return c.Ru.get("track-credits.conga");case"samples":return c.Ru.get("track-credits.samples");case"audio recording engineer":return c.Ru.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return c.Ru.get("track-credits.audio-additional-mix-engineer");case"recording":return c.Ru.get("track-credits.recording");case"assistant producer":return c.Ru.get("track-credits.assistant-producer");case"writer":return c.Ru.get("track-credits.writer");case"strings":return c.Ru.get("track-credits.strings");case"music publisher":return c.Ru.get("track-credits.music-publisher");case"programming":return c.Ru.get("track-credits.programming");case"music production":return c.Ru.get("track-credits.music-production");case"background vocalist":return c.Ru.get("track-credits.background-vocalist");case"producer":return c.Ru.get("track-credits.producer");case"vocal":return c.Ru.get("track-credits.vocal");case"songwriter":return c.Ru.get("track-credits.songwriter");case"lyricist":return c.Ru.get("track-credits.lyricist");case"additional mixer":return c.Ru.get("track-credits.additional-mixer");case"upright bass":return c.Ru.get("track-credits.upright-bass");case"clapping":return c.Ru.get("track-credits.clapping");case"electric bass":return c.Ru.get("track-credits.electric-bass");case"horn arranger":return c.Ru.get("track-credits.horn-arranger");case"flugelhorn":return c.Ru.get("track-credits.flugelhorn");case"second engineer":return c.Ru.get("track-credits.second-engineer");case"rhythm guitar":return c.Ru.get("track-credits.rhythm-guitar");case"bass guitar":return c.Ru.get("track-credits.bass-guitar");case"electric guitar":return c.Ru.get("track-credits.electric-guitar");case"dobro":return c.Ru.get("track-credits.dobro");case"instruments":return c.Ru.get("track-credits.instruments");case"vocal ensemble":return c.Ru.get("track-credits.vocal-ensemble");case"recording arranger":return c.Ru.get("track-credits.recording-arranger");case"arranger":return c.Ru.get("track-credits.arranger");case"steel guitar":return c.Ru.get("track-credits.steel-guitar");case"executive producer":return c.Ru.get("track-credits.executive-producer");case"additional production":return c.Ru.get("track-credits.additional-production");case"designer":return c.Ru.get("track-credits.designer");case"assistant mix engineer":return c.Ru.get("track-credits.assistant-mix-engineer");case"studio musician":return c.Ru.get("track-credits.studio-musician");case"voice performer":return c.Ru.get("track-credits.voice-performer");case"orchestra":return c.Ru.get("track-credits.orchestra");case"chamber ensemble":return c.Ru.get("track-credits.chamber-ensemble");case"additional percussion":return c.Ru.get("track-credits.additional-percussion");case"cajon":return c.Ru.get("track-credits.cajon");case"miscellaneous production":return c.Ru.get("track-credits.miscellaneous-production");case"backing vocals":return c.Ru.get("track-credits.backing-vocals");case"pedal steel":return c.Ru.get("track-credits.pedal-steel");case"additional producer":return c.Ru.get("track-credits.additional-producer");case"keyboard arrangements":return c.Ru.get("track-credits.keyboards-arrangements");case"saxophone":return c.Ru.get("track-credits.saxophone");case"sound engineer":return c.Ru.get("track-credits.sound-engineer");case"assistant remix engineer":return c.Ru.get("track-credits.assistant-remix-engineer");case"double bass":return c.Ru.get("track-credits.double-bass");case"co-writer":return c.Ru.get("track-credits.co-writer");case"pro tools":return c.Ru.get("track-credits.pro-tools");case"tape realization":return c.Ru.get("track-credits.tape-realization");case"ambient sounds":return c.Ru.get("track-credits.ambient-sounds");case"sound effects":return c.Ru.get("track-credits.sound-effects");case"harp":return c.Ru.get("track-credits.harp");case"cymbals":return c.Ru.get("track-credits.cymbals");case"vocal engineer":return c.Ru.get("track-credits.vocal-engineer");case"mellotron":return c.Ru.get("track-credits.mellotron");case"recorder":return c.Ru.get("track-credits.recorder");case"main artist":return c.Ru.get("track-credits.main-artist");case"production":return c.Ru.get("track-credits.production");case"artist":return c.Ru.get("track-credits.artist");case"vocals":return c.Ru.get("track-credits.vocals");case"featuring":return c.Ru.get("track-credits.featuring");case"featured artist":return c.Ru.get("track-credits.featured-artist");case"work arranger":return c.Ru.get("track-credits.work-arranger");case"mixing engineers":return c.Ru.get("track-credits.mixing-engineers");case"re-mixer":return c.Ru.get("track-credits.re-mixer");case"recording producer":return c.Ru.get("track-credits.recording-producer");case"co-mixer":return c.Ru.get("track-credits.co-mixer");case"bells":return c.Ru.get("track-credits.bells");case"pro tools editing":return c.Ru.get("track-credits.pro-tools-editing");case"vibraphone":return c.Ru.get("track-credits.vibraphone");case"additional recording":return c.Ru.get("track-credits.additional-recording");case"vocal producer":return c.Ru.get("track-credits.vocal-producer");case"sitar":return c.Ru.get("track-credits.sitar");case"cello":return c.Ru.get("track-credits.cello");case"flute":return c.Ru.get("track-credits.flute");case"horn":return c.Ru.get("track-credits.horn");case"brass band":return c.Ru.get("track-credits.brass-band");case"programming and keyboards":return c.Ru.get("track-credits.programming-and-keyboards");case"all instruments":return c.Ru.get("track-credits.all-instruments");case"programmed and arranged by":return c.Ru.get("track-credits.programmed-and-arranged-by");case"additional programmer":return c.Ru.get("track-credits.additional-programmer");case"recording and mixing":return c.Ru.get("track-credits.recording-and-mixing");case"engineer and mixer":return c.Ru.get("track-credits.engineer-and-mixer");case"vocal arranger":return c.Ru.get("track-credits.vocal-arranger");case"income participant":return c.Ru.get("track-credits.income-participant");default:return e}}var ui=a(72671);const mi=(e,t)=>e.build().withHost(ui.i6).withPath(`/v0/experimental/${t}/credits`).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send();var gi=a(98655);const pi="main-trackCreditsModal-container",hi="main-trackCreditsModal-header",bi="main-trackCreditsModal-closeBtn",xi="main-trackCreditsModal-mainSection",fi="main-trackCreditsModal-originalCredits",Ri="main-trackCreditsModal-sectionTitle",yi="main-trackCreditsModal-creditsGroup",Ei="main-trackCreditsModal-creditsEntry",vi="main-trackCreditsModal-clickableCreditsEntry",ki="main-trackCreditsModal-sourceNames",Ci="main-trackCreditsModal-additionalCredits",ji=(0,s.memo)((function(){const e=(0,r.wA)(),{isOpen:t,trackUri:a}=(0,r.d4)((e=>e.ui.trackCreditsModal)),n=a.split(":"),i=n[n.length-1],{data:l,error:d,loading:m}=(0,gi.Z)(mi,[i]),g=(0,s.useCallback)((()=>{e((0,Z.P0)(!1,""))}),[e]),p=(0,Fn.vh)(),{isAnonymous:h}=(0,r.d4)(X.Ht),{spec:b,logger:f}=(0,Ea.r)(li.i,{data:{uri:a}});return(0,x.jsx)(u.A,{contentLabel:c.Ru.get("track-credits.label"),isOpen:t,onRequestClose:g,children:!m&&!d&&l&&(0,x.jsxs)("div",{className:pi,children:[(0,x.jsxs)("div",{className:hi,children:[(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("track-credits.label")}),(0,x.jsx)("button",{"aria-label":c.Ru.get("close"),className:bi,onClick:g,children:(0,x.jsx)(ka.A,{width:18,height:18,fill:"white"})})]}),(0,x.jsxs)("div",{className:xi,onScroll:h?()=>p.send((0,oi.s)({track_uri:a})):()=>p.send((0,ii.h)({track_uri:a})),children:[(0,x.jsxs)("div",{className:fi,children:[(0,x.jsx)(o.E,{as:"h2",className:Ri,variant:"bodyMediumBold",children:l.body.trackTitle}),l.body.roleCredits.map(((e,t)=>{const s=b.creditSectionFactory({position:t});return(0,x.jsxs)("div",{className:yi,children:[(0,x.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:ci(e.roleTitle)}),e.artists.length>0?e.artists.map((({name:t,uri:r,externalUrl:n})=>n?(0,x.jsx)("a",{href:n,draggable:!1,rel:"noopener noreferrer",onClick:()=>{const i=s.artistNameFactory({uri:r??""}).hitNavigateToExternalUri({destination:n});f.logInteraction(i),h?p.send((0,ni._)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n})):p.send((0,ri.d)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n}))},target:"_blank",className:vi,children:t},t):(0,x.jsx)(o.E,{className:Ei,variant:"bodySmall",semanticColor:"textSubdued",children:t},t))):"-"]},e.roleTitle)})),(0,x.jsxs)(o.E,{as:"p",variant:"bodySmall",children:[c.Ru.get("track-credits.source"),":"," ",l.body.sourceNames.join(c.Ru.getSeparator())]})]}),l.body.extendedCredits&&l.body.extendedCredits.length>0&&(0,x.jsxs)("div",{className:Ci,children:[(0,x.jsx)(o.E,{as:"h3",className:Ri,variant:"bodyMediumBold",children:c.Ru.get("track-credits.additional-credits")}),l.body.extendedCredits.map((e=>(0,x.jsxs)("div",{className:yi,children:[(0,x.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:di(e.roleTitle.toLowerCase())}),e.artists.map((t=>(0,x.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:()=>{h||p.send((0,si.L)({track_uri:a,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:vi,children:t.name},t.name)))]},e.roleTitle))),(0,x.jsxs)(o.E,{as:"p",variant:"bodySmall",className:ki,semanticColor:"textSubdued",children:[c.Ru.get("track-credits.source"),":"," ",(0,x.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));var Si=a(55569),Ni=a.n(Si),wi=a(22645);function Oi(){const e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@Â£Ã©Ãº",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}const Ai=()=>{const e=(0,Fn.vh)();return(0,s.useEffect)((()=>{const t=Oi().toDataURL("image/png"),a=Ni()(t);e.send((0,wi.u)({h:a}))}),[e]),null},_i=()=>{const e=(0,s.useRef)(!1);return!(0,n.NC)(Aa.x_7)||e.current?null:(e.current=!0,(0,x.jsx)(Ai,{}))};var Ii=a(50486),Ti=a(82484),Li=a(6582),Di=a(66737),Pi=a(1599),Mi=a(12641),Ui=a(21398);var Bi=a(87464),Fi=a(90326);let Gi=null;const Vi=()=>{const{verificationId:e,refetch:t}=(()=>{const[e,t]=(0,s.useState)(null),a=(0,Fn.vh)(),{isTrustedRef:r,isTrustedFn:n}=(0,Di.d)(),{data:i,refetch:o,error:l}=(0,Ii.I)({enabled:!1,queryKey:["fetchVerification"],queryFn:async()=>{const e=Pi.n.getInstance(),{body:t}=await(0,Mi.Q)(e);return t}});return(0,s.useEffect)((()=>{i&&i.length>0&&(async()=>{await n();const e=i?.[0].id;t(e),a.send((0,Ti.n)({id:e,method:"IN_APP_VERIFICATION_V0",is_trusted:r.current}))})(),l&&a.send((0,Li.D)({method:"IN_APP_VERIFICATION_V0",error_message:l instanceof Ui.O?l.name:null,http_method:"get",http_path:"/verifications"}))}),[i,l,a,n,r]),{verificationId:e,refetch:o}})();return(0,Fi.p)(Bi.gd.UPDATE,(a=>{if(e)return;const s="number"==typeof a?.data?.positionAsOfTimestamp&&a.data.positionAsOfTimestamp>=0&&a.data.positionAsOfTimestamp<=1e3;!a?.data?.isPaused&&s&&function(){const e=performance.now();if(Gi&&e-Gi<6e5)return!1;return Gi=e,!0}()&&t()})),e},Wi=(0,s.lazy)((()=>Promise.all([a.e(4151),a.e(3282)]).then(a.bind(a,80901)))),zi=()=>{const e=(0,n.NC)(Aa.IqJ),[t,a]=(0,s.useState)(!1),r=Vi();return(0,s.useEffect)((()=>{a(!!r)}),[r]),e&&t?(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Wi,{verificationId:`${r}`})}):null};var Hi=a(22069),Ki=a(40985),qi=a(23299);const Yi=()=>{const e=(0,r.wA)(),t=(0,qi.D)(),{currentDevice:a}=(0,Ki.l)(),{spec:n,logger:i}=(0,Ea.r)(Hi.h,{}),{onConfirm:o,onCancel:l}=(0,r.d4)((e=>e.ui.videoNotSupportedModal)),d=(0,s.useCallback)((()=>{i.logInteraction(n.cancelButtonFactory().hitUiHide()),e(ds.ug.actions.close()),l?.()}),[e,i,l,n]),u=(0,s.useCallback)((async()=>{const{interactionId:s}=i.logInteraction(n.confirmButtonFactory().hitDisconnectFromRemoteDevice({remoteDeviceId:a?.connectStateId??""}));e(ds.ug.actions.close()),await t.pullToLocalDevice({interactionId:s}),o()}),[t,a?.connectStateId,e,i,o,n]),m=c.Ru.get("video-not-supported.modal.title"),g=c.Ru.get("video-not-supported.modal.cancel"),p=c.Ru.get("video-not-supported.modal.confirm");return(0,x.jsx)(ce.T,{isOpen:!0,onConfirm:u,onClose:d,titleText:m,"aria-label":m,cancelText:g,confirmText:p,width:{minWidth:420,maxWidth:600}})};var Qi=a(8398);class Ji extends s.PureComponent{handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,x.jsx)(Qi.x,{animated:!0,headingMessage:c.Ru.get("offline-error.device-limit-reached.header"),message:c.Ru.get("offline-error.device-limit-reached.message"),buttonLabel:c.Ru.get("close"),isOpen:e,onDismissDialog:t})}}const Zi=(0,r.Ng)((e=>({isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen})),(e=>({closeModal:()=>e((0,Z.kC)())})))(Ji);var $i=a(9856),Xi=a.n($i);class eo extends s.PureComponent{constructor(e){super(e),this.handleRequestClose=this.handleRequestClose.bind(this),this.browserName=Xi().getParser(window.navigator.userAgent).getBrowserName()}handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,x.jsx)(Qi.x,{headingMessage:c.Ru.get("fatal-error.header"),onDismissDialog:t,buttonLabel:c.Ru.get("close"),message:c.Ru.get("browser_upgrade_notice",this.browserName),isOpen:e})}}const to=(0,r.Ng)((e=>({isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen})),(e=>({closeModal:()=>e((0,Z.e$)())})))(eo);var ao=a(56515),so=a(99410),ro=a(51354),no=a(44577),io=a(55303);const oo="kRjJnLKzSkQegtH6S7zD";var lo=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(lo||{});const co=(0,s.memo)((function({image:e,mediaType:t,backgroundColor:a,onSignupClick:s,onLoginClick:r,onDownloadClick:n,downloadLink:i}){const l=e=>t=>{switch(t.preventDefault(),e){case lo.DOWNLOAD:n&&n(),window.open(i,"_top","noopener");break;case lo.SIGNUP:s&&s(),(0,io.ie)();break;case lo.LOGIN:r&&r(),(0,io.PW)()}},d=(0,no.g)(),u="audio"===t?c.Ru.get("fta.wall.start-listening"):c.Ru.get("fta.wall.start-watching"),m=(0,x.jsx)(k.$,{onClick:l(lo.SIGNUP),children:c.Ru.get("mwp.cta.sign.up.free")}),g=!d&&i?(0,x.jsx)(ao.n,{"data-testid":"upsell-download-app-button",onClick:l(lo.DOWNLOAD),children:c.Ru.get("mwp.cta.download.app")}):void 0,p=(0,ro.y)();return(0,x.jsx)(U,{image:e,title:u,primaryButton:m,secondaryButton:g,size:p,style:a?{backgroundColor:a}:{},renderExtraInfo:()=>(0,x.jsxs)("p",{className:oo,onKeyDown:()=>l(lo.LOGIN),role:"presentation",children:[(0,x.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("already_have_account")}),(0,x.jsx)(so.Y,{href:"#",onClick:l(lo.LOGIN),children:c.Ru.get("login")})]})})}));var uo=a(66583),mo=a(36025);const go="anllJYN1jeYGGE1iAJUJ",po="YQRQdqiQ_iT0eo0owsJL",ho="ftlV6Ixmq4wkKMg7hJ1v",bo={[P.E.SMALL]:0,[P.E.MEDIUM]:600,[P.E.LARGE]:1024},xo=()=>{const e=(0,mo.mb)();return e.searchParams.set("referrer","dwp"),e},fo=({image:e,mediaType:t,backgroundColor:a,onClose:r})=>{const n=(0,de.W)(),i=e=>()=>{n({intent:e,type:"click"})},{ref:o,breakpoint:l}=(0,uo.x)(bo);return(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key&&(r(),n({intent:"close-upsell",type:"key-escape"}))};return n({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)}),[n,r]),(0,x.jsx)(ro.o.Provider,{value:l,children:(0,x.jsx)("div",{className:`dialog ${ho}`,role:"presentation",ref:o,onClick:e=>{/dialog/.test(e.target.className)&&(n({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),r())},children:(0,x.jsxs)("div",{className:go,style:{backgroundColor:a},children:[(0,x.jsx)(co,{image:e,mediaType:t,onDownloadClick:i("download-app"),onLoginClick:i("login"),onSignupClick:i("signup"),downloadLink:xo().toString()}),(0,x.jsx)("div",{className:po,children:(0,x.jsx)(y.H,{onClick:()=>{n({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),r()},children:c.Ru.get("close")})})]})})})},Ro=s.memo((function({uri:e}){const t=(0,r.wA)(),a=(0,Ba.b)("images/focused_stroy_play.png"),[n,i]=function(e,t=Ye.l0o,a){const{request:r}=(0,s.useContext)(ct.j),[n,i]=(0,s.useState)(t),[o,l]=(0,s.useState)(a),c=(0,s.useCallback)((e=>{const{url:t}=(0,dt.g)(e?.sources)||{},a=mt(e);t&&l(t),a&&i(a)}),[l]);return(0,s.useEffect)((()=>{(async()=>{const t=(0,le.o_h)(e);if(!t)return;const a=gt[t.type];if(!a)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const s=await r(a,{uri:t.toURI()}),{albumUnion:n,artistUnion:i,episodeUnionV2:o,playlistV2:l,podcastUnionV2:d,trackUnion:u}=s?.data||{};pt(n)?c(n.coverArt):ht(i)?c(i.visuals.avatarImage):bt(o)?c(o.coverArt):xt(l)?c(l.images?.items?.[0]):ft(d)||Rt(d)?c(d.coverArt):yt(u)&&c(u.albumOfTrack?.coverArt)})()}),[e,r,c]),[o,n]}(e,"#9BF0E1",a);return(0,x.jsx)(qe.pZ,{value:"signup-modal",children:(0,x.jsx)(fo,{image:n,mediaType:(0,le.WB1)(e??"")?"mixed":"audio",onClose:()=>{t((0,Z.BU)())},backgroundColor:i})})}));var yo=a(61335),Eo=a(95651);const vo=()=>{const e=(0,r.wA)(),{data:t}=(0,r.d4)((e=>e.ui.artistAboutDialog));if(!t)return null;const{artist:a,artistUri:s,visuals:n,stats:i,externalLinks:o}=t,{gallery:l}=n,{monthlyListeners:c,worldRank:d,followers:u,topCities:m}=i,g=[];return l.items.forEach((e=>{const t=e.sources.map(Eo.m),a=(0,dt.g)(t,{desiredLabel:"large",desiredSize:600});a&&g.push(a)})),(0,x.jsx)(yo.y,{artistUri:s,name:a.name,bio:a.biography?.text,bioSource:a.biography?.type,worldRank:d||0,isOpen:!0,closeModal:()=>{e((0,Z.lM)())},images:g,externalLinks:o,topCities:m?.items,followers:u,monthlyListeners:c})};var ko=a(38219),Co=a(82956),jo=a(19862);function So({children:e,ctaUrl:t,spec:a}){const n=(0,r.wA)(),i=(0,us.s)(),o=(0,s.useCallback)((()=>{n((0,Z.us)()),i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[n,i,a]),l=(0,s.useCallback)((()=>{i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:t}))}),[t,i,a]);return t?(0,x.jsx)(k.$,{as:"a",href:t,target:"_blank",colorSet:"invertedLight",iconTrailing:jo.p,onClick:l,children:e}):(0,x.jsx)(k.$,{colorSet:"invertedLight",onClick:o,children:e})}function No({children:e,onClick:t}){return e?(0,x.jsx)(y.H,{onClick:t,semanticColor:"textSubdued",children:e}):null}var wo=a(7493);const Oo="NxTiDyoRCvpiMZga0txl",Ao="uEd5tll92zN6mh4YiQ6E",_o="YQEvA2GajE9nCaNVxwuq",Io="F12mp8xs0gc5ri9361Ap",To=()=>{const e=(0,r.wA)(),{spec:t,logger:a}=(0,Ea.r)(Co.M,{}),{consumptionCapExplanation:n,isOpen:i}=(0,r.d4)((e=>e.ui.bookConsumptionCapModal)),l=(0,s.useCallback)((()=>{e((0,Z.us)()),a.logInteraction(t.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,a,t]),c=(0,s.useCallback)((t=>{t.data.explanation?e((0,Z._3)(t.data.explanation)):e((0,Z.us)())}),[e]);return(0,wo.l)(c),(0,x.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:l,contentLabel:n.title,isOpen:i,children:(0,x.jsxs)("div",{className:Oo,children:[(0,x.jsx)(ko._,{className:Ao,src:(0,Ba.b)("images/top-up.png"),alt:"",imageWidth:"200px",imageHeight:"196px"}),(0,x.jsxs)("div",{className:_o,children:[(0,x.jsx)(o.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:n.title}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:n.body}),(0,x.jsxs)("div",{className:Io,children:[(0,x.jsx)(So,{ctaUrl:n.ctaUrl,spec:t,children:n.cta}),(0,x.jsx)(No,{onClick:l,children:n.dismiss})]})]})]})})};var Lo=a(8143),Do=a(42767),Po=a(27102);const Mo=(0,s.lazy)((async()=>{const{DebugWindowContents:e}=await Promise.all([a.e(4151),a.e(5125),a.e(8161),a.e(983)]).then(a.bind(a,76815));return{default:e}})),Uo=()=>{const{handle:e,show:t}=(0,Do.j)();return(0,pa.x)(ga.W.SHOW_DEBUG_WINDOW,(()=>{t()})),null!==e?(0,Lo.createPortal)((0,x.jsx)(Po.IF,{handle:e,children:(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Mo,{})})}),e.document.body):null};var Bo=a(97218);const Fo=({uri:e,onConfirm:t,onCancel:a,remoteDeviceInfo:n})=>{const i=(0,us.s)(),o=(0,s.useMemo)((()=>(0,Bo.c)()),[]);(0,s.useEffect)((()=>{i.logImpression(o.impression())}),[i,o]);const l=(0,r.wA)();return(0,x.jsx)(ce.T,{"aria-label":c.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:n?c.Ru.get("web-player.download.remove-download-confirmation-dialog.message-remote",n.deviceName):c.Ru.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:()=>{t(),l((0,Z.Kf)()),i.logInteraction(n?o.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:e,remoteDeviceId:n.deviceId,remoteDeviceType:n.deviceType.toString(),remoteClientPlatform:n.clientPlatform.toString()}):o.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},onClose:()=>{a(),l((0,Z.Kf)()),i.logInteraction(o.cancelButtonFactory().hitUiHide())},confirmText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:c.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var Go=a(12967),Vo=a(19900),Wo=a(81231),zo=a(90696),Ho=a(41616),Ko=a(65462),qo=a(84816),Yo=a(21082),Qo=a(36072),Jo=a(22555),Zo=a(81799),$o=a(18716);const Xo=({onChangePermission:e,onRemoveMember:t,onLeave:a,member:s,capabilities:r})=>(0,x.jsxs)(Ns.W,{children:[r.canAdministratePermissions&&"VIEWER"===s.permissionLevel&&(0,x.jsx)(ws.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("CONTRIBUTOR"),leadingIcon:(0,x.jsx)(Zo.u,{size:"small"}),children:(0,x.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.make-collaborator")})}),r.canAdministratePermissions&&"CONTRIBUTOR"===s.permissionLevel&&(0,x.jsx)(ws.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("VIEWER"),leadingIcon:(0,x.jsx)(Zo.u,{size:"small"}),children:(0,x.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.make-listener")})}),r.canAdministratePermissions&&(0,x.jsx)(ws.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>t(),leadingIcon:(0,x.jsx)($o.r,{size:"small"}),children:(0,x.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.remove-user-from-playlist")})}),r.canCancelMembership&&(0,x.jsx)(ws.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>a(),leadingIcon:(0,x.jsx)($o.r,{size:"small"}),children:(0,x.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.leave-playlist")})})]});var el=a(19640);const tl="uv2sbcK86mvObEP6I6hA",al="biDFn_kFEWlTdVmGaI4c",sl="EW1t5mbo9hvxGC_ptS6k",rl="qEJiFwRQbUiOdb9xXQIa",nl="SexldtxY9c9V6RANcuod",il="zW45u2gfu8HHBqbm745Z",ol="vxjT7DTxVfyAxy3WcErT",ll="llgv1BhpY3BwLUvcQ3Hx",cl="aCyb8gmETLFf6lQmJs2v",dl="ZKrl2b1JEsPzkUo5X9hG",ul="gaPaX1jusmGCAKSG5L7N",ml="Nhe2Q_5EbptALoVW3V4K",gl="s9rTnCluVsYXlqj5OdMg",pl="FJrwM8ylEu9MfQEclH24",hl="olUpKnRVm_c2P5yQwddx",bl=({uri:e,member:t,capabilities:a,isCurrentUser:n})=>{const i=(0,r.wA)(),[l,d]=(0,s.useState)(!1),{changeMemberPermission:u,removeMember:m}=(e=>{const t=(0,el.a)(),a=(0,s.useCallback)((async(a,s)=>{await t.setMemberPermission(e,a,s)}),[t,e]),r=(0,s.useCallback)((async a=>{await t.removeMember(e,a)}),[t,e]),n=(0,s.useCallback)((async a=>{await t.setBasePermission(e,a)}),[t,e]);return{uri:e,changeMemberPermission:a,removeMember:r,changeBasePermission:n}})(e),g=(0,s.useCallback)((e=>{t.user&&(u(t.user.username,e),d(!0))}),[u,t.user]),p=(0,s.useCallback)((()=>{t.user&&(m(t.user.username),d(!0))}),[t.user,m]),h=(0,s.useCallback)((()=>{i((0,Z.aP)(e))}),[i,e]),b=!t.isOwner&&(a?.canAdministratePermissions||a?.canCancelMembership&&n);let f="CONTRIBUTOR"===t.permissionLevel?c.Ru.get("permissions.collaborator"):c.Ru.get("permissions.listener");return t.isOwner&&(f=c.Ru.get("permissions.creator")),b&&a?(0,x.jsx)(Ss.b,{renderInline:!0,menu:(0,x.jsx)(Xo,{onChangePermission:g,onRemoveMember:p,onLeave:h,capabilities:a,member:t}),children:(e,t,a)=>(0,x.jsxs)("button",{className:v()(gl,pl,{[hl]:l}),onClick:t,ref:a,type:"button","data-testid":"permissions-menu",children:[(0,x.jsx)(o.E,{variant:"bodySmall",children:f}),e?(0,x.jsx)(Qo.J,{size:"small"}):(0,x.jsx)(Jo.y,{size:"small"})]})}):(0,x.jsx)(o.E,{variant:"bodySmall",className:gl,children:f})},xl=({member:e,playlistUri:t,username:a,capabilities:s,onClose:r})=>{if(!e.user)return null;const n=a===e.user.username,i=n&&e.user.displayName?c.Ru.get("permissions.current-user-name",e.user.displayName):e.user.displayName;return(0,x.jsxs)("div",{className:ll,children:[(0,x.jsxs)("div",{className:cl,children:[(0,x.jsx)(Ho.e,{label:e.user.displayName,images:e.user.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:32,userIconSize:"small"}),(0,x.jsxs)("div",{className:dl,children:[(0,x.jsx)(Ko.h,{menu:(0,x.jsx)(qo.B,{uri:e.user.uri}),children:(0,x.jsx)(Yo.N,{title:i??e.user.username,to:e.user.uri,dir:"auto",onClick:r,children:(0,x.jsx)(o.E,{variant:"bodySmallBold",children:i})})}),e.songsAdded>0&&(0,x.jsx)(o.E,{className:ul,variant:"marginal",children:c.Ru.get("permissions.songs-added",e.songsAdded)})]})]}),(0,x.jsx)(bl,{uri:t,member:e,capabilities:s,isCurrentUser:n})]},e.user.uri)};const fl=({isPublicPlaylist:e})=>(0,x.jsx)("div",{className:nl,children:e?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Vo.d,{size:"small"}),(0,x.jsx)(o.E,{className:il,variant:"marginal",children:c.Ru.get("permissions.public-playlist")})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Wo.u,{size:"small"}),(0,x.jsx)(o.E,{className:il,variant:"marginal",children:c.Ru.get("permissions.private-playlist")})]})}),Rl=({isOpen:e,uri:t,onClose:a})=>{const n=function(e){const t=(0,el.a)(),[a,r]=(0,s.useState)(null),n=(0,s.useCallback)(((e,t)=>{r(e||!t?null:t)}),[]);return(0,s.useEffect)((()=>t.subscribeToMembers(e,n)),[t,e,n]),a}(t),i=(0,r.d4)((({session:e})=>e?.user?.id))||null;return n?(0,x.jsx)(u.A,{isOpen:e,onRequestClose:a,contentLabel:c.Ru.get("permissions.modal-label"),children:(0,x.jsxs)("div",{"data-testid":"playlist-permissions-modal",className:tl,children:[(0,x.jsxs)("div",{className:al,children:[(0,x.jsxs)("div",{className:sl,children:[(0,x.jsx)(fl,{isPublicPlaylist:(d=n.basePermissionLevel,"VIEWER"===d||"CONTRIBUTOR"===d)}),(0,x.jsx)("button",{className:ol,onClick:a,children:(0,x.jsx)(l.M,{size:"small","aria-label":c.Ru.get("close")})})]}),(0,x.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("permissions.shared-with")})]}),(0,x.jsx)(zo.a,{className:ml,children:(0,x.jsx)("div",{className:rl,children:(0,x.jsx)("div",{children:n.members&&n.members.map((e=>(0,x.jsx)(xl,{playlistUri:t,member:e,username:i,capabilities:n.capabilities,onClose:a},e.user?.username)))})})})]})}):null;var d};var yl=a(27438);const El=()=>{const{isOpen:e,uri:t}=(0,s.useContext)(yl.cM),a=(0,s.useContext)(yl.VV),r=(0,s.useCallback)((()=>{a({type:"close"})}),[a]);return e&&t?(0,x.jsx)(Rl,{isOpen:e,onClose:r,uri:t}):null};var vl=a(56385);const kl="search-modal-listbox";var Cl=a(66371);const jl="search-modal-searchBar",Sl="search-modal-searchIcon",Nl="search-modal-input",wl=(0,s.memo)((function(e){const{value:t,onChange:a,onKeyPress:s,hasResults:r,activeResultId:n}=e;return(0,x.jsxs)("div",{className:jl,children:[(0,x.jsx)(Cl.C,{className:Sl,"aria-hidden":!0}),(0,x.jsx)(o.E,{as:"input",variant:"bodyMedium",className:Nl,value:t,onKeyDown:s,onChange:a,placeholder:c.Ru.get("search.search-for-label"),autoFocus:!0,role:"combobox","aria-expanded":r,"aria-controls":kl,"aria-owns":kl,"aria-activedescendant":n})]})})),Ol={SearchModalInstructions:"search-modal-keyboard-accessibility-bar",hidden:"KOpaRxg8Q8z9XEMKrRp4",key:"c4hmXDjs2Dv8n3VCLz1g"},Al=({canOpen:e,canPlay:t,canSelect:a})=>e||t||a?(0,x.jsxs)("div",{className:Ol.SearchModalInstructions,children:[(0,x.jsx)(Dl,{isActive:a,children:(0,x.jsx)(_l,{})}),(0,x.jsx)(Dl,{isActive:e,children:(0,x.jsx)(Il,{})}),(0,x.jsx)(Dl,{isActive:t,children:(0,x.jsx)(Tl,{})})]}):null;function _l(){return c.Ru.get("web-player.search-modal.instructions.navigate",{keys:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ll,{children:"â†‘"}),(0,x.jsx)(Ll,{children:"â†“"})]})})}function Il(){return c.Ru.get("web-player.search-modal.instructions.open",{keys:(0,x.jsx)(Ll,{children:"Enter"})})}function Tl(){return c.Ru.get("web-player.search-modal.instructions.play",{keys:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ll,{children:"Shift"}),(0,x.jsx)(Ll,{children:"Enter"})]})})}function Ll({children:e}){return(0,x.jsx)(o.E,{as:"kbd",variant:"bodySmall",className:Ol.key,semanticColor:"textBase",children:e})}function Dl({children:e,isActive:t}){return(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:v()({[Ol.hidden]:!t}),children:e})}const Pl=new Qe.l("searchModalResults","query","34f48bca447d3420a9310ea259bfd4b89d2f7a3608c461d5c121d6232379fb22",null);var Ml=a(85907);const Ul=(0,s.memo)((function(e){const{query:t,onResults:a,numberOfResults:r}=e,n=(0,Sr.n)(),{data:i,error:o,loading:l}=(c={limit:r,numberOfTopResults:r,offset:0,searchTerm:t,includeAudiobooks:!0},d={gcTime:18e5,staleTime:3e5,enabled:t.trim().length>0&&n},(0,Je.I)(Pl,c,d));var c,d;return(0,s.useEffect)((()=>{const e=i?.searchV2?.topResultsV2?.itemsV2??[],s=[];for(let t=0;t<e.length;t++){const{item:a,matchedFields:r}=e[t];if("UnknownTypeWrapper"!==a.__typename&&"PreReleaseResponseWrapper"!==a.__typename&&a.data)switch(a.data.__typename){case"Genre":s.push({...a.data,uri:Bl(a.data.uri),matchedFields:r});break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":s.push({...a.data,matchedFields:r});break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,Ml.k)(a.data)}}a({query:t,error:!!o,loading:l,results:s})}),[i,o,l,a,t]),null}));function Bl(e){return(0,le.o_h)(e)?e:`spotify:genre:${e}`}var Fl=a(78516),Gl=a(7520),Vl=a(47863),Wl=a(50496),zl=a(15552),Hl=a(40675),Kl=a(70275),ql=a(54622),Yl=a(43743);const Ql="XUU9nKfSDuNkadzFz_OQ",Jl=({children:e})=>(0,x.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Ql,children:e}),Zl=e=>`search-modal-result-${e}`;var $l=a(2679);const Xl="search-modal-resultItem",ec="mvQT8XMnLMFMikaUfHqO",tc="hEPIW_7QH4X3m4QrRPsP",ac="bFrnKMII6LDDL6NbaYnZ",sc="dJtLqNpbjiE4oggCyFSQ",rc="mx8mS84MYJW_9iHyXNJu",nc=e=>{const{position:t,uri:a,title:r,image:n,color:i,subtitle:l,isSelected:c,onClick:d,tag:u,label:m,menu:g}=e,p=(0,s.useRef)(null);(0,s.useEffect)((()=>{c&&p.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[c]);const{isActive:h}=(0,$l.l_)(a),b=(0,s.useCallback)((()=>{d({uri:a,position:t})}),[d,t,a]),f={"--position":t};return(0,x.jsx)(Ko.h,{menu:g,children:(0,x.jsxs)(Yo.N,{ref:p,to:a,className:v()(Xl,{[ec]:c}),role:"option","aria-selected":c,onClick:b,id:Zl(a),style:f,tabIndex:-1,children:[(0,x.jsx)("span",{className:"hidden-visually",children:m}),(0,x.jsx)("div",{className:ac,"aria-hidden":!0,children:(0,x.jsx)(Yl.M,{images:[{url:n,width:40,height:40}],color:i,isCircular:(0,le.ecE)(a)})}),(0,x.jsxs)("div",{className:sc,"aria-hidden":!0,children:[(0,x.jsx)(o.E,{as:"p",variant:"bodyMedium",className:tc,semanticColor:h?"textBrightAccent":"textBase",children:r}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",className:tc,semanticColor:"textSubdued",children:l})]}),(0,x.jsx)("div",{className:rc,"aria-hidden":!0,children:(0,x.jsx)(Jl,{children:u})})]})})};var ic=a(34613),oc=a(16157);const lc=e=>{const{results:t,onClick:a,selectedIndex:r}=e;return(0,x.jsx)(x.Fragment,{children:t.map(((e,t)=>(0,x.jsx)(s.Fragment,{children:cc(e,t,a,r===t)},t)))})};function cc(e,t,a,s){switch(e.__typename){case"Album":{const r=e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator());return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,ic.m)(e.coverArt?.extractedColors),subtitle:r,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.album"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.album")}),menu:(0,x.jsx)(Fl.h,{uri:e.uri})})}case"Artist":return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.profile.name,image:e.visuals.avatarImage?.sources?.[0]?.url??"",color:(0,ic.m)(e.visuals.avatarImage?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.artist"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:c.Ru.get("web-player.search-modal.result.artist")}),menu:(0,x.jsx)(Gl.t,{uri:e.uri})});case"Track":{const r=e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator());let n=r;if(e.matchedFields.includes(oc.tC.Lyrics)){n=`${n} Â· ${c.Ru.get("web-player.search-modal.lyrics-match")}`}return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.albumOfTrack?.coverArt?.sources?.[0]?.url??"",color:(0,ic.m)(e.albumOfTrack?.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.track"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.track")}),menu:(0,x.jsx)(ql.P,{uri:e.uri})})}case"Playlist":{const r="User"===e.ownerV2.data?.__typename?e.ownerV2.data.name:"",n=e.images.items.find((e=>e.sources));return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:n?.sources?.[0].url??"",color:(0,ic.m)(n?.extractedColors),subtitle:r,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.playlist"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.playlist")}),menu:(0,x.jsx)(Hl.W,{uri:e.uri})})}case"User":return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.avatar?.sources?.[0]?.url??"",color:(0,ic.m)(e.avatar?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.user"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.user")}),menu:(0,x.jsx)(qo.B,{uri:e.uri})});case"Genre":return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.image?.sources?.[0]?.url??"",color:(0,ic.m)(e.image?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.genre"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.genre")}),menu:(0,x.jsx)(zl.h,{uri:e.uri})});case"Episode":{const r="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,n=[e.releaseDate?.isoString?c.Ru.formatDate(new Date(e.releaseDate.isoString)):void 0,r].filter(Boolean).join(" â€¢ "),i=r?c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.episode")}):e.name;return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,ic.m)(e.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.episode"),label:i,menu:(0,x.jsx)(Wl.b,{uri:e.uri})})}case"Podcast":return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,ic.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.podcast"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.podcast")}),menu:(0,x.jsx)(Kl.H,{uri:e.uri})});case"Audiobook":return(0,x.jsx)(nc,{isSelected:s,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,ic.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.audiobook"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.audiobook")}),menu:(0,x.jsx)(Vl.p,{uri:e.uri})});default:return(0,Ml.d)(e)}}var dc=a(15357),uc=a(87182);const mc="N9tnwm0XDrt_eGJd2D2A",gc="zZMsUUWG29PYcwWPXhOV",pc="_kfmGT75UTPoF_D2afwa",hc="search-modal-listbox",bc="Bn7PjpLWU6TcPCoeP98S",xc="QVqrI1qDRcHQgBn2uuWd",fc="mXdNvIO9PYnBFoyoMyUO",Rc="Xf30G8NSPQ3pex0iD4zB",yc="ixdB7tx1aniI9zfMECIi",Ec={modal:{base:fc,afterOpen:Rc,beforeClose:yc},overlay:{base:fc,afterOpen:Rc,beforeClose:yc}},vc=()=>{const e=(0,oe.Zp)(),t=(0,dc.Nf)(),{spec:a,logger:r,UBIFragment:n}=(0,Ea.r)(vl.I,{}),i=(0,sn.t)(a),[l,d]=(0,s.useState)(""),[u,m]=(0,s.useState)([]),[g,p]=(0,s.useState)(0),[h,b]=(0,s.useState)(!1),f=!(0,Sr.n)(),R=(0,s.useMemo)((()=>(0,le.o_h)(l,{parseUnknown:!0})),[l]),y=R&&R.type!==le.NQG.AD,E=(0,s.useCallback)((e=>{const t=e.target.value;t!==l&&(d(t),p(0),r.logInteraction(a.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[r,l,a]),k=(0,s.useCallback)((()=>{d(""),t({type:"CLOSE"})}),[t]),C=(0,s.useCallback)((({uri:e,position:t})=>{r.logInteraction(a.searchResultFactory({position:t}).hitUiNavigate({destination:e})),k()}),[k,r,a]),j=(0,uc.z)(),S=(0,s.useCallback)((t=>{const a=t.key;if("ArrowUp"===a)p((e=>Math.max(e-1,0))),t.preventDefault();else if("ArrowDown"===a)p((e=>Math.min(e+1,u.length-1))),t.preventDefault();else if("Enter"===a){if(y)return e(R.toURLPath(!0)),void k();const a=u[g];if(a){const s=(0,le.o_h)(a.uri);if(t.shiftKey)Cc(s?.type)&&j.play({uri:a.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{const t=s?.toURLPath(!0);t&&(e(t),C({uri:a.uri,position:g}))}}t.preventDefault()}}),[y,k,C,e,j,R,u,g]),N=(0,s.useCallback)((e=>{b(e.loading),e.query===l&&m(e.results)}),[l]),w=u.length>0,O=u[g],A=O?Zl(O.uri):void 0,_=(0,le.o_h)(O?.uri),I=Cc(_?.type);return(0,x.jsxs)(n,{spec:a,children:[(0,x.jsx)(Ul,{query:y?"":l,numberOfResults:30,onResults:N}),(0,x.jsxs)("div",{className:mc,ref:i,children:[(0,x.jsx)("div",{className:v()(gc,{[pc]:u.length}),children:(0,x.jsx)(wl,{value:l,onChange:E,onKeyPress:S,hasResults:w,activeResultId:A})}),(0,x.jsx)(Al,{canSelect:w&&!y,canPlay:I,canOpen:w||!!y}),l&&!y&&w&&(0,x.jsx)("div",{className:hc,id:kl,role:"listbox",children:(0,x.jsx)(lc,{results:u,onClick:C,selectedIndex:g})}),!h&&l&&!w&&(0,x.jsxs)("div",{className:bc,onClick:k,children:[(0,x.jsx)(o.E,{className:xc,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("search.empty-results-title",l)}),f&&(0,x.jsx)(o.E,{as:"p",semanticColor:"textBase",children:c.Ru.get("web-player.search-modal.offline")})]})]})]})},kc=()=>{const{isOpen:e}=(0,dc.Qc)(),t=(0,dc.Nf)(),a=(0,s.useCallback)((()=>{t({type:"CLOSE"})}),[t]);return e?(0,x.jsx)(u.A,{contentLabel:c.Ru.get("web-player.search-modal.title"),isOpen:e,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:Ec,children:(0,x.jsx)(vc,{})}):null};function Cc(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}const jc=()=>{const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.ui.personalizedRecommendationsErrorModal));return(0,x.jsx)(Qi.x,{headingMessage:c.Ru.get("error-dialog.generic.header"),message:c.Ru.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:c.Ru.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:()=>{e(ds.bL.actions.close())},animated:!0,isOpen:t})};var Sc=a(14442);const Nc="t1hN4Ju87afc5N5fDTnm",wc="kq4vSktBwa0pcc1zklAo",Oc="KSUTPJtu2PnuTb_RoGQX",Ac=({onClose:e,handleRemove:t,primaryButtonText:a,secondaryButtonText:s,primaryButtonLabel:r=a})=>(0,x.jsxs)("div",{className:Oc,children:[(0,x.jsx)(y.H,{onClick:e,semanticColor:"textSubdued","aria-label":"Cancel",children:s}),(0,x.jsx)(k.$,{"aria-label":r,autofocus:"true",onClick:t,children:a})]}),_c=({onClose:e,primaryButtonText:t,secondaryButtonText:a})=>(0,x.jsxs)("div",{className:Oc,children:[(0,x.jsx)(y.H,{onClick:e,semanticColor:"textSubdued",as:"a",href:za.nw,children:a}),(0,x.jsx)(k.$,{autofocus:"true",onClick:e,children:t})]});var Ic=a(15420);const Tc=()=>{const e=(0,r.wA)(),{enqueueSnackbar:t}=(0,$.d)(),a=(0,Ic.B)(),[n,i]=(0,s.useState)(null),l=(0,s.useCallback)((()=>{e((0,Z.MB)())}),[e]),d=(0,s.useCallback)((async()=>{try{await a.removeAllDownloads(),l(),t(c.Ru.get("desktop.settings.storage.downloads.success"))}catch(e){i(e instanceof Error?e:new Error("Error when deleting all downloads."))}}),[a,l,t]);return(0,x.jsx)(Sc.M,{animated:!0,className:wc,onRequestClose:l,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,x.jsxs)("div",{className:v()("encore-light-theme",Nc),children:[(0,x.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:n?c.Ru.get("error.generic"):c.Ru.get("desktop.settings.storage.downloads.dialog.heading")}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:J.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?c.Ru.get("desktop.settings.storage.downloads.dialog.error"):c.Ru.get("desktop.settings.storage.downloads.dialog.text")}),n?(0,x.jsx)(_c,{onClose:l,primaryButtonText:c.Ru.get("desktop.settings.storage.close"),secondaryButtonText:c.Ru.get("desktop.settings.storage.help")}):(0,x.jsx)(Ac,{onClose:l,handleRemove:d,primaryButtonLabel:c.Ru.get("desktop.settings.storage.downloads.button"),primaryButtonText:c.Ru.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:c.Ru.get("desktop.settings.storage.cancel")})]})})},Lc=()=>{const e=(0,r.wA)(),{enqueueSnackbar:t}=(0,$.d)(),a=(0,Ic.B)(),[n,i]=(0,s.useState)(null),l=(0,s.useCallback)((()=>{e((0,Z.QK)())}),[e]),d=(0,s.useCallback)((async()=>{try{await a.removeCache(),l(),t(c.Ru.get("desktop.settings.storage.cache.success"))}catch(e){i(e instanceof Error?e:new Error("Error when clearing cache."))}}),[t,a,l]);return(0,x.jsx)(Sc.M,{animated:!0,className:wc,onRequestClose:l,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,x.jsxs)("div",{className:v()("encore-light-theme",Nc),children:[(0,x.jsx)(o.E,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:n?c.Ru.get("error.generic"):c.Ru.get("desktop.settings.storage.cache.dialog.heading")}),(0,x.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:J.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?c.Ru.get("desktop.settings.storage.cache.dialog.error"):c.Ru.get("desktop.settings.storage.cache.dialog.text")}),n?(0,x.jsx)(_c,{onClose:l,primaryButtonText:c.Ru.get("desktop.settings.storage.close"),secondaryButtonText:c.Ru.get("desktop.settings.storage.help")}):(0,x.jsx)(Ac,{onClose:l,handleRemove:d,primaryButtonText:c.Ru.get("desktop.settings.storage.cache.button"),secondaryButtonText:c.Ru.get("desktop.settings.storage.cancel")})]})})};var Dc=a(49589);const Pc="KmvydY9aOuhL7pSuUhCP",Mc="yfp_lJM0XpzDc1TJz6Qc",Uc="rqMR6HWbOuHuIQEMFrRv",Bc=()=>{const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.ui.introducingSmartShuffleModal)),a=()=>{e(ds.cI.actions.close())};return(0,x.jsx)(u.A,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:a,contentLabel:c.Ru.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:Uc,children:(0,x.jsxs)("div",{className:Pc,children:[(0,x.jsx)(Dc.k,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,x.jsxs)("div",{className:Mc,children:[(0,x.jsx)(o.E,{variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.smart-shuffle.introduction-modal-title")}),(0,x.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:c.Ru.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,x.jsx)(k.$,{onClick:a,children:c.Ru.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})};var Fc=a(16565);var Gc=a(59088),Vc=a(20150),Wc=a(66834);var zc=a(77195),Hc=a(71151);var Kc=a(60393),qc=a(26184),Yc=a(99248);var Qc=a(70207),Jc=a(75497),Zc=a(13947),$c=a(69693);const Xc={get DEFAULT_PLAYBACK_STUCK(){return c.Ru.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return c.Ru.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return c.Ru.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return c.Ru.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return c.Ru.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return c.Ru.get("feedback.track-not-available-in-region-import")},get DEFAULT_PLAYER_ERROR(){return c.Ru.get("feedback.track-not-available-import")},get NETWORK_ERROR(){return c.Ru.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return c.Ru.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return c.Ru.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return c.Ru.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return c.Ru.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return c.Ru.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return c.Ru.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return c.Ru.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return c.Ru.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return c.Ru.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return c.Ru.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return c.Ru.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return c.Ru.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return c.Ru.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return c.Ru.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return c.Ru.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return c.Ru.get("feedback.play-after-ad")}};function ed(e){const t=e?.item??void 0;return(0,Jc.N)(t)&&t.isSkippableAd}function td(e,t,a){switch(t.code){case Qc.Z9.PLAYBACK_STUCK:return Xc.DEFAULT_PLAYBACK_STUCK;case Qc.Z9.ONE_TRACK_UNPLAYABLE:case Qc.Z9.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case Qc.Z9.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(s=t.reasons).includes(Qc.K7.NOT_AVAILABLE_IN_CURRENT_REGION)?Xc.REGION_RESTRICTED:s.includes(Qc.K7.NOT_AVAILABLE_IN_NON_PREMIUM)?Xc.PREMIUM_RESTRICTED:s.includes(Qc.K7.NOT_AVAILABLE_OFFLINE)?Xc.FORCED_OFFLINE_MODE:s.includes(Qc.K7.USER_CAPPING_REACHED)?Xc.CAPPING_REACHED:s.includes(Qc.K7.BANNED_BY_USER_ARTIST)?Xc.ARTIST_BANNED_BY_USER:s.includes(Qc.K7.BANNED_BY_USER_TRACK)?Xc.TRACK_BANNED_BY_USER:s.includes(Qc.K7.EXPLICIT_CONTENT_FILTERED)?Xc.EXPLICIT_CONTENT_FILTERED:Xc.DEFAULT_PLAYER_ERROR;case Qc.Z9.INTERRUPT_PLAYBACK_RESTRICTED:return Xc.INTERRUPT_PLAYBACK_RESTRICTED;case Qc.Z9.VIDEO_GEORESTRICTED:return Xc.VIDEO_GEORESTRICTED;case Qc.Z9.VIDEO_UNSUPPORTED_CLIENT_VERSION:return Xc.VIDEO_UNSUPPORTED_CLIENT_VERSION;case Qc.Z9.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return Xc.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case Qc.Z9.VIDEO_COUNTRY_RESTRICTED:return Xc.VIDEO_COUNTRY_RESTRICTED;case Qc.Z9.VIDEO_UNAVAILABLE:return Xc.VIDEO_UNAVAILABLE;case Qc.Z9.VIDEO_CATALOGUE_RESTRICTED:return Xc.VIDEO_CATALOGUE_RESTRICTED;case Qc.Z9.VIDEO_PLAYBACK_ERROR:return Xc.VIDEO_PLAYBACK_ERROR;case Qc.Z9.VIDEO_UNSUPPORTED_KEY_SYSTEM:return Xc.VIDEO_UNSUPPORTED_KEY_SYSTEM;case Qc.Z9.PAUSE_RESTRICTED:return t.reasons.some((e=>[Qc.K7.ALREADY_PAUSED,Qc.K7.NOT_PLAYING_LOCALLY].includes(e)))?null:Xc.DEFAULT_PLAYER_ERROR;case Qc.Z9.RESUME_RESTRICTED:return t.reasons.includes(Qc.K7.NOT_PAUSED)?null:Xc.DEFAULT_PLAYER_ERROR;case Qc.Z9.PLAY_RESTRICTED:return t.reasons.includes(Qc.K7.AD_DISALLOW)?ed(e)?Xc.SKIP_ADS_TO_HEAR_SONG:Xc.CANT_SKIP_ADS:null;case Qc.Z9.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(Qc.K7.AD_DISALLOW)?ed(e)?Xc.SKIP_AFTER_DELAY:Xc.CANT_PLAY_DURING_ADS:null;case Qc.Z9.TIMEOUT:return Xc.NETWORK_ERROR;case Qc.Z9.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(Qc.K7.THROTTLED)?null:Xc.DEFAULT_PLAYER_ERROR;default:return function(e,t){return!(t||!e.cause||!("status"in e.cause))&&0===e.cause.status}(t,a)?Xc.NETWORK_ERROR:Xc.DEFAULT_PLAYER_ERROR}var s}var ad=a(82726);var sd=a(81752),rd=a(94572);var nd=a(40638),id=a(64629),od=a(6149),ld=a(92976);const cd=()=>(function(){const e=(0,uc.z)(),t=(0,Sr.n)(),{currentSession:a}=(0,$c.D)(),{enqueueSnackbar:s}=(0,$.d)(),n=(0,r.wA)();(0,Fi.p)(Bi.gd.ERROR,(({data:r})=>{if(r.reasons.includes(Qc.K7.EXPLICIT_CONTENT_FILTERED))return void n((0,Z.Ac)());const i=e.getState(),o=td(i,r,t);null!==o&&(a?.active&&r.code===Qc.Z9.STOP_RESTRICTED||(0,Zc.d)(i?.item??void 0)||s(o))}))}(),function(){const{enqueueSnackbar:e}=(0,$.d)(),t=(0,Sr.n)();(0,Fi.p)(Bi.gd.QUEUE_ACTION_COMPLETE,(({data:a})=>{a.action===Bi.UC.ADD&&(a.error?t?((0,Fc.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text")):e(c.Ru.get("queue.added-to-queue")))}))}(),function(){const{enqueueSnackbar:e}=(0,$.d)(),t=(0,Gc.W)(),a=(0,Se.m)(),s=(0,Sr.n)();(0,Wc.e)(Vc.Lj.OPERATION_COMPLETE,(async({data:r})=>{if(r.operation===Vc.sP.ADD&&!r.silent)if(r.error)s?((0,Fc.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text"));else try{const{name:e,images:s}=await a.getMetadata(r.uri),n=(0,dt.g)(s,{desiredSize:24});t({message:c.Ru.get("feedback.added-to-playlist-specific",e),imageSrc:n?.url})}catch{e(c.Ru.get("feedback.added-to-playlist-generic"))}}))}(),function(){const e=(0,el.a)().getEvents(),t=(0,Sr.n)(),{enqueueSnackbar:a}=(0,$.d)(),n=(0,r.d4)((e=>e.session?.user?.id));(0,s.useEffect)((()=>e.addListener(ad.GV.OPERATION_COMPLETE,(({data:e})=>{let s;if(e.error)t?((0,Fc.$)("feedback_banner","error","error.generic"),a(c.Ru.get("error.generic"))):a(c.Ru.get("offline.feedback-text"));else switch(e.operation){case ad.mA.SET_BASE_PERMISSION:return s="VIEWER"===e.permissionLevel?c.Ru.get("feedback.playlist-made-public"):c.Ru.get("feedback.playlist-made-private"),void a(s);case ad.mA.SET_MEMBER_PERMISSION:return s="VIEWER"===e.permissionLevel?c.Ru.get("feedback.member-made-listener"):c.Ru.get("feedback.member-made-contributor"),void a(s);case ad.mA.REMOVE_MEMBER:return s=n===e.username?c.Ru.get("feedback.left-playlist"):c.Ru.get("feedback.removed-member"),void a(s)}}))),[n,a,t,e])}(),function(){const e=(0,sd._)().getEvents(),t=(0,Sr.n)(),{enqueueSnackbar:a}=(0,$.d)();(0,s.useEffect)((()=>e.addListener(rd.tD.OPERATION_COMPLETE,(({data:e})=>{if(!e.silent)if(e.error)t?((0,Fc.$)("feedback_banner","error","error.generic"),a(c.Ru.get("error.generic"))):a(c.Ru.get("offline.feedback-text"));else switch(e.operation){case rd.ut.ADD:return void a(c.Ru.get("web-player.aligned-curation.feedback.added-to-library"));case rd.ut.REMOVE:return void a(c.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case rd.ut.MOVE:return void(e.showAddConfirmation&&a(c.Ru.get("web-player.aligned-curation.feedback.added-to-library")))}}))),[a,t,e])}(),function(){const{enqueueSnackbar:e}=(0,$.d)(),t=(0,Gc.W)(),a=(0,Sr.n)();(0,Yc.l)(qc.UV.OPERATION_COMPLETE,(async s=>{if(s.data.silent)return;if(s.data.error)return void(a?((0,Fc.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text")));const[r]=s.data.uris,n=(0,le.o_h)(r)?.type;if(n!==le.NQG.TRACK&&n!==le.NQG.LOCAL_TRACK)if(n!==le.NQG.EPISODE)e(s.data.operation===qc.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added-to-library"):c.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));else{const e=(0,Kc.dB)();if(!e)return;const a=s.data.operation===qc.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added",e.name):c.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,dt.g)(e.images,{desiredSize:24})?.url})}else{const e=(0,Kc.zK)();if(!e)return;const a=s.data.operation===qc.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added",e.name):c.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,dt.g)(e.images,{desiredSize:24})?.url})}}))}(),function(){const e=(0,Hc.l)(),{enqueueSnackbar:t}=(0,$.d)();(0,s.useEffect)((()=>{const a=e.getEvents(),s=a.addListener(zc.ar.ADDED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c.Ru.get("feedback.exclude-playlist-from-recommendations"))})),r=a.addListener(zc.ar.REMOVED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c.Ru.get("feedback.include-playlist-in-recommendations"))}));return()=>{s(),r()}}),[t,e])}(),(()=>{const{currentSession:e}=(0,$c.D)(),{enqueueSnackbar:t}=(0,$.d)(),a=(0,s.useRef)([]),r=(0,s.useRef)([]),n=(0,nd.YQ)((e=>{if(e.isSessionOwner){switch(a.current.length){case 0:break;case 1:t(c.Ru.get("web-player.social-connect.toast.one-person-joined",{user:a.current[0]??""})),a.current=[];break;case 2:t(c.Ru.get("web-player.social-connect.toast.two-people-joined",{firstUser:a.current[0]??"",secondUser:a.current[1]??""})),a.current=[];break;default:t(c.Ru.get("web-player.social-connect.toast.multiple-people-joined",{user:a.current[a.current.length-1]??"",userCount:a.current.length-1})),a.current=[]}switch(r.current.length){case 0:break;case 1:t(c.Ru.get("web-player.social-connect.toast.one-person-left",{user:r.current[0]??""})),r.current=[];break;case 2:t(c.Ru.get("web-player.social-connect.toast.two-people-left",{firstUser:r.current[0]??"",secondUser:r.current[1]??""})),r.current=[];break;default:t(c.Ru.get("web-player.social-connect.toast.multiple-people-left",{user:r.current[r.current.length-1]??"",userCount:r.current.length-1})),r.current=[]}}}),3e3,{leading:!0,trailing:!0}),i=(0,s.useCallback)((({data:e})=>{null===e.isSessionOwner||e.isSessionOwner||t(c.Ru.get("web-player.social-connect.toast.ended",{user:e.hostDisplayName??""}))}),[t]),o=(0,s.useCallback)((({data:e})=>{a.current=e.users?[...a.current,...e.users]:a.current,n(e)}),[n]),l=(0,s.useCallback)((({data:e})=>{r.current=e.users?[...r.current,...e.users]:r.current,n(e)}),[n]),d=(0,s.useCallback)((({data:a})=>{e&&(e?.queueOnlyMode!==a?.queueOnlyMode&&(!1===a?.queueOnlyMode?t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===a?.queueOnlyMode&&t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),e?.participantVolumeControl!==a?.participantVolumeControl&&("ENABLED"===a?.participantVolumeControl?t(c.Ru.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===a?.participantVolumeControl&&t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):c.Ru.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),u=(0,s.useCallback)((({data:e})=>{e===ld.RG.PERMISSIONS_RESTRICTED_GENERIC&&t(c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,od.J)(id.K.SESSION_ENDED,i),(0,od.J)(id.K.JOINED,o),(0,od.J)(id.K.LEFT,l),(0,od.J)(id.K.UPDATE,d),(0,od.J)(id.K.SESSION_MESSAGE,u)})(),null);var dd=a(23261),ud=a(8382),md=a(47756);const gd=(e,t)=>{switch(e){case md.EL.SESSION_ENDED:return{title:c.Ru.get("web-player.social-connect.session-ended.title"),description:c.Ru.get("web-player.social-connect.session-ended.sub-title"),confirmText:c.Ru.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:ud.gw.SESSION_ENDED};case md.EL.ERROR:return{title:c.Ru.get("web-player.social-connect.generic-error.title"),description:c.Ru.get("web-player.social-connect.generic-error.sub-title"),confirmText:c.Ru.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:ud.gw.ERROR};case md.EL.END_SESSION:return{title:c.Ru.get("web-player.social-connect.end-session.title"),description:c.Ru.get("web-player.social-connect.end-session.sub-title"),confirmText:c.Ru.get("web-player.social-connect.end-session.confirm"),cancelText:c.Ru.get("web-player.social-connect.end-session.cancel")};case md.EL.LEAVE_SESSION:return{title:c.Ru.get("web-player.social-connect.leave-session.title"),description:c.Ru.get("web-player.social-connect.leave-session.sub-title"),confirmText:c.Ru.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:c.Ru.get("web-player.social-connect.leave-session.cancel")};case md.EL.REMOVE_PARTICIPANT:return{title:c.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:c.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:c.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,Ml.k)(e),{confirmText:"",description:"",title:""}}};var pd=a(93617);var hd=a(94812);const bd=({isOpen:e})=>{const t=(0,r.wA)(),{currentSession:a,deleteSession:n}=(0,$c.D)(),{logEndJam:i}=(()=>{const{spec:e,logger:t}=(0,Ea.r)(pd.Z,{});return{logEndJam:(0,s.useCallback)((()=>{t.logInteraction(e.endButtonFactory().hitStopHostingSocialListeningSession())}),[t,e])}})(),o=(0,Fn.vh)(),{title:l,description:c,confirmText:d,cancelText:u}=gd(md.EL.END_SESSION),m=(0,s.useCallback)((async()=>{i(),await n(),o.send((0,dd.c)({session_id:a?.sessionId,end_reason:hd.Mm.QUEUE_END_SESSION_BUTTON})),t((0,Z.cQ)())}),[a?.sessionId,n,t,o,i]),g=(0,s.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,x.jsx)(ce.T,{isOpen:e,onClose:g,onConfirm:m,titleText:l,"aria-label":l,descriptionText:c,confirmText:d,confirmLabel:d,cancelText:u})},xd=({isOpen:e,dialogType:t})=>{const a=(0,r.wA)(),{title:n,description:i,confirmText:o,ubiIdentifier:l}=gd(t),{spec:c,logger:d}=(0,Ea.r)(ud.Fh,{data:{identifier:l}}),u=(0,s.useCallback)((()=>{a((0,Z.cQ)())}),[a]);return(0,s.useEffect)((()=>{e&&d.logImpression(c.impression())}),[e,d,c]),(0,x.jsx)(ce.T,{isOpen:e,onClose:u,onConfirm:u,titleText:n,"aria-label":n,descriptionText:i,confirmText:o,confirmLabel:o})};var fd=a(57251);const Rd=({isOpen:e})=>{const t=(0,r.wA)(),{currentSession:a,leaveSession:n}=(0,$c.D)(),{logLeaveJam:i}=(()=>{const{spec:e,logger:t}=(0,Ea.r)(fd.Q,{});return{logLeaveJam:(0,s.useCallback)((()=>{t.logInteraction(e.leaveButtonFactory().hitLeaveSocialListeningSession())}),[t,e])}})(),o=(0,Fn.vh)(),{title:l,description:c,confirmText:d,cancelText:u}=gd(md.EL.LEAVE_SESSION),m=(0,s.useCallback)((async()=>{i(),await n(),o.send((0,dd.c)({session_id:a?.sessionId,end_reason:hd.Mm.QUEUE_LEAVE_SESSION_BUTTON})),t((0,Z.cQ)())}),[a?.sessionId,t,o,n,i]),g=(0,s.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,x.jsx)(ce.T,{isOpen:e,onClose:g,onConfirm:m,titleText:l,"aria-label":l,descriptionText:c,confirmText:d,confirmLabel:d,cancelText:u})};var yd=a(70981);const Ed=({isOpen:e})=>{const t=(0,r.wA)(),{logRemoveClick:a}=(0,yd.R)(),{currentSession:n,removeSessionMember:i}=(0,$c.D)(),{memberToRemove:o}=(0,r.d4)((e=>e.ui.jamModalState)),l=o?.id??"",c=o?.displayName??"",d=n?.sessionId??"",{title:u,description:m,confirmText:g,cancelText:p}=gd(md.EL.REMOVE_PARTICIPANT,c),h=(0,s.useCallback)((()=>{a(l,d),l&&(i(l),t((0,Z.cQ)()))}),[a,l,d,i,t]),b=(0,s.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,x.jsx)(ce.T,{isOpen:e,onClose:b,onConfirm:h,titleText:u,"aria-label":u,descriptionText:m,confirmText:g,confirmLabel:g,cancelText:p})},vd=({isOpen:e,dialogType:t})=>{switch(t){case md.EL.LEAVE_SESSION:return(0,x.jsx)(Rd,{isOpen:e});case md.EL.END_SESSION:return(0,x.jsx)(bd,{isOpen:e});case md.EL.REMOVE_PARTICIPANT:return(0,x.jsx)(Ed,{isOpen:e});case md.EL.SESSION_ENDED:case md.EL.ERROR:return(0,x.jsx)(xd,{isOpen:e,dialogType:t});default:return null}};var kd=a(13845);const Cd=({size:e=60,className:t})=>(0,x.jsx)("img",{className:t,src:(0,Ba.b)("images/group-session-logo.svg"),height:e,width:e,alt:c.Ru.get("web-player.social-connect.group-session-logo-alt")}),jd="jav_0ddRdU3yOojQAq8w",Sd="ldkgyfJfn34VlQ2thtaB",Nd="cHxs16ZqqJIr8OAcIG1h",wd="tIfl33R3uqA7AyIa0OHf",Od="OEOcqiDA2mrxdAcZOXdj",Ad=({imageElement:e,title:t,subtitle:a,confirmButtonText:s,confirmButtonIcon:r,onConfirm:n,cancelButtonText:i,onCancel:l,disabled:c,footerText:d})=>(0,x.jsxs)("div",{className:jd,children:[e,(0,x.jsxs)("div",{className:Sd,children:["string"==typeof t?(0,x.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:Nd,children:t}):t,"string"==typeof a?(0,x.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:a}):a]}),(0,x.jsxs)("div",{className:wd,children:[(0,x.jsx)(k.$,{onClick:n,disabled:c,iconTrailing:r,"data-testid":"jam-modal-confirm-button",children:s}),i&&(0,x.jsx)(y.H,{semanticColor:"textSubdued",onClick:l,disabled:c,children:i})]}),d&&(0,x.jsx)("div",{className:Od,children:(0,x.jsx)(o.E,{variant:"marginal",semanticColor:"textSubdued",children:d})})]});var _d=a(63779),Id=a(54433);const Td=({setContentLabel:e})=>{const{createSession:t,currentSession:a,deleteSession:n}=(0,$c.D)(),i=(0,r.wA)(),o=(0,Fn.vh)(),l=(0,_d.Z)(),d=(0,s.useCallback)((async()=>{await t()}),[t]);(0,s.useEffect)((()=>{d()}),[d]);const u=(0,Id.c)(),m=(0,s.useCallback)((async()=>{const e=a?.joinSessionUri;if(!e){const e=await t();if(!e?.joinSessionUri)return;o.send((0,kd.q)({session_id:e.sessionId,device_type:u.deviceType,tech_type:u.techType,session_uri:e.joinSessionUri,session_type:hd.dF.REMOTE}))}a?.joinSessionShortLink&&l(a?.joinSessionShortLink),i((0,Z.cQ)())}),[a?.joinSessionUri,a?.joinSessionShortLink,i,t,o,u.deviceType,u.techType,l]),g=(0,s.useCallback)((async()=>{if(a){await n()&&o.send((0,dd.c)({session_id:a.sessionId,end_reason:hd.Mm.INVITATION_MODAL_CANCEL_BUTTON}))}i((0,Z.cQ)())}),[a,n,i,o]),p=c.Ru.get("web-player.social-connect.invitation-modal.title");return(0,s.useEffect)((()=>{e(p)}),[p,e]),(0,x.jsx)(Ad,{imageElement:(0,x.jsx)(Cd,{}),title:p,subtitle:c.Ru.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:c.Ru.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:m,cancelButtonText:c.Ru.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:g})};var Ld=a(34766),Dd=a(8808),Pd=a(68599),Md=a(87560),Ud=a(2101),Bd=a(15935),Fd=a(34494),Gd=a(42156),Vd=a(79237),Wd=a(46845);function zd(){const{isLocalDevice:e,deviceName:t}=(0,Vd.v)((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,t)=>e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice));return function(e,t){const a=(0,Wd.Ek)();return e?a?c.Ru.get("web-player.social-connect.join-modal.device-name.this-computer"):c.Ru.get("web-player.social-connect.join-modal.device-name.this-browser"):t}(e,t)}var Hd=a(33390),Kd=a(62642);const qd="ZKSGhtcDgnOWkcSVee3k",Yd="H3UvfEgDtYPH0EL3aLwZ",Qd="LPVfHXRjItuJaNEQdlTT",Jd="DD2yyz7nKDIMIXhFOAkl",Zd="NQtJIrT4cCneGvSC152a",$d="xIKQXbFbxYFpBJfoOTFw",Xd="Bs13fjYCTb2TKzoO13sA",eu="N6Pa7PkejWH5KojTMbfU",tu="Uz7GyGSJMC1Cz7Cz0G6t",au="hN61FwfX0b6x78GshoG3",su="NNFeYiBvoDQFKQGqt_qE",ru="b_5KH6jkIhAV2xk50S8c",nu=()=>(0,x.jsxs)("div",{className:au,children:[(0,x.jsx)(Md.D,{size:"xsmall",semanticColor:"textBase"}),(0,x.jsx)(o.E,{variant:"marginalBold",semanticColor:"textBase",children:c.Ru.get("navbar.premium")})]}),iu=({value:e,icon:t,title:a,subtitle:r,selected:n,onSelect:i,formWidth:l,setFormWidth:c})=>{const d=(0,s.useRef)(null);return(0,s.useLayoutEffect)((()=>{if(d.current){const e=d.current.getBoundingClientRect().width;e>l&&c(Math.min(490,e+96+8))}}),[l,c]),(0,x.jsxs)("div",{className:Zd,children:[(0,x.jsxs)("label",{className:$d,htmlFor:e,children:[t,(0,x.jsxs)("div",{className:Xd,style:{"--device-form-label-width":l-96+8+"px"},ref:d,children:[(0,x.jsx)(o.E,{variant:n?"bodyMediumBold":"bodyMedium",semanticColor:n?"textBrightAccent":"textBase",className:tu,children:a}),(0,x.jsx)(o.E,{variant:"bodySmall",semanticColor:n?"textBrightAccent":"textSubdued",className:tu,children:r})]})]}),(0,x.jsx)(Ud.M,{value:e,id:e,"data-testid":e,className:eu,name:"session-type-radio",checked:n,onChange:()=>{i(e)}})]})},ou=({sessionType:e,setSessionType:t,hostName:a})=>{const r=zd(),n=(0,Vd.v)((({activeDevice:e})=>e?.type??Kd.bq.COMPUTER)),i=(0,Gd.tf)(n),o=(0,Hd.l)(),[l,d]=(0,s.useState)(0);return(0,x.jsxs)(Bd.g,{className:Jd,style:{"--device-form-width":`${l}px`},children:[(0,x.jsx)(iu,{value:hd.dF.REMOTE,icon:(0,x.jsx)(i,{semanticColor:e===hd.dF.REMOTE?"textBrightAccent":"textBase"}),title:c.Ru.get("web-player.social-connect.join-modal.continue-on-this-device",{device:r}),subtitle:c.Ru.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:t,selected:e===hd.dF.REMOTE,formWidth:l,setFormWidth:d}),o&&(0,x.jsx)(nu,{}),(0,x.jsx)(iu,{value:hd.dF.IN_PERSON,icon:(0,x.jsx)(Fd.H,{semanticColor:e===hd.dF.IN_PERSON?"textBrightAccent":"textBase"}),title:c.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:a}),subtitle:c.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:t,selected:e===hd.dF.IN_PERSON,formWidth:l,setFormWidth:d})]})},lu=({deviceName:e,deviceType:t,isGroup:a,isNearbyJam:s})=>{const r=(0,Gd.tf)(t,a);return(0,x.jsxs)(o.E,{variant:"bodyMediumBold",as:"div",className:v()(ru,su),semanticColor:s?"textBase":"textBrightAccent",children:[(0,x.jsx)(r,{}),(0,x.jsx)("span",{className:su,children:c.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.subtitle",{deviceName:e})})]})};var cu=a(10502);const du="V8Nnr6rCPzkQv7MCvvKM",uu="A8jOuTXM1E0dlFYJlV39",mu="D0L83_9SDaOFBzZT8EKO",gu=()=>(0,x.jsx)("div",{className:jd,children:(0,x.jsxs)("div",{className:du,children:[(0,x.jsx)(cu.Y,{as:"h3",variant:"titleSmall",className:mu,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,t)=>(0,x.jsx)("div",{className:uu,children:e.map(((e,t)=>(0,x.jsx)(cu.Y,{as:"div",variant:"bodySmall",className:mu,charCount:e,isLoading:!0},`${e}-${t}`)))},`skeleton-section-${t}`)))]})});var pu=a(64333),hu=a(75950),bu=a(31724);var xu=a(6530);let fu=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({});const Ru=({modalType:e,joinToken:t,jamDeviceInfo:a,setContentLabel:n})=>{const i=(0,r.wA)(),{getSessionInfo:l,joinSession:d}=(0,$c.D)(),{openURLWithSessionTransfer:u}=(0,ya.L)(),m=(0,qi.D)(),{logJoin:g,logUpgradeToPremium:p,logCancel:h,logTakeOverSpeaker:b}=(()=>{const{spec:e,logger:t}=(0,Ea.r)(bu.U,{});return{logJoin:(0,s.useCallback)((()=>{const a=e.joinButtonFactory().hitJoinSocialListeningSession();t.logInteraction(a)}),[t,e]),logUpgradeToPremium:(0,s.useCallback)(((a,s)=>{let r;r=a?e.upsellButtonFactory().hitNavigateToExternalUri({destination:s}):e.upsellButtonFactory().hitUiNavigate({destination:s}),t.logInteraction(r)}),[t,e]),logCancel:(0,s.useCallback)((()=>{const a=e.cancelButtonFactory().hitUiHide();t.logInteraction(a)}),[t,e]),logTakeOverSpeaker:(0,s.useCallback)((a=>{const s=e.takeOverSpeakerButtonFactory().hitConnectToRemoteDevice({remoteDeviceId:a});t.logInteraction(s)}),[t,e])}})(),f=(0,Fn.vh)(),[R,y]=(0,s.useState)(null);let E;switch(e){case md.EL.JOIN_LISTENING_SESSION:case md.EL.JOIN_NEARBY_JAM:E=hd.dF.IN_PERSON;break;default:E=hd.dF.REMOTE}const[v,k]=(0,s.useState)(E),C=(0,hu.C)(),j=C===xu.lz.FREE&&v===hd.dF.REMOTE;let S;switch(e){case md.EL.JOIN_NEARBY_JAM:S=xu.JO.NEARBY_DIALOG;break;case md.EL.JOIN_LISTENING_SESSION:S=xu.JO.DISCOVERED_DEVICE;break;default:S=xu.JO.DEEPLINKING}(0,s.useEffect)((()=>{l(t).then((e=>{if(e){y(e);const t=e.sessionMembers.find((t=>t.id===e.sessionOwnerId));n(c.Ru.get("web-player.social-connect.join-modal.title",{host:t?.displayName??""}))}else i((0,Z.A9)(md.EL.SESSION_ENDED))}))}),[i,l,t,n]);const[N,w]=(0,s.useState)(fu.NONE),O=(0,s.useCallback)((async()=>{w(fu.JOINING),g();try{const e=await d(t,S,v);e&&(w(fu.JOINED),f.send((0,Dd.X)({session_id:R?.sessionId,join_type:S,join_url:e.joinSessionUri,participation_mode:v})),C!==xu.lz.FREE&&i((0,Z.cQ)()))}catch(e){w(fu.FAILED),e instanceof Error&&f.send((0,Dd.X)({session_id:R?.sessionId,error_category:e.name,error_data:e.message})),i((0,Z.A9)(md.EL.ERROR))}}),[i,f,C,d,t,S,g,R?.sessionId,v]),A=(0,oe.Zp)(),_=(0,Ga.k)(!0),I=(0,s.useMemo)((()=>{const e=new URL(_.url);return e.searchParams.set("ref","jam"),e}),[_.url]),T=(0,s.useCallback)((()=>{let e;!1===_.isExternal?(e="/premium?ref=jam",A(e)):(e=I.href,u(e)),p(_.isExternal,e),i((0,Z.cQ)())}),[i,A,u,p,_.isExternal,I]),L=(0,s.useCallback)((()=>{e===md.EL.JOIN_LISTENING_SESSION&&a?(m.transferPlayback(a.id,{interactionId:""}),b(a.id)):h(),i((0,Z.cQ)())}),[a,m,i,h,b,e]);if(!R)return(0,x.jsx)(gu,{});const D=R.sessionMembers.find((e=>e.id===R.sessionOwnerId)),P=R.sessionMembers.map(pu.c);if(N===fu.JOINED&&C===xu.lz.FREE)return(0,x.jsx)(Ad,{imageElement:(0,x.jsx)(Pd.g,{users:P,size:"xlarge",maxSlots:3}),title:(0,x.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:qd,children:c.Ru.get("web-player.social-connect.join-modal.success.title",{host:(0,x.jsx)("span",{className:Yd,children:D?.displayName??""})})}),subtitle:(0,x.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Qd,children:c.Ru.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:c.Ru.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:()=>{i((0,Z.cQ)())}});const M=e===md.EL.JOIN_LISTENING_SESSION?c.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.button-tertiary"):c.Ru.get("web-player.social-connect.join-modal.button-tertiary");let U;switch(e){case md.EL.JOIN_LISTENING_SESSION:U=(0,x.jsx)(lu,{deviceName:a?.name??"",deviceType:Kd.bq.SPEAKER,isGroup:a?.isGroup??!1});break;case md.EL.JOIN_NEARBY_JAM:U=(0,x.jsx)(lu,{deviceName:a.name,deviceType:a.type,isGroup:a.isGroup,isNearbyJam:!0});break;default:U=(0,x.jsx)(ou,{sessionType:v,setSessionType:k,hostName:D?.displayName??""})}return(0,x.jsx)(Ad,{imageElement:(0,x.jsx)(Pd.g,{users:P,size:"xlarge",maxSlots:3}),title:(0,x.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:qd,children:c.Ru.get("web-player.social-connect.join-modal.title",{host:(0,x.jsx)("span",{className:Yd,children:D?.displayName??""})})}),subtitle:U,confirmButtonText:j?c.Ru.get("web-player.social-connect.premium-upsell.confirmation-button"):c.Ru.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:j?Ld.H:void 0,onConfirm:j?T:O,cancelButtonText:M,onCancel:L,disabled:N===fu.JOINING,footerText:c.Ru.get("web-player.social-connect.join-modal.privacy-notice")})};var yu=a(79404);const Eu=({joinToken:e})=>{const t=(0,r.wA)(),{logGetAppClick:a}=(()=>{const{spec:e,logger:t}=(0,Ea.r)(yu.e,{});return{logGetAppClick:(0,s.useCallback)((()=>{const a=e.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,mo.rw)().href});t.logInteraction(a)}),[t,e])}})(),{getSessionInfo:n}=(0,$c.D)(),[i,l]=(0,s.useState)(null),[d,u]=(0,s.useState)([]);(0,s.useEffect)((()=>{n(e).then((e=>{if(e){const t=e?.sessionOwnerId,a=e?.sessionMembers.find((e=>e.id===t)),s=e?.sessionMembers.map(pu.c)??[];if(u(s),!a)return;l(a.displayName)}else t((0,Z.A9)(md.EL.SESSION_ENDED))}))}),[n,e,t]);const m=(0,s.useCallback)((()=>{t((0,Z.cQ)())}),[t]),g=(0,s.useCallback)((()=>{a();const s=(0,le.MZA)(e);window.open((0,mo.rw)(s).href),t((0,Z.cQ)())}),[t,e,a]);return(0,x.jsx)(Ad,{imageElement:(0,x.jsx)(Pd.g,{users:d,size:"xlarge",maxSlots:3}),title:(0,x.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.social-connect.redirect-modal.title",{host:i??""})}),subtitle:c.Ru.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:c.Ru.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:g,cancelButtonText:c.Ru.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:m})},vu=()=>{const e=(0,r.wA)(),{isOpen:t,modalType:a,joinToken:n,jamDeviceInfo:i}=(0,r.d4)((e=>e.ui.jamModalState)),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(void 0);return(0,s.useEffect)((()=>{switch(d(void 0),a){case md.EL.INVITE:l((0,x.jsx)(Td,{setContentLabel:d}));break;case md.EL.JOIN:if(!n)throw new Error("trying to open JoinModal without providing a joinToken!");l((0,x.jsx)(Ru,{modalType:md.EL.JOIN,joinToken:n,setContentLabel:d}));break;case md.EL.JOIN_LISTENING_SESSION:if(!n||!i)throw new Error("trying to open JoinModal without providing a joinToken and jamDeviceInfo!");l((0,x.jsx)(Ru,{modalType:md.EL.JOIN_LISTENING_SESSION,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case md.EL.JOIN_NEARBY_JAM:if(!n||!i)throw new Error("trying to open JoinModal for a nearby jam without providing a joinToken and jamDeviceInfo!");l((0,x.jsx)(Ru,{modalType:md.EL.JOIN_NEARBY_JAM,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case md.EL.REDIRECT:if(!n)throw new Error("trying to open RedirectModal without providing a joinToken!");l((0,x.jsx)(Eu,{joinToken:n}));break;case md.EL.LEAVE_SESSION:case md.EL.END_SESSION:case md.EL.REMOVE_PARTICIPANT:case md.EL.SESSION_ENDED:case md.EL.ERROR:l((0,x.jsx)(vd,{isOpen:t,dialogType:a}));break;default:l(null)}}),[t,a,n,i]),a?(e=>e===md.EL.LEAVE_SESSION||e===md.EL.END_SESSION||e===md.EL.REMOVE_PARTICIPANT||e===md.EL.SESSION_ENDED||e===md.EL.ERROR)(a)?o:(0,x.jsx)(u.A,{isOpen:t,onRequestClose:()=>e((0,Z.cQ)()),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:c,children:o}):null},ku=()=>null,Cu=()=>null;var ju=a(8268),Su=a(27042);function Nu(e,t){if(e){const a=(0,le.o_h)(e,{parseUnknown:!0});if(a){t(a.toURLPath(!0))}else{const t=document.createElement("a");t.href=e,t.target="_blank",t.click()}}}const wu=(e,t)=>a=>{switch(a.action){case"DISMISS":default:return void e();case"URL":{const{url:s=""}=a;return Nu(s,t),void e()}case"EXTERNAL_URL":{const{url:e=""}=a;return void Nu(e,t)}}};var Ou=a(23660),Au=a(71156);function _u(e,t,a,s){if(e&&""===e.innerHTML){const r=function(e,t,a){const s=(0,Ou.kp)();if(s){const r=s.createIframe(e,a);return r.setAttribute("data-testid","inAppMessageIframe"),r.style.borderRadius="5px",r.style.margin="auto",r.style.opacity="0",r.style.transition="opacity 150ms linear",r.addEventListener("load",(()=>{const{contentWindow:e,contentDocument:a}=r;e&&function(e){e&&e.focus()}(e),a&&(Au.M.setup(a),function(e,t){const a=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=a[0],r=a[a.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&e.target===r&&(e.preventDefault(),s.focus()),e.shiftKey&&"Tab"===e.key&&r.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(a,t)),r.style.opacity="1"})),r}return null}(t,a,s);r&&e.appendChild(r)}}function Iu({message:e}){const t=(0,s.useRef)(null);return function(e,t){const a=(0,r.wA)(),n=(0,oe.Zp)(),i=(0,s.useCallback)((()=>{a((0,Su.yv)())}),[a]);(0,s.useEffect)((()=>{const a=t.current;return _u(a,e,i,wu(i,n)),()=>{!function(e){e&&(e.innerHTML="")}(a)}}),[e,i,a,t,n])}(e,t),(0,x.jsx)("div",{"data-testid":"inAppMessageContainer",ref:t})}function Tu(){return(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Lu,{})})}function Lu(){const e=(0,n.NC)(Aa.e6f),{message:t,dismissMessage:a}=function(){const e=(0,r.wA)();return{message:(0,r.d4)((e=>e.inAppMessaging?.message)),dismissMessage:(0,s.useCallback)((()=>{e((0,Su.yv)())}),[e])}}(),i=!!t&&t.format===Ou.m0;return e?(0,x.jsx)(u.A,{animated:!0,contentLabel:"In-App Message Modal",isOpen:i,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:i&&!!t&&(0,x.jsx)(Iu,{message:t})}):null}var Du=a(83747);const Pu=(0,s.lazy)((async()=>{const{DsaModal:e}=await Promise.all([a.e(4151),a.e(4884)]).then(a.bind(a,64884));return{default:e}})),Mu=(0,s.lazy)((async()=>{const{YourSoundCapsuleModal:e}=await Promise.all([a.e(4151),a.e(4574)]).then(a.bind(a,17525));return{default:e}})),Uu=s.memo((({isDesktop:e})=>{const t=(0,n.NC)(Aa.J1t,{loadingValue:!1}),a=(0,s.useRef)(null),i=(0,r.d4)((e=>e.ui.deletePlaylistDialog)),o=(0,r.d4)((e=>e.ui.deleteFolderDialog)),l=(0,r.d4)((e=>e.ui.removeFromLibraryDialog)),c=(0,r.d4)((e=>e.ui.premiumDialog)),d=(0,r.d4)((e=>e.ui.loginToListenDialog)),u=(0,r.d4)((e=>e.ui.signupToListenDialog)),m=(0,r.d4)((e=>e.ui.improvedSignupPromptDialog)),g=(0,r.d4)((e=>e.ui.removeDownloadsDialog)),p=(0,r.d4)((e=>e.ui.clearCacheDialog)),h=(0,r.d4)((e=>e.ui.renameFolderModal)),b=(0,r.d4)((e=>e.ui.removeDownloadConfirmationDialog)),R=(0,r.d4)((e=>e.ui.artistAboutDialog)),y=(0,r.d4)((e=>e.ui.yourDJUpsellDialog)),E=(0,r.d4)((e=>e.ui.dsaDialog)),v=(0,r.d4)((e=>e.ui.trackCreditsModal)),k=(0,r.d4)((e=>e.ui.changesTunaDialog)),C=(0,n.NC)(Aa.wXB),j=(0,r.d4)((e=>e.ui.restrictionsModalState)),S=(0,n.NC)(Aa.ugz),N=(0,r.d4)(Du.fl),w=(0,r.d4)(Du.ml);return(0,x.jsxs)(x.Fragment,{children:[i.isOpen&&(0,x.jsx)(qe.pZ,{value:"delete-playlist-modal",children:(0,x.jsx)(ye,{})}),o.isOpen&&(0,x.jsx)(qe.pZ,{value:"delete-folder-modal",children:(0,x.jsx)(me,{})}),l.isOpen&&(0,x.jsx)(qe.pZ,{value:"delete-folder-modal",children:(0,x.jsx)(Vr,{})}),c.isOpen&&(0,x.jsx)(qe.pZ,{value:"premium-modal",children:(0,x.jsx)(Br,{})}),d.isOpen&&(0,x.jsx)(qe.pZ,{value:"login-to-listen-modal",children:(0,x.jsx)(ns,{})}),u.isOpen&&(0,x.jsx)(qe.pZ,{value:"signup-to-listen-modal",children:(0,x.jsx)(ai,{})}),m.isOpen&&(0,x.jsx)(Ro,{uri:m.uri}),g.isOpen&&(0,x.jsx)(Tc,{}),p.isOpen&&(0,x.jsx)(Lc,{}),h.isOpen&&(0,x.jsx)(Jr,{name:h.name,onRename:h.handleRename}),b.isOpen&&(0,x.jsx)(Fo,{...b}),R.isOpen&&(0,x.jsx)(vo,{}),y.isOpen&&(0,x.jsx)(qe.pZ,{value:"your-dj-upsell-modal",children:(0,x.jsx)(ju.tW,{})}),(0,x.jsx)(vu,{}),S&&j.isOpen&&(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(on,{})}),(0,x.jsx)(Bc,{}),(0,x.jsx)(bs,{}),(0,x.jsx)(ps,{}),(0,x.jsx)(jc,{}),(0,x.jsx)(To,{}),E.isOpen&&E.item&&(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Pu,{item:E.item})}),(0,x.jsx)(Un,{}),(0,x.jsx)(zi,{}),(0,x.jsx)(_i,{}),(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Ar,{})}),(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(El,{})}),(0,x.jsx)(oa,{}),(0,x.jsx)(Ie,{}),(0,x.jsx)(Ua,{}),(0,x.jsx)(ie,{}),e&&(0,x.jsx)(ke,{}),(0,x.jsx)(f,{}),(0,x.jsx)(Go.A,{languageSelectionModalRef:a}),(0,x.jsx)(Tu,{}),(0,x.jsx)(to,{}),(0,x.jsx)(Zi,{}),(0,x.jsx)(Q,{}),(0,x.jsx)(_a,{}),(0,x.jsx)(Uo,{}),(0,x.jsx)(dn,{}),(0,x.jsx)(kc,{}),(0,x.jsx)(va,{}),(0,x.jsx)(cd,{}),N&&!e&&(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(Mu,{})}),v.isOpen&&(0,x.jsx)(ji,{}),(0,x.jsx)("div",{ref:a}),C&&k.isOpen&&(0,x.jsx)(s.Suspense,{fallback:null,children:(0,x.jsx)(qe.pZ,{value:"revert-changes-tuna-modal",children:(0,x.jsx)(ku,{})})}),w&&t&&(0,x.jsx)(Yi,{}),(0,x.jsx)(la,{}),(0,x.jsx)(Cu,{})]})}))},10502:(e,t,a)=>{a.d(t,{Y:()=>d});var s=a(97500),r=a.n(s),n=a(422),i=a(57478);const o="dxnMpEuxRQ5Ml60ftDcz",l="jFPYamKaGvZv7JA45KCu";var c=a(86070);const d=({as:e,variant:t,className:a,charCount:s,isLoading:d})=>{const u=(0,i.h)("shimmer");return(0,c.jsx)(n.E,{ref:u,as:e,variant:t,className:r()(o,a,{[l]:d}),style:{width:s?`${s}ch`:void 0},tabIndex:-1,"aria-hidden":!0})}},59088:(e,t,a)=>{a.d(t,{W:()=>u});var s=a(30758),r=a(87101),n=a(38916),i=a(69261),o=a(19610),l=a(96789),c=a(7307),d=a(86070);function u(){const{enqueueCustomSnackbar:e}=(0,l.i)();return(0,s.useCallback)((({message:t,imageSrc:a})=>{e((0,d.jsx)(r.O,{children:(0,d.jsx)(o.P,{leading:!1===a?void 0:(0,d.jsx)(n.w,{src:a,type:c.c.PLAYLIST,title:t}),center:(0,d.jsx)(i.z,{children:t})})}),{identifier:t})}),[e])}},61335:(e,t,a)=>{a.d(t,{y:()=>H});var s=a(30758),r=a(45415),n=a(422),i=a(89315),o=a(31417),l=a(41616),c=a(97500),d=a.n(c),u=a(85961),m=a(47186),g=a(22984),p=a(42878);const h="od_kF1rLZbir8kM_F607",b="qyKJPLjz8o4jnbk92JOn",x="zsVdTdACMZA_MWB3HlEW",f="nsakAYOtgZOAcEO4ObrM",R="uJjmxe0T11dUVeW6Biz8",y="F1K3uW1jqwG0wxFHO5gl",E="Ii9XdJaXIuKbmR1zC4Rt";var v=a(86070);const k=s.memo((function(e){const{images:t,initialSelected:a=0}=e,[r,n]=(0,s.useState)(a),[i,l]=(0,s.useState)(0),c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=c.current;e&&l(e.clientWidth)}),[]),(0,p.s)((()=>{const e=c.current;e&&l(e.clientWidth)})),0===t.length?null:(0,v.jsxs)("div",{className:h,children:[t.length>1&&(0,v.jsxs)(v.Fragment,{children:[0!==r&&(0,v.jsx)("button",{type:"button","aria-label":o.Ru.get("gallery.prev"),onClick:()=>n(r-1),className:d()(b,x),children:(0,v.jsx)(u.g,{})}),r!==t.length-1&&(0,v.jsx)("button",{type:"button","aria-label":o.Ru.get("gallery.next"),onClick:()=>n(r+1),className:d()(b,f),children:(0,v.jsx)(m.V,{})})]}),(0,v.jsx)("ul",{className:R,ref:c,dir:"auto",children:t.map(((e,t)=>(0,v.jsx)("li",{"aria-hidden":r!==t,className:y,style:{transform:`translateX(-${r*i}px)`},children:(0,v.jsx)(g._,{loading:"lazy",src:e.url,width:e.width,height:e.height,className:E})},t)))})]})}));var C=a(44971),j=a(21082),S=a(90696),N=a(15643),w=a(75203),O=a(96795),A=a(55893),_=a(93597),I=a(19862),T=a(16157);const L="DVWIV41y6daOMjQKR8Zj",D="oORVTPvg6eTQflVKKgw8",P="muHL0_3HjlqTZDoapgc9";function M(e){switch(e){case T.EK.Facebook:return(0,v.jsx)(N.G,{className:D});case T.EK.Twitter:return(0,v.jsx)(w.f,{className:D});case T.EK.Instagram:return(0,v.jsx)(O.Y,{className:D});case T.EK.Wikipedia:return(0,v.jsx)(I.p,{className:D});case T.EK.Soundbetter:return(0,v.jsx)(A.S,{className:D});case T.EK.Whatsapp:return(0,v.jsx)(_.E,{className:D});case T.EK.Other:default:return null}}function U(e){if(e.name===T.EK.Soundbetter){const t=new URL(e.url);return t.searchParams.append("utm_source","open.spotify.com"),t.searchParams.append("utm_medium","referral"),t.searchParams.append("utm_campaign","hireme_link_spotify"),t.href}return e.url}function B(e){switch(e){case T.EK.Facebook:return"Facebook";case T.EK.Twitter:return"Twitter";case T.EK.Instagram:return"Instagram";case T.EK.Wikipedia:return"Wikipedia";case T.EK.Soundbetter:return"Hire Me on SoundBetter";case T.EK.Whatsapp:return"WhatsApp Channel";case T.EK.Other:default:return"Other"}}const F=({links:e})=>0===e.length?null:(0,v.jsx)("div",{className:L,children:e.map((e=>(0,v.jsxs)("a",{rel:"noopener noreferrer",target:"_blank",href:U(e),className:P,children:[M(e.name),(0,v.jsx)(n.E,{variant:"bodySmall",children:B(e.name)})]},e.url)))});var G=a(41661),V=a(50671),W=a(21549),z=a(17802);const H=s.memo((function(e){const{artistUri:t,name:a,bio:c="",bioSource:d=null,images:u=[],avatarImages:m=[],worldRank:g,monthlyListeners:p,topCities:h,followers:b,externalLinks:x=[],isOpen:f,closeModal:R}=e,{spec:y}=(0,W.r)(i._,{data:{identifier:"",uri:t}}),E=(0,s.useCallback)((()=>{y.closeButtonFactory().hitUiHide(),R()}),[R,y]),N=(0,V.t)(y);return(0,v.jsxs)(C.A,{contentLabel:a,className:z.A.modal,isOpen:f,onRequestClose:E,animation:{modal:{base:z.A.modalBase,afterOpen:z.A.modalAfterOpen,beforeClose:z.A.modalBeforeClose}},animated:!0,children:[(0,v.jsx)("button",{type:"button","aria-label":o.Ru.get("close"),onClick:E,className:z.A.close,children:(0,v.jsx)(r.M,{size:"small"})}),(0,v.jsxs)(S.a,{className:z.A.scrollbars,children:[(0,v.jsx)(k,{images:u}),(0,v.jsx)("div",{className:z.A.content,ref:N,children:(0,v.jsxs)("div",{className:z.A.columnContainer,children:[(0,v.jsxs)("div",{className:z.A.statsContainer,children:[g>0?(0,v.jsxs)("div",{className:z.A.rank,children:[(0,v.jsxs)(n.E,{as:"div",variant:"titleSmall",children:["#",g]}),(0,v.jsx)(n.E,{as:"div",variant:"marginal",children:o.Ru.get("artist-page.world_rank")})]}):null,"number"==typeof b?(0,v.jsxs)("div",{className:z.A.stats,children:[(0,v.jsx)(n.E,{as:"div",variant:"titleMedium",semanticColor:"textBase",children:o.Ru.formatNumber(b)}),(0,v.jsx)(n.E,{as:"div",variant:"bodySmall",children:o.Ru.get("followers")})]}):null,"number"==typeof p?(0,v.jsxs)("div",{className:z.A.stats,children:[(0,v.jsx)(n.E,{as:"div",variant:"titleMedium",semanticColor:"textBase",children:o.Ru.formatNumber(p)}),(0,v.jsx)(n.E,{as:"div",variant:"bodySmall",children:o.Ru.get("monthly_listeners")})]}):null,h&&h.length?h.map((({city:e,numberOfListeners:t,country:a},s)=>(0,v.jsxs)("div",{className:z.A.cityBlock,children:[(0,v.jsx)(n.E,{as:"div",variant:"bodySmallBold",semanticColor:"textBase",children:o.Ru.get("artist-page.where-people-listen-from",e||"",a||"")}),(0,v.jsx)(n.E,{as:"div",variant:"bodySmall",children:o.Ru.get("artist-page.how-many-listeners",t||0)})]},s))):null,(0,v.jsx)(s.Suspense,{fallback:null,children:(0,v.jsx)(F,{links:x})})]}),(0,v.jsx)("div",{className:z.A.bioContainer,children:c?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n.E,{as:"div",variant:"bodyMedium",className:z.A.bio,dir:"auto",children:(0,v.jsx)(G.y,{source:c,LinkComponent:j.N,onLinkClick:E})}),d===T.B3.Autobiography&&(0,v.jsxs)("div",{className:z.A.postedBy,children:[(0,v.jsx)(l.e,{images:m,label:a,width:32,userIconSize:"small",className:z.A.postedByAvatar}),(0,v.jsx)(n.E,{as:"div",variant:"bodySmall",children:o.Ru.get("acq.artist.about.attribution",{artist:a})})]})]}):null})]})})]})]})}))},38916:(e,t,a)=>{a.d(t,{w:()=>l});var s=a(32255),r=a(69624),n=a(32999);const i={snackbarImage:"XTygmcBFgNjoo0ckBBll"};var o=a(86070);function l({src:e,title:t,type:a}){const l=(0,n.dZ)();return(0,o.jsx)(s.b,{fadeIn:!0,images:e?[{url:l(e,24)}]:[],title:t,type:a,size:r.Qe.SIZE_24,shape:s.u.ROUNDED_CORNERS,iconSize:"xsmall",className:i.snackbarImage})}},68599:(e,t,a)=>{a.d(t,{g:()=>p});var s=a(30758),r=a(97500),n=a.n(r),i=a(422),o=a(31417),l=a(41616);const c="w0kwPDoelauN3C9dVoVe",d="xzLZD9uD3b4u9wecXAJY",u="DaFhhSm73r7rNpomErhI";var m=a(86070);const g=({children:e})=>(0,m.jsx)(m.Fragment,{children:e}),p=(0,s.forwardRef)((function({users:e,maxSlots:t=3,size:a,withoutOverflowBadge:s=!1,dropShadow:r=!1,AvatarWrapper:p=g},h){const b=Math.max(2,t),x=e.length>b?e.length-b+1:0,f=e.slice(0,b),{userIconSize:R,width:y,smallFontSize:E,largeFontSize:v}=(e=>{switch(e){case"xxlarge":return{userIconSize:"xlarge",width:64,smallFontSize:24,largeFontSize:32};case"xlarge":return{userIconSize:"large",width:48,smallFontSize:18,largeFontSize:24};case"large":return{userIconSize:"medium",width:32,smallFontSize:12,largeFontSize:16};case"medium":default:return{userIconSize:"small",width:24,smallFontSize:9,largeFontSize:12};case"small":return{userIconSize:"xsmall",width:18,smallFontSize:8,largeFontSize:10}}})(a),k=x>9?E:v,C=(0,m.jsx)("span",{className:n()(d,"encore-inverted-light-set"),style:{width:y,height:y},role:"presentation",children:(0,m.jsx)(i.E,{variant:"bodySmallBold",style:{fontSize:k},semanticColor:"textBase",children:`+${x}`})});return(0,m.jsx)("div",{className:n()(c),ref:h,children:f.map(((e,t)=>!s&&x>0&&t===b-1?(0,m.jsx)(p,{index:t,children:(0,m.jsx)(l.e,{images:[],userIconSize:R,label:o.Ru.get("web-player.social-connect.facepile.and-others",x),width:y,piled:!0,customPlaceholder:C})},"others"):(0,m.jsx)(p,{index:t,user:e,children:(0,m.jsx)(l.e,{images:e.images,userIconSize:R,label:e.displayName,displayName:e.displayName,username:e.username,width:y,piled:t>0,imageClassName:r?u:void 0})},e.displayName)))})}))},42024:(e,t,a)=>{a.d(t,{T:()=>n});var s=a(85505),r=a(86070);const n=({color:e=s.Ql9,height:t="30",className:a})=>(0,r.jsxs)("svg",{className:a,width:"114",role:"img",height:t,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:e})]})},66737:(e,t,a)=>{a.d(t,{d:()=>M});var s=a(30758);function r(){return"webkitRequestAnimationFrame"in window}function n(){return!!window?.CSS?.supports}function i(){return!n()||CSS.supports("-webkit-border-vertical-spacing","0")}const o=56.1124478168614,l=56.1124478168614,c=56.1124478168614,d=56.11244781686139;function u(){return Math.hypot(-24.42,-50.519999999999925)}const m=33,g=33,p=37,h=37;function b(){return eval.toString().length}var x=a(9856),f=a.n(x);function R(){return"Chrome"===f().parse(navigator.userAgent).browser.name}function y(){return"Firefox"===f().parse(navigator.userAgent).browser.name}var E=a(5537),v=a(44074);function k(){return b()===p&&u()===d&&(!n()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function C(){return!(R()&&!(window.chrome&&b()===m&&u()===o&&i()&&r()))&&(!(y()&&!k())&&(!!(!(0,v.n)()||b()===h&&u()===c&&i()&&r())&&!!(!(0,E.k)()||b()===g&&u()===l&&i()&&r())))}function j(){const{userAgent:e,appVersion:t}=navigator,a=t??"";return/headless/i.test(e)||/headless/i.test(a)}async function S(){return navigator.webdriver||j()||function(){const e=Object.keys(document);for(const t of e)if(t.startsWith("$cdc_"))return!0;return!1}()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length)||await async function(){if(!("permissions"in navigator))return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"===window?.Notification?.permission&&"prompt"===e.state}()}var N=a(21996),w=a(13869);function O(){return(0,N.D)()===w.f.ChromeOS}function A(){if(!("platform"in navigator))return!0;if(O())return!0;const{platform:e}=navigator,t=function(e){const[t]=e.split(" "),a={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in a?a[t]:""}(e);if(!t)return!0;const{os:a}=f().parse(navigator.userAgent);return t===a.name}let _,I=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});const T=async()=>(_=_??await async function(){return{headless:await S()?I.Error:I.Ok,browser:C()?I.Ok:I.Error,os:A()?I.Ok:I.Error}}(),_);const L=async()=>{if(navigator.webdriver)return!1;if(j())return!1;if(R()&&!await async function(){if(!window.chrome)return!1;if(!navigator.plugins?.length)return!1;if(""===navigator.languages)return!1;if(b()!==m)return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"!==window?.Notification?.permission||"prompt"!==e.state}())return!1;if(y()&&b()!==p)return!1;if((0,v.n)()&&b()!==h)return!1;if((0,E.k)()&&b()!==g)return!1;const{userAgent:e}=navigator;if(!function(e,t){if(!("platform"in t))return!0;if(O())return!0;const{platform:a}=t,s=function(e){const[t]=e.split(" "),a={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in a?a[t]:""}(a);if(!s)return!0;const{os:r}=f().parse(e);return s===r.name}(e,navigator))return!1;const t=Object.keys(document);for(const e of t)if(e.startsWith("$cdc_"))return!1;return!0};let D;const P=async()=>(D=D??await L(),D);function M(){const e=(0,s.useRef)(void 0),t=(0,s.useRef)(!1),a=(0,s.useRef)(!1),r=(0,s.useRef)({}),n=(0,s.useCallback)((async s=>{r.current=await T(),s?await P()&&s.isTrusted?"click"!==s.type?e.current=!0:a.current?e.current=t.current:e.current=!0:e.current=!1:e.current=await P()}),[]);return(0,s.useEffect)((()=>{function e(){t.current=!0}function s(e){a.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",s),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",s)}}),[]),{isTrustedRef:e,isTrustedFn:n,metadataRef:r}}},12967:(e,t,a)=>{a.d(t,{X:()=>u,A:()=>W});var s=a(30758),r=a(56515),n=a(19900),i=a(31417),o=a(49980),l=a(94461);const c="KsnGjjEeMb2miriJrkjW";var d=a(86070);const u=()=>{const e=i.Ru.getLocaleForTranslation(),t=l.IB[e]??l.IB.en,a=(0,o.ZZ)(),u=(0,s.useCallback)((()=>{a({type:"OPEN"})}),[a]);return(0,d.jsx)("div",{className:c,children:(0,d.jsx)(r.n,{iconLeading:n.d,size:"small",onClick:u,"data-testid":"language-selection-button",children:t.displayName})})};var m=a(8143),g=a(62411),p=a(422),h=a(40935),b=a(91008),x=a(37410),f=a(33558),R=a(7307),y=a(66387),E=a(77008);const v="ZpqHX3kvsJIsR1QIc4kf",k=({children:e,locale:t,onClick:a,type:s="button"})=>{const r=t===f.Xn,n=(0,E.vf)(window.location.pathname),o=(0,b.o_h)(window.location.pathname),l=(0,x.W)({type:"route",uri:n?R.c.HOME:o?.toURI()}),c={className:v,id:t,onClick:e=>(e=>{if("button"===s){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}a(t)})(e),"data-testid":`language-option-${t}`};if("link"===s){const a=(0,y.ll)(window.location.pathname,!r),s=(0,y.hF)(a,(0,i.a7)(t).baseName),n=l?s:window.location.pathname,o=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${n}`);return(0,d.jsx)("a",{href:o,...c,children:e})}return(0,d.jsx)("button",{...c,children:e})},C="eYLSfS4EKfwsdTsItWkY",j=({style:e,children:t})=>(0,d.jsx)("div",{className:C,style:e,children:t});var S=a(97500),N=a.n(S);const w="KPuW9eE4auKgVgMtPZoH",O="zCedVxWmwaJhPIGzJixP",A="qzuG9AHNXHQrOGF06r9A",_="ZgjCz5A7qOyprtvcLK8y",I="BSwvSvqHiQUVuim4Eidv",T="TpluDuF12UKv3IIq_VDu",L=({onClose:e,children:t})=>{const a=(0,s.useRef)(null),{isOpen:r}=(0,o.iL)();return(0,d.jsx)("div",{"data-testid":"language-selection-modal",className:N()(w,{[O]:r}),onClick:t=>{t.target===a.current&&e()},role:"presentation",ref:a,children:t})},D=({ariaDescribedBy:e,ariaLabelledBy:t,children:a})=>{const{isOpen:s}=(0,o.iL)();return(0,d.jsx)("div",{className:A,role:"dialog",hidden:!s,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:a})};var P=a(45415);const M=({onClose:e})=>(0,d.jsx)("button",{"data-testid":"close-button",className:T,onClick:()=>{e()},children:(0,d.jsx)(P.M,{size:"small","aria-label":i.Ru.get("close")})});var U=a(86394),B=a(2092),F=a(77141),G=a(99644),V=a(95175);const W=({languageSelectionModalRef:e})=>{const t=(0,s.useRef)(null),[a,r]=(0,s.useState)("0"),n=(0,o.ZZ)(),c=(0,g.d4)(B.M),u=(0,s.useCallback)((()=>{n({type:"CLOSE"})}),[n]),{isOpen:b}=(0,o.iL)(),x=(0,s.useCallback)((()=>{r(`${t.current?.getBoundingClientRect().height}px`)}),[r]),f=e=>{var t;(0,V.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),u()};if((0,U.m)(u),(0,G.w)({refOrElement:t,observeOnly:"height",onResize:x}),(0,s.useEffect)((()=>{x()}),[x]),!e.current)return null;const R="language-selection-title",y="language-selection-subtitle",v={"--header-height":a};return(0,m.createPortal)((0,d.jsx)(F.s,{active:b,children:(0,d.jsx)("div",{children:(0,d.jsx)(L,{onClose:u,children:(0,d.jsxs)(D,{ariaLabelledBy:R,ariaDescribedBy:y,children:[(0,d.jsxs)("div",{className:_,ref:t,children:[(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)(p.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:R,paddingBottom:h.v4,children:i.Ru.get("i18n.language-selection.title")}),(0,d.jsx)(p.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:y,paddingBottom:h.CD,children:i.Ru.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(M,{onClose:u})]}),(0,d.jsx)(j,{style:{...v},children:l.Np.map((e=>{const t=(0,i.a7)(e).baseName,a=(0,E.p)({localeFeatureFlag:c,urlLocale:t,type:"locale"});return(0,d.jsxs)(k,{onClick:f,locale:e,type:a?"link":"button",children:[(0,d.jsx)(p.E,{semanticColor:"textBase",children:l.IB[e].displayName}),(0,d.jsx)(p.E,{children:l.IB[e].displayNameEn})]},e)}))})]})})})}),e.current)}},64333:(e,t,a)=>{a.d(t,{c:()=>n,t:()=>i});var s=a(91008);const r=e=>({url:e}),n=e=>{const t=[];return e.largeImageUrl?t.push(r(e.largeImageUrl)):e.imageUrl&&t.push(r(e.imageUrl)),{displayName:e.displayName,images:t,username:e.username,uri:(0,s.Qjr)(e.username).toURI()}},i=(e,t,a)=>{const s=[],r=e.sessionMembers.find((({id:t})=>t===e.sessionOwnerId));r&&s.push(r);const i=e.isSessionOwner?void 0:e?.sessionMembers.find((({username:e})=>e===t));i&&(a?.userFirst?s.unshift(i):s.push(i));const o=e.sessionMembers.filter((({username:a,id:s})=>s!==e.sessionOwnerId&&a!==t));return[...s,...o].map(n)}},70981:(e,t,a)=>{a.d(t,{R:()=>i});var s=a(30758),r=a(89007),n=a(21549);const i=()=>{const{spec:e,logger:t}=(0,n.r)(r.T,{});return{logRemoveClick:(0,s.useCallback)(((a,s)=>{t.logInteraction(e.buttonRowFactory().removeButtonFactory().hitRemoveParticipant({participantId:a,sessionId:s}))}),[t,e])}}},57478:(e,t,a)=>{a.d(t,{h:()=>r});var s=a(30758);function r(e){return(0,s.useCallback)((t=>{null!==t&&void 0!==t.getAnimations&&t.getAnimations({subtree:!0}).filter((t=>t instanceof CSSAnimation&&t.animationName===e&&"running"===t.playState)).forEach((e=>e.startTime=0))}),[e])}},42878:(e,t,a)=>{a.d(t,{s:()=>o});var s=a(30758),r=a(40638),n=a(27102);const i={throttleTime:100,leading:!0};function o(e,t=i){const a=(0,n.ox)(),{throttleTime:o,...l}=t,c=(0,r.YQ)(e,o,l);(0,s.useEffect)((()=>(a?.addEventListener("resize",c),()=>{a?.removeEventListener("resize",c),c.cancel()})),[c,a])}},12641:(e,t,a)=>{a.d(t,{Q:()=>n,s:()=>i});var s=a(30561),r=a(72671);function n(e){return e.build().withHost(r.D8).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function i(e,t){return e.build().withMethod(s.Method.PUT).withHost(r.D8).withPath(`/verifications/${t}/`).withEndpointIdentifier("/verifications/{verificationId}/").send()}},40985:(e,t,a)=>{a.d(t,{l:()=>l});var s=a(30758),r=a(78736),n=a(82921),i=a(93758);const o={id:"",connectStateId:"",name:"",type:a(62642).bq.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,losslessSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1},supportsLogout:!1,supportedMediaTypes:null},l=()=>{const e=(0,n.Z)(),[t,a]=(0,s.useState)({currentDevice:o,devices:[]}),l=(0,s.useCallback)((()=>{const t=e.getActiveDevice(),s=e.getDevices();a({currentDevice:t||o,devices:s})}),[e]);return(0,i.W)(r.P.UPDATE,l),(0,s.useEffect)((()=>{l()}),[l]),t}},23299:(e,t,a)=>{a.d(t,{D:()=>n});var s=a(89088),r=a(30157);function n(){return(0,r.N)(s.x)}},17802:(e,t,a)=>{a.d(t,{A:()=>s});const s={artistOverviewContent:"XtGI24gayCCOR69pcBao",artistOverviewContainer:"AK5MS4kVmpVJSnAPzApZ",popularTracks:"ih3vZ4qqibfclKQ2r3U8",artistShelfSpacer:"vsqOYUmRYepQ7AgGzPDk",artistShelfRelatedVideos:"Uv9uqBNRy4qsyhPSa7lY",artistSides:"YyjwPfOAdb6z73PerGUF",artistSidesBlock:"pAvBQUDkfvkyO47Kw71y",sideBlock:"PPoC4pYtYLuuzjV0RaQF",popularTracksBlock:"V168frZQBWaJ1OdnyyKO",about:"MZkAAYmEs5kAOXrbrBQQ",events:"IR0gsJCJYP1TqjMi6wUt",merch:"hGJN08YEbxIJ2HaEcHee",merchSmall:"GNdKACg7GTgIv75LT6Gv",overview:"FwIG_h9mHxGOTDxFRnWT",heading:"anPfvyDzeqR3CKW4gHUP",merchShelfContent:"ZpAXOWy3RgYX8ywKZZOI",container:"jW4eWdr_LUeOXwPpKhWG",content:"BPDHTIIFueJMvtDPZttw",backgroundImage:"DRXonbAbVN5Vg9anDL1X",bio:"xbKOOJ_NjLijBvdpAudQ",artistGridContainer:"M0yriEHOsE9ET707IXzC",image:"PwMuGFUCeHPjbHDy8M1T",columnContainer:"y_GaLKy76zj71zPYkLrs",bioContainer:"TV2j1oIRIkKH_6D1xP82",statsContainer:"T_AmQPlZ6wvE819I7A0D",stats:"zQy0G59IX5G4Cc9AtWRT",postedBy:"OyLgnahIHw63684ABRBF",postedByAvatar:"KguYS3oppxDrMNpTUJcB",avatar:"O9QEyBUMktZGNPifQqvY",modal:"JnpOnFaQfrRIA2fYe88A",scrollbars:"cacyLqtJhjhr95qRC_R7",close:"pSxFsY9Fgcj5f8Gf05mh",modalBase:"tsFfFt7SCIoA14JawrRf",modalAfterOpen:"_VADS4mdajCt5Yuf6KjW",modalBeforeClose:"TrS5BnDIiLtqz1i1QBVV",rank:"tLjX9htIKD_OCmEX01UN",cityBlock:"NPv26QCDgdnwsPOlYJmQ"}}}]);
//# sourceMappingURL=xpui-root-dialogs.js.map