"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5783],{80809:(e,t,n)=>{n.d(t,{B:()=>C});var s=n(30758),i=n(5765),a=n(422),o=n(31417),r=n(75134),c=n(43743),l=n(38996),d=n(89994),u=n(81288),m=n(65462),g=n(40675),h=n(84816),p=n(21082),v=n(8268),x=n(3602),f=n(41661),j=n(86070);const y=(e,t)=>(n,s)=>{s&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:s}))},C=({name:e,uri:t,images:n,description:C,authorName:b,authorUri:S,isHero:k=!1,onClick:N=(()=>{}),testId:R,index:_,requestId:I,color:w,isPlayable:D,variant:U,logCardImpressions:A=!1,leaveTitleVisible:F})=>{let E,M=(0,j.jsx)(g.W,{uri:t}),L=D,B=!1;const P=S||"",T=(0,s.useCallback)((()=>{N?.(P)}),[N,P]);(0,x.c0)(t)&&(L=!0,M=(0,j.jsx)(v.gb,{}),B=!0);const O=F||!("spotify:user:spotify"===S);return E=k?(0,j.jsx)(d.A,{index:_,onClick:N,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:B,renderCardImage:()=>(0,j.jsx)(c.M,{isHero:!0,images:n,color:w,FallbackComponent:e=>(0,j.jsx)(i.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,j.jsxs)(l.c,{isHero:!0,children:[(0,j.jsx)(u.t,{children:o.Ru.get("card.tag.playlist")}),C?(0,j.jsx)(f.N,{source:C,LinkComponent:p.N,onLinkClick:y(e,t)}):b&&S&&(0,j.jsx)(m.h,{menu:(0,j.jsx)(h.B,{uri:P}),children:(0,j.jsx)(a.E,{variant:"bodySmall",children:(0,j.jsx)(p.N,{to:P,onClick:T,children:b})})})]}),testId:R,requestId:I,isPlayable:L,logCardImpressions:A}):(0,j.jsx)(r.Z,{variant:U,index:_,onClick:N,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:B,renderCardImage:()=>(0,j.jsx)(c.M,{images:n,color:w,FallbackComponent:e=>(0,j.jsx)(i.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,j.jsx)(l.c,{children:C?(0,j.jsx)(f.N,{source:C,LinkComponent:p.N,onLinkClick:y(e,t)}):b&&(0,j.jsx)("span",{children:o.Ru.get("search.playlist-by",b)})}),testId:R,requestId:I,isPlayable:L,logCardImpressions:A,showTitle:O}),(0,j.jsx)(m.h,{menu:M,children:E})}},40675:(e,t,n)=>{n.d(t,{W:()=>T});var s=n(30758),i=n(31417),a=n(10994),o=n(35897),r=n(10285),c=n(59521),l=n(26869),d=n(199),u=n(65305),m=n(56349),g=n(1229),h=n(99165),p=n(96641),v=n(34139),x=n(21489),f=n(67865),j=n(88761),y=n(62209),C=n(69476),b=n(23189),S=n(58033),k=n(42162),N=n(47694);const R=()=>null;var _=n(48460),I=n(63453),w=n(3602),D=n(44672),U=n(20817),A=n(24533),F=n(11893),E=n(16743),M=n(78774),L=n(7307),B=n(86070);const P=s.memo((function({uri:e,isPublished:t,canPin:n=U.oT.NO,isPinned:I=!1}){const w=(0,F.J)(e,{decorateFormatListData:!0}),[P]=(0,A.A)(e),{spec:T}=(0,M.o)(e),O=!!w?.permissions?.isPrivate,H=(0,E.v)(e)??w?.isPublished??t,z=w?.hasSpotifyAudiobooks,W=(0,_.x)();return w?.permissions&&!w.permissions.canView&&P?w&&(0,B.jsx)(D.pZ,{value:"playlist",children:(0,B.jsx)(a.W,{children:(0,B.jsx)(m.ET,{uri:e})})}):w&&(0,B.jsx)(D.pZ,{value:"playlist",children:(0,B.jsxs)(a.W,{children:[!w.isOwnedBySelf&&w.isRootlistable&&(0,B.jsx)(m.ET,{uri:e}),!z&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(r.K,{spec:T,uris:[e]}),(0,B.jsx)(N._,{uri:e,spec:T})]}),W&&(0,B.jsx)(s.Suspense,{fallback:null,children:(0,B.jsx)(R,{playlistUri:e,playlistMetadata:w})}),P&&!O&&(0,B.jsx)(y._,{spec:T,divider:"both",uri:e,isPublished:H}),w.isOwnedBySelf&&(0,B.jsx)(u.T,{spec:T,uri:e,name:w.name,description:w.description,image:w.images[0]}),!w.isOwnedBySelf&&(0,B.jsx)(C.P,{spec:T,uri:e}),w.isOwnedBySelf&&(0,B.jsx)(l.u,{spec:T,uri:e}),!z&&(0,B.jsx)(d.d,{spec:T,uri:e}),w.permissions?.canAdministratePermissions&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(j.U,{spec:T,divider:"before",uri:e,isPrivate:O}),!z&&(0,B.jsx)(h.n,{uri:e,spec:T})]}),w.permissions?.canCancelMembership&&(0,B.jsx)(p._,{spec:T,divider:"before",uri:e}),(0,B.jsx)(g.w,{spec:T,uri:e}),(0,B.jsx)(b.y,{uriToBeAdded:e,isInLibrary:P,spec:T}),!z&&(0,B.jsx)(S.o,{spec:T,uris:[e],isPlaylist:!0,isEmpty:0===w.totalLength}),n!==U.oT.NO&&(0,B.jsx)(f.k,{uri:e,canPin:n,isPinned:I,type:L.c.PLAYLIST,spec:T}),(w.isOwnedBySelf||!O)&&(0,B.jsxs)(k.h,{divider:"before",children:[(0,B.jsx)(c.m,{sharingInfo:w.sharingInfo,spec:T,uri:e,displayText:i.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:O,playlistType:w.formatListData?.type}),!w.hasSpotifyAudiobooks&&(0,B.jsx)(v.x,{spec:T,uri:e,type:L.c.PLAYLIST})]}),!!w?.formatListData&&(0,B.jsx)(o.r,{divider:"before"}),(0,B.jsx)(x.q,{spec:T,divider:"before",uri:e})]})})})),T=e=>(0,w.c0)(e.uri)?(0,B.jsx)(I.g,{}):(0,B.jsx)(P,{...e})},58757:(e,t,n)=>{n.d(t,{p:()=>N});var s=n(30758),i=n(97500),a=n.n(i),o=n(422),r=n(44481),c=n(17866),l=n(19830);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",g="(min-width: 768px) and (max-width: 1023px)",h="(min-width: 1024px)",p="(min-width: 1024px) and (max-width: 1279px)",v="(min-width: 1280px)",x="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",j="FvfvGU3jvHRskUU9v9_8",y="Q9AlbZn2EGzy3MTWXa8X",C="mxmxS0y8LiwSs5nueKPT",b="GXxVAveNFStY3pBI_NO4",S="eHcXC2s97InYP7rMNT0H";var k=n(86070);const N=(0,s.memo)((function(e){const{children:t,message:n,title:s,linkTitle:i,linkTo:N,onClick:R,renderInline:_=!1}=e,{isXSOnly:I,isSMOnly:w}={isXS:(0,l.U)(d),isXSOnly:(0,l.U)(u),isSM:(0,l.U)(m),isSMOnly:(0,l.U)(g),isMD:(0,l.U)(h),isMDOnly:(0,l.U)(p),isLG:(0,l.U)(v),isLGOnly:(0,l.U)(x),isXL:(0,l.U)(f)},D=I||w;return(0,k.jsxs)("section",{className:a()(j,{[y]:_}),children:[t,(0,k.jsx)(o.E,{as:"h1",variant:D?"titleSmall":"titleMedium",className:b,children:s}),(0,k.jsx)(o.E,{variant:D?"bodySmall":"bodyMedium",className:S,children:n}),i&&(N||R)&&(0,k.jsx)(r.$,{colorSet:"invertedLight",className:C,href:N,onClick:R,component:c.v,children:i})]})}))},7714:(e,t,n)=>{n.d(t,{R:()=>v});var s=n(30758),i=n(97500),a=n.n(i),o=n(17287),r=n(41526),c=n(73043),l=n(50635),d=n(37178),u=n(83327),m=n(50671),g=n(25832),h=n(86070);const p=(0,s.memo)((({title:e,titleUri:t,titleMediaCircle:n,subtitle:i,pretitle:l,titleMedia:u,trailing:m,collapsable:p,children:v,className:x="",testId:f="component",id:j,seeAllUri:y,seeAllLabel:C,alwaysShowSeeAll:b=!1,showSeeAll:S=!0,onClickShelfTitle:k,onClickShelfSeeAll:N,elementRef:R,renderSubHeader:_,withEncoreCards:I=!0})=>{const w=(0,s.useRef)(null),D=!!S&&(b||S),U=p?{"data-shelf-collapsable":!0}:{},[A,F]=(0,s.useState)(!0),E=(0,d.W)();(0,s.useLayoutEffect)((()=>{if(w.current){const e=(0,r.X)(w.current,E);e?w.current.removeAttribute("data-shelf-notatedge"):w.current.setAttribute("data-shelf-notatedge","true"),F(e)}}),[R,E]);const M=A?"0px var(--margin, 0px)":"0px";return(0,h.jsxs)("section",{ref:e=>{w.current=e,"function"==typeof R&&R(e)},className:a()(x,g.A.carouselShelf,{[g.A.withEncoreCards]:I}),"data-shelf":"carousel","data-testid":`${f}-shelf`,"aria-label":e??"",...U,children:[e&&(0,h.jsx)("div",{className:g.A.header,children:(0,h.jsx)(c.k,{seeAllUri:y,seeAllLabel:C,pageId:j,showSeeAll:D,onClickTitle:k,onClickSeeAll:N,title:e,titleUri:t,subtitle:i,pretitle:l,titleMedia:u,trailing:m,titleMediaCircle:n})}),_&&(0,h.jsx)("div",{className:g.A.subHeader,children:_()}),(0,h.jsx)(o.FN,{className:g.A.carousel,chevronsClassName:g.A.carouselChevrons,scrollContentClassName:g.A.carouselScrollContent,scrollerClassName:g.A.carouselScroller,scrollingMethod:o.Hv.SNAP,scrollPadding:M,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:o.C_.ON_HOVER,dragToScroll:!1,edgeGradients:o.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:v})]})})),v=({index:e,logShelfImpressions:t=!1,...n})=>{const{seeAllUri:s,id:i}=n,{onClickShelfTitle:a,onClickShelfSeeAll:o,spec:r}=(0,l.w)({seeAllUri:s,index:e,id:i}),c=(0,m.t)(r);return(0,h.jsx)(u.r,{spec:r,children:(0,h.jsx)(p,{...n,elementRef:t?c:void 0,onClickShelfTitle:a,onClickShelfSeeAll:o})})}},56984:(e,t,n)=>{n.d(t,{A:()=>y});var s=n(30758),i=n(90694),a=n(422),o=n(87560),r=n(21082),c=n(54926),l=n(73152);const d="wedRUk4eiBo9n9vqXLhU",u="hMbtEskyvMbDiwq1EScA",m="HYVIJaYYiCTgSCHie70L",g="SPbe_Q1wtiZQCmo0QKUy",h="TRp4tgG7_cymGIXDevIP",p="tC1Y_nwyyly7cpIGqF5K",v="l93AfoV_qHnMQSQBB5GK",x="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=n(86070);const y=(0,s.memo)((e=>{const{uri:t,title:n,imageUrl:s,date:y,subTitle:C,firstParty:b,onClick:S}=e,k=y?(0,c.l4)(y):void 0;return(0,j.jsx)(r.N,{to:t,className:d,"data-testid":"concert-card",onClick:S,children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(l.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${s})`},children:!s&&(0,j.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),k&&(0,j.jsxs)("time",{className:m,dateTime:y,children:[(0,j.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(k)}),(0,j.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(k)})]}),(0,j.jsxs)("div",{className:g,dir:"auto",children:[(0,j.jsx)(a.E,{as:"h3",variant:"bodyMedium",className:h,children:n}),(0,j.jsxs)("div",{className:p,children:[b&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(o.D,{size:"small"})}),(0,j.jsx)(a.E,{as:"span",className:v,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))},84699:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ps});var s=n(30758),i=n(97500),a=n.n(i),o=n(62411),r=n(60749),c=n(85505),l=n(44481),d=n(93523),u=n(45764),m=n(51756),g=n(18703),h=n(14343),p=n(11985),v=n(31417),x=n(62538),f=n(15292),j=n(25577),y=n(88711),C=n(46110),b=n(1246),S=n(62986),k=n(85387),N=n(56515),R=n(91008),_=n(45415),I=n(13791),w=n(44971),D=n(3520);const U="gTBBvHPsmI4wQAMvZkZg",A="oH8142OCLHWFsonR04W8",F="vnpiTOiF2um7QiJAcpgw",E="uTm3fSPtqqJzQkcfn4yA",M="x4_6X4ZJHSGg6IAuXsXv";var L=n(86070);const B=e=>{const t=(0,s.useMemo)((()=>e.spec?.genreButtonFactory({position:e.position,uri:e.uri})),[e.spec,e.position,e.uri]);return(0,L.jsx)(D.v,{variant:e.isSelected?"contrasting":"tinted",onClick:()=>{t&&t.hitUiElementToggle(),e.onClick()},children:(0,L.jsx)("div",{className:M,children:e.name})},e.uri)},P=e=>{const[t,n]=(0,s.useState)(e.defaultConcepts),i=(0,s.useMemo)((()=>e.spec?.genreDoneButtonFactory()),[e.spec]),a=(0,s.useMemo)((()=>e.spec?.genreClearButtonFactory()),[e.spec]);return(0,L.jsx)(w.A,{contentLabel:v.Ru.get("live_events.label"),isOpen:!0,className:U,onRequestClose:e.onClose,children:(0,L.jsxs)("section",{className:A,children:[(0,L.jsx)("div",{className:F,children:(0,L.jsx)(d.H,{"aria-label":v.Ru.get("close"),iconOnly:_.M,size:"small",onClick:e.onClose})}),(0,L.jsx)(I.I,{mode:"multi-select",layout:"multi-line","aria-label":"",children:e.concepts.map(((s,i)=>{const{uri:a,name:o}=s.data;return(0,L.jsx)(B,{uri:a,name:o,position:i+1,spec:e.spec,isSelected:t.includes(a),onClick:()=>n((e=>e.includes(a)?e.filter((e=>e!==a)):[...e,a]))},a)}))}),(0,L.jsxs)("div",{className:E,children:[(0,L.jsx)(d.H,{onClick:()=>{a&&a.hitUiDeselect(),n([])},size:"small",disabled:0===t.length,children:v.Ru.get("concerts.genres.clear")}),(0,L.jsx)(l.$,{onClick:()=>{i&&i.hitUiSelect(),e.onSave(t)},size:"small",children:v.Ru.get("concerts.genres.done")})]})]})})},T=(e,t,n)=>{const s=n&&n?.length>1?"+"+(n?.length-1):"";return e?[e.name,s].join(" ").trim():t?[t,s].join(" ").trim():v.Ru.get("concerts.genres.all_genres")},O=e=>void 0!==e&&Object.keys(e).includes("data");var H=n(57776),z=n(59147);const W=new H.l("concertConcepts","query","4dd1f1e7b1f9b986cbff58bad7a38eab99ff26b33bc3e10e0ad5a72af8c489f5",null);var q=n(96110);const Z=()=>{const{id:e}=(0,k.g)(),[t]=(0,r.ok)(),n=(0,q.Qe)(e),s=t.getAll("genres").map((e=>(0,R.dDZ)(e).toString()));return{displayName:n?.name,conceptUris:[...new Set(n?[n.id,...s]:s)]}},Q=e=>{const t=(0,k.Zp)(),[n]=(0,r.ok)(),{pathname:i}=(0,k.zy)(),a=(0,s.useMemo)((()=>e.spec?.genrePickerButtonFactory()),[e.spec]),{data:o}=(c={geohash:e.geohash??""},(0,z.I)(W,c,d));var c,d;const u=(m=o?.concertConcepts,void 0!==m&&Object.keys(m).includes("items")?o.concertConcepts.items.filter(O):[]);var m;const{displayName:g,conceptUris:h}=Z(),[p,v]=(0,s.useState)(!1),[x,f]=(0,s.useState)(h),[j]=x,y=u.find((e=>e.data.uri===j)),C=y||g?l.$:N.n;return(0,L.jsxs)("div",{children:[(0,L.jsx)(C,{size:"small",onClick:()=>{a&&a.hitUiReveal(),v((e=>!e))},className:M,children:T(y?.data,g,x)}),p&&(0,L.jsx)(P,{spec:a,onClose:()=>v(!1),onSave:e=>{n.delete("genres");const[s]=e,a=u.find((e=>e.data.uri===s));if(a){const s=(0,R.o_h)(a.data.uri);e.length>1&&e.forEach((e=>n.append("genres",(0,R.o_h)(e)?.id))),t({pathname:(0,q.DL)(i,s?.id,a?.data.name),search:new URLSearchParams(n).toString()})}else t({pathname:(0,q.DL)(i,void 0,void 0),search:new URLSearchParams(n).toString()});f(e),v(!1)},concepts:u,defaultConcepts:x})]})};var X=n(46638),G=n(73155),V=(n(15887),n(422)),Y=n(70043),K=n(67017),$=n(91985),J=n(3091),ee=n(17176),te=n(6924),ne=n(72653),se=n(94222),ie=n(96644),ae=n(87584),oe=n(63514),re=n(16856),ce=n(54869),le=n(96132),de=n(24808),ue=n(47613),me=n(2283),ge=n(88593),he=n(34327),pe=n(64416),ve=n(79494),xe=n(38408),fe=n(62224),je=n(63240),ye=n(45523),Ce=n(10632),be=n(54701),Se=n(80675),ke=n(72861),Ne=n(76804),Re=n(55128),_e=n(53406),Ie=n(38024),we=n(1467),De=n(24428),Ue=n(48199),Ae=n(61845),Fe=n(83536),Ee=n(70756),Me=n(63855),Le=n(23484),Be=n(96344),Pe=n(38903),Te=n(17530),Oe=n(33140),He=n(64741),ze=n(71418),We=n(44135),qe=n(6729),Ze=n(32409),Qe=n(67031),Xe=n(98045),Ge=n(86111),Ve=n(11554),Ye=n(61753),Ke=n(87318),$e=n(89949),Je=n(22180),et=n(85428);const tt={af:Y.af,am:K.c,ar:$.ar,arEG:J.m,arMA:ee.E,arSA:te.G,az:ne.az,bg:se.bg,bn:ie.bn,bho:K.c,bs:ae.bs,ca:oe.ca,cs:re.cs,da:ce.da,de:le.de,el:de.el,en:K.c,enGB:ue.b,es419:me.es,es:me.es,esAR:me.es,esMX:me.es,et:ge.et,eu:he.eu,fa:pe.$,fi:ve.fi,fil:K.c,frCA:xe.V,fr:fe.fr,gl:je.gl,gu:ye.gu,he:Ce.he,hi:be.hi,hr:Se.hr,hu:ke.hu,id:Ne.id,is:Re.is,it:_e.it,ja:Ie.ja,kn:we.kn,ko:De.ko,lt:Ue.lt,lv:Ae.lv,mk:Fe.mk,ml:K.c,mr:K.c,ms:Ee.ms,nb:Me.nb,ne:K.c,nl:Le.nl,or:K.c,paIN:K.c,paPK:K.c,pl:Be.pl,ptBR:Pe.F,ptPT:Te.pt,ro:Oe.ro,ru:He.ru,sk:ze.sk,sl:We.sl,sr:qe.sr,sv:Ze.sv,sw:K.c,ta:Qe.ta,te:Xe.te,th:Ge.th,tr:Ve.tr,uk:Ye.uk,ur:K.c,vi:Ke.vi,zhCN:$e.g,zhHK:Je.a,zhTW:et.G,zu:K.c},nt=e=>(e=>Object.keys(tt).includes(e))(e)?tt[e]:K.c;var st=n(12058),it=n(42534);const at=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);return n.setDate(t.getDate()+2),{from:t,to:n}},ot=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);n.setDate(t.getDate()+7);const s=new Date(n);return s.setDate(n.getDate()+2),{from:n,to:s}},rt=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,st.r)(e.from,t.from)&&(0,st.r)(e.to,t.to)),ct=e=>(0,it.x)(e,{representation:"date"});var lt=n(37178),dt=n(33329),ut=n(50671);const mt="C1USyigFSYyc22_BmsgB",gt="Cwo5ZgH_QLzFbSjWjglf",ht="iL7PRv0yTC9UFjHfDJDW",pt="oxBa3kaduGMhYxc9I_Uu",vt="x0xbkRE3CyGK_i406MSX",xt="zT6EzYpjnj9pMKhMFQB7",ft="YOLVSXg5_gdh0VfL2oNl",jt="ynXemVsankd4H506x8D2",yt={formatCaption:e=>v.Ru.formatDate(e,{month:"long",year:"numeric"}),formatDay:e=>v.Ru.formatDate(e,{day:"numeric"}),formatWeekdayName:e=>v.Ru.formatDate(e,{weekday:"short"})},Ct=(0,s.memo)((e=>{const{onDone:t,onClose:n,spec:i}=e,[a,o]=(0,s.useState)(e.dateRange),r=(0,lt.W)(),c=(0,ut.t)(i),u=(0,dt.s)(),m=new Date,g=at(m),h=ot(m),p=rt(a,g),x=rt(a,h),f=new Date;return f.setFullYear(f.getFullYear()+1),(0,L.jsx)("div",{ref:c,children:(0,L.jsx)(w.A,{isOpen:!0,children:(0,L.jsxs)("section",{className:mt,children:[(0,L.jsx)(d.H,{className:gt,iconOnly:_.M,size:"small",onClick:n,"aria-label":v.Ru.get("close_button_action")}),(0,L.jsxs)("div",{className:ht,children:[(0,L.jsx)(V.E,{as:"h3",variant:"bodyMediumBold",children:v.Ru.get("live_events.date_picker_dialog_title")}),(0,L.jsxs)("div",{className:pt,children:[(0,L.jsx)(D.v,{className:vt,size:"md",selectedColorSet:"brightAccent",selected:p,onClick:()=>{o(p?void 0:g),i&&u.logInteraction(i.datePresetButtonFactory({identifier:"thisWeekend",position:0}).hitUiSelect())},children:v.Ru.get("live_events.this_weekend_preset")}),(0,L.jsx)(D.v,{className:vt,size:"md",selectedColorSet:"brightAccent",selected:x,onClick:()=>{o(x?void 0:h),i&&u.logInteraction(i.datePresetButtonFactory({identifier:"nextWeekend",position:1}).hitUiSelect())},children:v.Ru.get("live_events.next_weekend_preset")})]})]}),(0,L.jsx)(G.hv,{mode:"range",selected:a,onSelect:o,numberOfMonths:2,defaultMonth:e.dateRange?.from,fromDate:new Date,toDate:f,formatters:yt,dir:r?"rtl":"ltr",modifiersClassNames:{today:xt},locale:nt(v.Ru.getLocaleForFormatting())}),(0,L.jsxs)("div",{className:ft,children:[(0,L.jsx)(d.H,{className:jt,size:"small",onClick:()=>{o(void 0)},disabled:!a?.from,children:v.Ru.get("live_events.date_picker_dialog_clear")}),(0,L.jsx)(l.$,{size:"small",onClick:()=>{if(a?.from){const{from:e,to:n}=a;t({from:e,to:n||e})}else t()},children:v.Ru.get("live_events.date_picker_dialog_done")})]})]})})})})),bt=e=>{const t=e?.match(/(202\d)-([01]\d)-([0-3]\d)/);if(!t)return;const[,n,s,i]=t;return new Date(parseInt(n,10),parseInt(s,10)-1,parseInt(i,10))},St=()=>{const[e]=(0,r.ok)(),t=e.get("startDate")?.trim(),n=e.get("endDate")?.trim(),s=bt(t),i=bt(n);return s&&i&&{from:s,to:i}};var kt=n(54926);const Nt="WnIhxhr9MIQjVvkvUQTf",Rt="ETRYfT8oEUJuUDLgOBUX",_t="qdpaG8_efSSt25IhC0r_",It=e=>{const[t,n]=(0,s.useState)(!1),[,i]=(0,r.ok)(),a=(0,dt.s)(),o=(0,s.useMemo)((()=>e.spec?.datePickerModalFactory()),[e.spec]),c=(0,s.useMemo)((()=>e.spec?.headerFactory()),[e.spec]),d=St(),u=at(new Date),m=ot(new Date),g=(0,s.useCallback)((e=>{const t={};if(e&&(t.startDate=ct(e.from),t.endDate=ct(e.to),o)){const e=new URLSearchParams(t).toString();a.logInteraction(o.doneButtonFactory({uri:e}).hitUiNavigate({destination:e}))}n(!1),i(t),o&&a.logInteraction(o.doneButtonFactory({uri:new URLSearchParams(t).toString()}).hitUiHide())}),[i,o,a]),h=(0,s.useCallback)((e=>{const t={};rt(d,e)||(t.startDate=ct(e.from),t.endDate=ct(e.to)),i(t)}),[d,i]),p=d?l.$:N.n;return(0,L.jsxs)("div",{className:Nt,children:[(0,L.jsx)("div",{children:(0,L.jsx)(p,{className:Rt,iconLeading:X.R,onClick:()=>{n(!0),c&&a.logInteraction(c.datePickerButtonFactory().hitUiReveal())},size:"small",children:d?(0,kt.tX)(d):v.Ru.get("live_events.date_picker_button_text")})}),t&&(0,L.jsx)(Ct,{onClose:()=>{n(!1),o&&a.logInteraction(o.closeButtonFactory().hitUiHide())},onDone:g,dateRange:d,spec:o}),(0,L.jsxs)("div",{className:_t,children:[(0,L.jsx)(D.v,{size:"sm",selectedColorSet:"brightAccent",selected:rt(d,u),onClick:()=>{if(h(u),c){const e={startDate:ct(u.from),endDate:ct(u.to)},t=new URLSearchParams(e).toString();a.logInteraction(c.datePresetButtonFactory({uri:t,identifier:"thisWeekend",position:0}).hitUiNavigate({destination:t}))}},className:Rt,children:v.Ru.get("live_events.this_weekend_preset")}),(0,L.jsx)(D.v,{size:"sm",selectedColorSet:"brightAccent",selected:rt(d,m),onClick:()=>{if(h(m),c){const e={startDate:ct(m.from),endDate:ct(m.to)},t=new URLSearchParams(e).toString();a.logInteraction(c.datePresetButtonFactory({uri:t,identifier:"nextWeekend",position:1}).hitUiNavigate({destination:t}))}},className:Rt,children:v.Ru.get("live_events.next_weekend_preset")})]})]})};var wt=n(58757),Dt=n(92202),Ut=n(7714),At=n(56984),Ft=n(15558);const Et=e=>{const[t]=e;if(!("visuals"in t.data))return;const[n]=t.data.visuals.avatarImage?.sources??[];return n?.url},Mt=e=>{const t=(0,dt.s)(),n=(0,s.useMemo)((()=>{const t=(0,R.o_h)((0,Ft.$V)(e)?e.data.uri:"");return e.spec?.eventCardFactory({identifier:t?.id,position:e.position,uri:t?.toURI()??""})}),[e]);if(!(0,Ft.$V)(e))return;return{imageUrl:Et(e.data.artists.items)??"",uri:e.data.uri,title:e.data.title,subTitle:[e.data.location.name,e.data.location.city].join(v.Ru.getSeparator()),date:e.data.startDateIsoString,dateRange:(0,kt.Y)(new Date(e.data.startDateIsoString)),handleClick:()=>n&&t.logInteraction(n.hitUiNavigate({destination:e.data.uri}))}},Lt=e=>{const t=Mt(e);return t?(0,L.jsx)(At.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,imageUrl:t.imageUrl,date:t.date,onClick:t.handleClick}):null};var Bt=n(87150),Pt=n(38219),Tt=n(48730),Ot=n(21082);const Ht="Ig5vKQ7dYBd1EvrAFxNe",zt="h_q319q68ujja24YIoXY",Wt="dFTQKQt3imsoOza3VE4G",qt="M8LA1p3y53Qnge37zUmz",Zt="HZi6Ziy6mVJMFZsPf4wk",Qt="KNX0R2c0r90zNTPYZm6X",Xt="JI0woT5IN6EnNKnilhcg",Gt="kAi1CfiOMYDExKkXuw44",Vt="Zwr6T4ceJI7KfyNxa4tS",Yt="mW3O8RnDMDY6MfRJKqd5",Kt="raQK_4Eaqa5Zj06_aBm7",$t="AOuYgrCnrYvPKsyzxqVy",Jt="P1dra4DUpn36RnCkuwa_",en="zBCfaF04WlTsiUcov2oJ",tn="JxTPZX9AoptKanJg0zIw",nn=(0,s.memo)((e=>{const{concert:t,position:n,modalSpec:i}=e,a=(0,kt.l4)(e.concert.startDateIsoString),o=(0,R.o_h)(e.concert.uri),r=(0,s.useMemo)((()=>i?.eventRowFactory({position:n,uri:t.uri})),[i,n,t]),c=(0,dt.s)();return(0,L.jsxs)(Ot.N,{to:`/concert/${o?.id}`,className:Gt,onClick:()=>{r&&c.logInteraction(r.hitUiNavigate({destination:`/concert/${o?.id}`}))},children:[(0,L.jsxs)("div",{className:Vt,"aria-hidden":!0,children:[(0,L.jsx)(V.E,{as:"div",variant:"marginalBold",className:Yt,children:(0,kt.tj)(a)}),(0,L.jsx)(V.E,{as:"div",variant:"bodyMediumBold",className:Kt,children:(0,kt.Py)(a)})]}),(0,L.jsxs)("div",{className:$t,children:[(0,L.jsx)(V.E,{as:"div",variant:"bodySmallBold",className:Jt,"data-testid":"event-title",children:t.title}),(0,L.jsx)(Tt.s,{children:(0,kt.Fn)(a)}),(0,L.jsxs)(V.E,{as:"div",variant:"bodySmall",className:en,children:[(0,kt.VJ)(a)," • ",(0,kt.WB)(a)]}),(0,L.jsx)(V.E,{as:"div",variant:"bodySmall",className:tn,"data-testid":"event-venue",children:[t.location.venue,t.location.city].join(v.Ru.getSeparator())})]})]},t.uri)})),sn=e=>{const t=(0,s.useMemo)((()=>e.feedSpec?.groupedEventModalFactory({uri:e.artist.uri||""})),[e.feedSpec,e.artist]),n=(0,dt.s)(),i=(0,ut.t)(t),a=()=>{t&&n.logInteraction(t.closeButtonFactory().hitUiHide()),e.onClose()};return(0,L.jsx)(w.A,{contentLabel:v.Ru.get("live_events.label"),isOpen:!0,className:Ht,onRequestClose:a,children:(0,L.jsxs)("section",{className:zt,ref:i,children:[(0,L.jsx)("div",{className:Wt,children:(0,L.jsx)(an,{"aria-label":v.Ru.get("close"),iconOnly:_.M,size:"small",onClick:a})}),(0,L.jsxs)("div",{className:qt,children:[(0,L.jsx)(Pt._,{height:"48",width:"48",className:Zt,src:e.artist.imageUri}),(0,L.jsxs)("div",{className:Qt,children:[(0,L.jsx)(V.E,{as:"h3",variant:"bodyMediumBold",className:Xt,"data-testid":"event-venue",children:e.artist.name}),(0,L.jsx)(V.E,{as:"h3",variant:"bodySmall","data-testid":"event-venue",children:v.Ru.get("concerts.count_near_location",e.concerts.length,e.location.city)})]})]}),e.concerts.map(((e,n)=>(0,L.jsx)(nn,{concert:e,position:n,modalSpec:t},e.uri)))]})})};var an=(0,Bt.Ay)(d.H).withConfig({displayName:"ConcertModal___StyledButtonTertiary",componentId:"sc-179c8vh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const on=e=>{const[t,n]=(0,s.useState)(!1),i=(0,s.useMemo)((()=>{if(!(0,Ft.ys)(e))return;const[t]=e.concerts;if(!(0,Ft.$V)(t))return;const n=(0,R.o_h)(t.data.uri);return e.spec?.eventCardFactory({identifier:n?.id,position:e.position,uri:t.data.uri})}),[e]),a=(0,dt.s)(),o=(0,ut.t)(i);if(!(0,Ft.ys)(e))return;const[r]=e.concerts;if(!(0,Ft.$V)(r))return;const[c]=r.data.artists.items,l=Et(r.data.artists.items),{startDate:d,endDate:u}=(0,kt.Vi)(e.concerts);return{isModalOpen:t,handleClick:e=>{e.preventDefault(),n(!0),i&&a.logInteraction(i.hitUiReveal())},handleClose:()=>n(!1),concert:{uri:r.data.uri,title:r.data.title,imageUrl:l,dateRange:(0,kt.WZ)(d,u),startDateIsoString:r.data.startDateIsoString},artist:{uri:"uri"in c.data?c.data.uri:"",name:"profile"in c.data?c.data.profile.name:"",imageUri:l??""},location:{city:r.data.location.city,venue:r.data.location.name},totalConcerts:e.concerts.length,concerts:e.concerts.map((e=>(0,Ft.$V)(e)?{uri:e.data.uri,title:e.data.title,location:{city:e.data.location.city,venue:e.data.location.name},startDateIsoString:e.data.startDateIsoString}:null)).filter(Ft.se),ref:o}},rn=e=>{const t=on(e);return t?(0,L.jsxs)("div",{ref:t.ref,children:[(0,L.jsx)(At.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,imageUrl:t.concert.imageUrl,subTitle:`${t.concert.dateRange} • ${v.Ru.get("concerts.count",t.totalConcerts)}`}),t.isModalOpen&&(0,L.jsx)(sn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};var cn=n(21113);const ln=e=>{const t=on(e);return t?(0,L.jsxs)("div",{ref:t.ref,children:[(0,L.jsx)(cn.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,image:t.concert.imageUrl??"",subTitle:v.Ru.get("concerts.count",t.concerts.length),dateRange:t.concert.dateRange}),t.isModalOpen&&(0,L.jsx)(sn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};var dn=n(80809);const un=e=>{if(void 0===(t=e.data)||!Object.keys(t).includes("uri"))return null;var t;const[n]=e.data.images.items;return(0,L.jsx)(dn.B,{uri:e.data.uri,name:e.data.name,images:e.data.images.items.flatMap((e=>e.sources)),color:n?.extractedColors?.colorDark.hex,description:e.data.description,authorName:null,isPlayable:!0,logCardImpressions:!0,index:e.position})},mn={ConcertGroup:ln,ConcertV2ResponseWrapper:e=>{const t=Mt(e);return t?(0,L.jsx)(cn.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,image:t.imageUrl,date:t.date,onClick:t.handleClick}):null},PlaylistResponseWrapper:un},gn={ConcertGroup:rn,ConcertV2ResponseWrapper:Lt,PlaylistResponseWrapper:un},hn=({concert:e,position:t,spec:n,type:s})=>{if(i=e.__typename,!Object.keys(mn).includes(i??""))return null;var i;const a=("grid"===s?gn:mn)[e.__typename];return(0,L.jsx)(a,{position:t,spec:n,...e})},pn=e=>{const t={"recommended-events":v.Ru.get("concerts_recommended_for_you"),"popular-events":v.Ru.get("concerts_popular"),"concerts-near-you":v.Ru.get("concerts.discover_near_you")};return e in t?t[e]:v.Ru.get("concerts")},vn="YJ_lZ7Vqhu9QBfyOclOx",xn="FlsDpqinw8SF_Bgf0yWA",fn="bvJZOAXCfadBunfTLqeX",jn="P33NLJX3lEygr0Z07qIg",yn="NvWNKWRgI2bmr_qcCEyP",Cn="dEaB7T6y5kFQVzk17Ib_",bn="QLxo4g8cCxlsbu3SALAE",Sn=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"carousel",position:0})),[e.spec]),n=(0,ut.t)(t);return!(0,Ft.Lw)(e.data)||(0,Ft.Lw)(e.data)&&0===e.data.concerts.length?null:(0,L.jsx)("div",{ref:n,className:Cn,children:(0,L.jsx)(Ut.R,{title:pn(e.data.key),index:0,id:e.data.key,seeAllUri:e.data.uri??void 0,seeAllLabel:v.Ru.get("shelf.see-all"),className:bn,withEncoreCards:!1,children:e.data.concerts.map(((e,n)=>(0,L.jsx)(hn,{concert:e,position:n,spec:t,type:"grid"},n))).filter(Ft.se)})})},kn=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,ut.t)(t);return 0===e.concerts.length?null:(0,L.jsxs)("div",{ref:n,className:Cn,children:[(0,L.jsx)(V.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:e.title}),e.concerts.map(((e,n)=>(0,L.jsx)(hn,{type:"list",concert:e,position:n,spec:t},n))).filter(Ft.se)]})};var Nn=n(92255);const Rn=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,ut.t)(t);return(0,L.jsx)("div",{ref:n,children:(0,L.jsx)(Nn.$,{total:e.concerts.length,title:e.title,showAll:!0,withEncoreCards:!1,children:e.concerts.map(((e,n)=>(0,L.jsx)(hn,{type:"grid",concert:e,position:n,spec:t},n))).filter(Ft.se)})})},_n=e=>{if(!(0,Ft.eO)(e.data))return null;const t="grid"===e.layout?Rn:kn;return(0,L.jsx)(t,{title:pn(e.data.key),concerts:e.data.concerts,spec:e.spec})},In="_twZ6XqHC7VdQQiSBeMQ",wn=e=>{if(!e?.match(/^(\d{4})-(\d{2})-(\d{2})$/))return v.Ru.get("live_events.all_events_tab");const[t,n,s]=e.split("-");return(0,kt.Fn)(new Date(Number(t),Number(n)-1,Number(s)))},Dn=e=>{if(!(0,Ft.dR)(e.data))return null;const t="grid"===e.layout?Rn:kn;return(0,L.jsxs)("div",{children:[e.data.sections.map(((n,s)=>(0,L.jsx)(t,{position:s,title:wn(n.key),concerts:n.concerts,spec:e.spec},s))),e.fetchNextPage&&(0,L.jsx)(N.n,{className:In,onClick:()=>e.fetchNextPage&&e.fetchNextPage(),children:v.Ru.get("concerts.load_more")})]})};var Un=n(5993);const An=new H.l("concertFeed","query","cf488a718b4f98d4253215dda1df63587c587b527fd1eb804eb5548969b928b9",null);var Fn=n(81834),En=n(27963);const Mn=(e,t=Un.q)=>{const{request:n}=(0,s.useContext)(Fn.j),i=t({queryKey:["concert-feed",e.geoHash,e.geonameId,e.dateRange,e.conceptUris],queryFn:({pageParam:t})=>(0,En.c)(n,An,{...e,paginationKey:""===t?null:t}),staleTime:6e4,gcTime:6e4,enabled:!!e.geoHash||!!e.geonameId,initialPageParam:"",getNextPageParam:e=>{if(!(0,Ft.Bw)(e?.data?.liveEventsFeed))return"";const t=e.data.liveEventsFeed.sections.find((e=>"AllEvents"===e.__typename))??{};return(0,Ft.dR)(t)?t.paginationKey:""}}),a=(e=>{const t=e?.reduce(((e,t)=>{const n=e?.liveEventsFeed,s=t?.data?.liveEventsFeed;if(!(0,Ft.Bw)(s)||!(0,Ft.Bw)(n))return e;const i=n.sections.find((e=>"AllEvents"===e.__typename))??{},a=(0,Ft.dR)(i)?i.sections:[],o=s.sections.find((e=>"AllEvents"===e.__typename))??{},r=[...a,...(0,Ft.dR)(o)?o.sections:[]].reduce(((e,t)=>{const n=e[t.key]??[];return(0,Ft.ys)(t)?{...e,[t.key]:[...n,...t.concerts]}:e}),{}),c=Object.entries(r).map((([e,t])=>({key:e,concerts:t})));return{liveEventsFeed:{sections:s.sections.map((e=>"AllEvents"===e.__typename||(0,Ft.dR)(e)?{sections:c,__typename:"AllEvents"}:e))}}}),{liveEventsFeed:{sections:[]}});return t})(i.data?.pages),o=i.data?.pages[i.data.pages.length-1]?.data?.liveEventsFeed,r=(0,Ft.Bw)(o)?o.sections.find((e=>"AllEvents"===e.__typename)):void 0;return{...i,fetchNextPage:r&&(0,Ft.dR)(r)&&r?.paginationKey?i.fetchNextPage:void 0,data:a}},Ln={AllEvents:Dn,LiveEventSection:_n,ConcertCarousel:Sn},Bn=e=>{const{data:t,isLoading:n,error:s,fetchNextPage:i}=Mn({geoHash:e.location.geoHash||null,geonameId:e.location.geonameId||null,dateRange:e.dateRange?.from&&e.dateRange?.to?{from:(0,q.bU)(e.dateRange?.from),to:(0,q.bU)(e.dateRange.to)}:null,conceptUris:e.conceptUris});return n?(0,L.jsx)(Dt.LoadingPage,{hasError:!1,errorMessage:""}):!(0,Ft.Bw)(t?.liveEventsFeed)||0===t.liveEventsFeed.sections.length||s?(0,L.jsx)(wt.p,{title:v.Ru.get("concerts.error.no_concerts_found_title"),message:v.Ru.get("concerts.error.no_concerts_found_message",e.location.name),renderInline:!0}):(0,L.jsx)("div",{children:t?.liveEventsFeed.sections.map(((t,n)=>{if(!(0,Ft.w1)(t))return null;const s=Ln[t.__typename];return(0,L.jsx)(s,{layout:e.layout,spec:e.spec,fetchNextPage:i,data:t},n)})).filter(Ft.se)})};var Pn=n(18278),Tn=n(7834),On=n(50486),Hn=n(1599),zn=n(72671);const Wn=async()=>{var e;return(await(e=Hn.n.getInstance(),e.build().withHost(zn.tc).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send())).body},qn=(0,s.memo)((e=>{const{event:t,onClose:n,feedSpec:i}=e,a=t?.concerts[0]?.concert,o=a?.artists[0],r=(0,s.useMemo)((()=>i?.groupedEventModalFactory({uri:o?.uri||""})),[i,o]),c=(0,dt.s)();if(!t||!a||!o)return null;return(0,L.jsx)(sn,{artist:{imageUri:o.imageUri,name:o.name,uri:o.uri},location:{city:a.location,venue:a.venue},concerts:t.concerts.map((e=>({uri:`spotify:concert:${e.concert.id}`,title:e.concert.title,startDateIsoString:e.concert.date,location:{city:e.concert.location,venue:e.concert.venue}}))),onClose:()=>{r&&c.logInteraction(r.closeButtonFactory().hitUiHide()),n()}})}));var Zn=n(73812);const Qn=(0,s.memo)((e=>{const{concert:t,isVirtual:n,onClick:s}=e,{venue:i,location:a}=t,o=t.artists[0];return(0,L.jsx)(At.A,{uri:(0,R.B4D)(t.id).toURI(),title:(0,Zn.a9)(t),imageUrl:o.imageUri,date:t.startDate.localDate,subTitle:n?i:[i,a].join(v.Ru.getSeparator()),firstParty:(0,q.he)(t),onClick:s})})),Xn=(0,s.memo)((e=>{const{event:t,onClick:n}=e,i=(0,s.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),a=(0,kt.l4)(t.openingDate),o=(0,kt.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,L.jsx)(At.A,{title:(0,Zn.a9)(r),subTitle:`${(0,kt.WZ)(a,o)} • ${v.Ru.get("concerts.count",t.concerts.length)}`,onClick:i,imageUrl:c.imageUri,uri:(0,R.B4D)(r.id).toURI()})})),Gn=(0,s.memo)((e=>{const{event:t,position:n,sectionSpec:i,onOpenGroupedEvent:a}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,R.B4D)(o.id).toURI(),l=(0,dt.s)(),d=(0,s.useMemo)((()=>i?.eventCardFactory({identifier:r??"",position:n,uri:c??""})),[i,r,c,n]),u=(0,ut.t)(d),m=e=>{a(e),d&&l.logInteraction(d.hitUiReveal())};if(t.concerts.length>1)return(0,L.jsx)("div",{ref:u,children:(0,L.jsx)(Xn,{event:t,onClick:m})});return(0,L.jsx)("div",{ref:u,children:(0,L.jsx)(Qn,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c}))}})})})),Vn=(0,s.memo)((e=>{const{event:t,onClick:n}=e,i=(0,s.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),a=(0,kt.l4)(t.openingDate),o=(0,kt.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,L.jsx)(cn.A,{image:c?.imageUri,title:(0,Zn.a9)(r),subTitle:v.Ru.get("concerts.count",t.concerts.length),dateRange:(0,kt.WZ)(a,o),uri:r?.id,onClick:i})})),Yn=(0,s.memo)((e=>{const{concert:t,isVirtual:n,onClick:s}=e,{venue:i,location:a}=t,o=t.artists[0],r=(0,kt.l4)(t.startDate.localDate);return(0,L.jsx)(cn.A,{date:t.startDate.localDate,image:o?.imageUri,title:(0,Zn.a9)(t),subTitle:n?i:[i,a].join(v.Ru.getSeparator()),dateRange:(0,kt.Y)(r),uri:(0,R.B4D)(t.id).toURI(),onClick:s})})),Kn=(0,s.memo)((e=>{const{event:t,position:n,sectionSpec:i,onOpenGroupedEvent:a}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,R.B4D)(o.id).toURI(),l=(0,dt.s)(),d=(0,s.useMemo)((()=>i?.eventRowFactory({identifier:r??"",position:n,uri:c??""})),[i,r,c,n]),u=(0,ut.t)(d),m=e=>{a(e)};if(t.concerts.length>1)return(0,L.jsx)("div",{ref:u,children:(0,L.jsx)(Vn,{event:t,onClick:m})});return(0,L.jsx)("div",{ref:u,children:(0,L.jsx)(Yn,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c??""}))}})})}));var $n=n(44672);const Jn="e2q7uiUVRqGGNmM9PWNQ",es="cNn4id00LtC8IcwzvgZQ",ts="A9uv2otH7AMYJ5S9JPRh",ns="CG1eZzAlBDAbQRuF6agE",ss="PO0uWXNM8WHJew_Lb4x4",is="rF9PEhwNmUycf_BGpUFo",as="FGIHLWJ87h81kZq_fKjO",os=(0,s.memo)((e=>{const{title:t="",identifier:n,position:i,events:a,feedSpec:o,onOpenGroupedEvent:r,layout:c}=e,l=(0,s.useMemo)((()=>o?.eventSectionFactory({identifier:n,position:i})),[o,n,i]),d=(0,ut.t)(l);return 0===a.length?null:(0,L.jsxs)("div",{className:Jn,ref:d,children:["grid"===c&&(0,L.jsx)($n.pZ,{value:"headered-grid",index:i,children:(0,L.jsx)(Nn.$,{total:a.length,title:t,showAll:!0,withEncoreCards:!1,children:a.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,L.jsx)(Gn,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))})}),"list"===c&&(0,L.jsxs)("div",{children:[(0,L.jsx)(V.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:es,children:t}),a.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,L.jsx)(Kn,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))]})]})})),rs=(0,s.memo)((e=>{const{spec:t,layout:n}=e,[i,a]=(0,s.useState)(),o=(0,On.I)({queryKey:["savedConcerts"],queryFn:Wn}),r=o.data?.userLocation,c=r||v.Ru.get("concerts.default_location");return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(f.Q,{children:`${v.Ru.get("live_events.label")}`}),o.data?.events.length?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(os,{title:v.Ru.get("concerts_upcoming"),identifier:"saved",position:0,events:o.data?.events,feedSpec:t,onOpenGroupedEvent:e=>{a(e)},layout:n})}):(0,L.jsxs)("div",{className:ts,children:[(0,L.jsx)(V.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:is,children:v.Ru.get("concerts_interested_in_live_events")}),(0,L.jsx)(V.E,{as:"p",className:as,children:v.Ru.get("concerts_no_events_description")}),(0,L.jsx)(Ot.N,{to:"/concerts",className:ns,children:(0,L.jsx)(N.n,{as:"span",className:ss,children:v.Ru.get("concerts_browse_more_events")})})]}),(0,L.jsx)(V.E,{variant:"marginal",semanticColor:"textSubdued",children:v.Ru.get("live_events.disclaimer")}),(0,L.jsx)(qn,{event:i,locationName:c,feedSpec:t,onClose:()=>a(void 0)})]})})),cs=new H.l("concertLocationDetails","query","b13f195349f188fee25480ae889d782852d68663bf07743c654244454750d681",null);var ls=n(36061);const ds=e=>{if(!e||!("items"in e))return;const[t]=e.items;return t},us=(e=k.g)=>{const{isAnonymous:t}=(0,o.d4)(ls.Ht),{location:n}=e(),[i]=(0,r.ok)(),{pathname:a}=(0,k.zy)(),c=(0,k.Zp)(),[,l]=n?.match(/^(\d+)/)??[],[d,u]=(0,s.useState)(l?{geonameId:Number(l)}:void 0),{data:m}=(g={geonameId:d?.geonameId?String(d?.geonameId):null,isAnonymous:t},(0,z.I)(cs,g,h));var g,h;const p=e=>{u(e),e?.geonameId&&c({pathname:String(e.geonameId)===m?.me?.profile?.location?.geonameId?(0,q.nm)(a,void 0,void 0):(0,q.nm)(a,e.geonameId,e.fullName),search:new URLSearchParams(i).toString()})};if(d){const e=ds(m?.concertLocations);return{location:{geonameId:d.geonameId??Number(e?.geonameId),geohash:d.geohash??e?.geoHash,name:d.name??e?.name},onChangeLocation:p}}const v=m?.me?.profile?.location,x=ds(m?.concertLocations);return{location:v?.geoHash||x?.geonameId?{geohash:v?.geoHash??x?.geoHash,geonameId:Number(v?.geonameId??x?.geonameId),name:v?.name??x?.name}:void 0,onChangeLocation:p}};var ms=n(10266),gs=n(21549),hs=n(43329);const ps=()=>{const{isAnonymous:e}=(0,o.d4)(ls.Ht),[t,n]=(0,s.useState)("grid"),{location:i,onChangeLocation:k}=us(),N=(0,h.NC)(hs.tH),R=(0,h.NC)(hs.mY),_=St(),{conceptUris:I}=Z(),[w,D]=(0,r.ok)(),{spec:U}=(0,gs.r)(p.s,{}),A=(0,s.useMemo)((()=>U.headerFactory()),[U]),F=(0,dt.s)(),E=e&&i?.name?v.Ru.get("live_events.location_concert_tickets",i.name):v.Ru.get("live_events.label"),M=()=>{const e=A.layoutToggleFactory().hitToggleState({stateBeforeToggle:t,stateAfterToggle:"grid"===t?"list":"grid"});F.logInteraction(e),n("grid"===t?"list":"grid")},B="interested"===w.get("filter"),P=B?l.$:d.H;return(0,L.jsxs)("section",{children:[(0,L.jsx)(f.Q,{children:(0,ms.zV)(i?.name)}),(0,L.jsxs)(j.z,{size:j.K.SMALL,backgroundColor:c.Hhe,children:[(0,L.jsx)(y.Y,{children:(0,L.jsx)(S.mm,{children:E})}),(0,L.jsx)(C.h,{children:(0,L.jsx)(b.X,{text:E})})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)(x.K,{backgroundColor:c.Hhe}),(0,L.jsxs)("div",{className:a()(vn,"contentSpacing"),children:[(0,L.jsxs)("div",{className:xn,children:[B?(0,L.jsx)("div",{}):(0,L.jsxs)("div",{className:fn,children:[(0,L.jsx)(Pn.A,{headerSpec:A,locationStr:i?.name??"",handleLocationChange:k}),(0,L.jsx)(It,{spec:U}),!e&&R&&(0,L.jsx)(Q,{geohash:i?.geohash,spec:A})]}),(0,L.jsxs)("div",{className:jn,children:["grid"===t&&(0,L.jsx)(d.H,{"aria-label":v.Ru.get("concerts.feed_list_layout"),iconOnly:u.N,onClick:M,size:"small"}),"list"===t&&(0,L.jsx)(d.H,{"aria-label":v.Ru.get("concerts.feed_grid_layout"),iconOnly:m.D,onClick:M,size:"small"}),(0,L.jsx)(P,{size:"small",iconLeading:g.E,className:yn,onClick:()=>D({filter:B?"":"interested"}),children:v.Ru.get("concerts_interested")})]})]}),B?(0,L.jsx)(rs,{layout:t,spec:U}):(0,L.jsxs)(L.Fragment,{children:[N&&(0,L.jsx)(Tn.k,{onLocationChange:k}),(0,L.jsx)(Bn,{spec:U,layout:t,location:{geoHash:i?.geohash,geonameId:i?.geonameId?String(i.geonameId):"",name:i?.name??""},conceptUris:0===I.length?null:I,dateRange:_})]})]})]})]})}},41526:(e,t,n)=>{n.d(t,{X:()=>s});const s=(e,t)=>{const n=e.parentElement.getBoundingClientRect(),s=e.getBoundingClientRect(),i=t?n.right:n.left,a=t?s.right:s.left;return!(e instanceof HTMLElement&&Math.abs(a-i)>48)}},96110:(e,t,n)=>{n.d(t,{DL:()=>r,Qe:()=>c,bU:()=>d,he:()=>l,nm:()=>o});var s=n(42534);const i=(e,t)=>{if(!e.includes(t))return;const n=e.split("/"),s=n.findIndex((e=>e===t));return n[s+1]},a=(e,t)=>{const n=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(n.push("location"),n.push(String(t.location??i(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(n.push("genre"),n.push(String(t.genre??i(e,"genre")))),n.join("/")},o=(e,t,n)=>{if(!t)return a(e,{location:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return a(e,s?{location:`${t}-${s}`}:{location:t})},r=(e,t,n)=>{if(!t)return a(e,{genre:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return a(e,s?{genre:`${t}-${s}`}:{genre:t})},c=e=>{if(!e)return;const t=e.split("-"),[n]=t;return{id:`spotify:concept:${n}`,name:t.reduce(((e,t,n)=>0===n?e:`${e} ${t}`),"").trim()}},l=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),d=e=>(0,s.x)(e,{representation:"date"})},48460:(e,t,n)=>{n.d(t,{x:()=>s});const s=()=>!1},25832:(e,t,n)=>{n.d(t,{A:()=>s});const s={screenLg:"1200px",homeRegularDensityMinWidth:"210px",homeRegularDensityMinWidthSmallScreens:"160px",homeFeedBaselineMinWidth:"380px",homeFeedBaselineMaxWidth:"480px",gridContainer:"FxZpyoh545pkewYdMsyd",withFiniteRowCount:"pLidHTxL8Oy1HpV2gVZB",uniformRowHeight:"AlfSvCae5IOzgW5uGApQ",home:"zRd1vLBWwCT3KKn5SJYF",homepage:"kemXbsb812cMj4f1iy5l",homepageWithCarousels:"m7Qgb0Wk7YPgiFao_n84",homepageContent:"Zi6o42QvQeYp8NrYbmwq",fixedShelf:"Am4D6c082RDe3kdYAEno",homeRegularDensityCarouselShelf:"AM3U5iyjFnlKly4qt0Wc",homeLowDensityCarouselShelf:"FHQhlLWLwGJkESKXErLi",homeHighDensityCarouselShelf:"cyzm5dqjgANQJ4EOjRs8",homeWatchFeedCarouselShelf:"XsfWkzZNbRqgflcNk9Iv",homeMusicVideosCarouselShelf:"ow5dS3c5ysXs9YHUqvoZ",homePinButton:"lzbpb1J5uZgjKxhL1d7o",carouselShelf:"C3jVNGQUUZcUp5kTEOC0",carousel:"pdLDCowVOiUIfeu9hihi",withEncoreCards:"Sm3POgzbjs7wFj7tyYNh",header:"vZSm_8xsDxBqMzp1tqmn",subHeader:"NXBXbVfJboNI6xdrNIDB",carouselScroller:"bF2GZTmgrRQLsrDcIZXd",carouselScrollContent:"qI009QzTkvisAXqhbw74",carouselChevrons:"qIb0IOmZs9KwEeOkpvg1"}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map