"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{84816:(e,s,r)=>{r.d(s,{B:()=>z});var a=r(30758),t=r(62411),i=r(31417),l=r(10994),n=r(10137),o=r(98293),c=r(12864),u=r(53133),d=r(89402),m=r(39566),p=r(44672),h=r(66530),y=r(1599),x=r(46441),g=r(98822),b=r(86070);const j=({currentUserUri:e,uri:s,name:r,divider:l})=>{const p=(0,d.W)(),j=!(0,m.n)(),{isBlocked:v,blockUser:k,unblockUser:f}=function(e,s,r){const[l,n]=(0,a.useState)(!1),c=(0,t.wA)(),d=(0,h.a)(),m=(0,g.A)(),{enqueueSnackbar:p}=(0,u.d)();return(0,a.useEffect)((()=>{e&&(0,x.zP)(m,{currentUserUri:e,uri:s}).then((e=>{if(d()){if(200!==e.status)throw new Error("Invalid response from socialgraph");n(e.body?.[0]?.is_dismissed||!1)}}))}),[e,s,d,m]),{isBlocked:l,blockUser:()=>{e&&c((0,o.zj)(s,r))},unblockUser:async()=>{e&&(await(0,x.kV)(y.n.getInstance(),{currentUserUri:e,uri:s}),p(i.Ru.get("feedback.unblock-user")))}}}(e,s,r),C=(0,a.useCallback)((async()=>{p({targetUri:s,intent:v?"unblock":"block",type:"click"}),v?await f():await k()}),[p,s,k,f,v]);if(!e||e===s)return null;const R=v?i.Ru.get("contextmenu.unblock"):i.Ru.get("contextmenu.block");return(0,b.jsx)(c.D,{role:"menuitem",divider:l,disabled:j,onClick:C,leadingIcon:(0,b.jsx)(n.V,{semanticColor:"textSubdued",size:"small"}),children:R})},v=a.memo((function(e){return(0,b.jsx)(p.pZ,{value:"block-user",children:(0,b.jsx)(j,{...e})})}));var k=r(59521),f=r(9931);const C=a.memo((function({onClick:e,divider:s,canEdit:r}){return e&&r?(0,b.jsx)(p.pZ,{value:"edit-profile",children:(0,b.jsx)(c.D,{role:"menuitem",divider:s,onClick:e,leadingIcon:(0,b.jsx)(f.G,{semanticColor:"textSubdued",size:"small"}),children:i.Ru.get("contextmenu.edit-profile")})}):null}));var R=r(45415),L=r(91488),I=r(36749),A=r(75514),w=r(36061),P=r(21549);const N=()=>{},U=({uri:e,divider:s,onRemoveCallback:r=N})=>{const{spec:l,logger:n}=(0,P.r)(I.F,{data:{uri:e}}),o=(0,d.W)(),u=!(0,m.n)(),p=(0,t.d4)(w.Ht).user,[h,y]=(0,A.Y)(e),x=(0,a.useCallback)((()=>{const s=l.followButtonFactory();o({targetUri:e,intent:h?"unfollow":"follow",type:"click"}),h?(y(!1),n.logInteraction(s.hitUnfollow({itemToBeUnfollowed:e})),r(e)):(y(!0),n.logInteraction(s.hitFollow({itemToBeFollowed:e})))}),[h,n,o,r,y,l,e]);if(p&&p.uri===e)return null;const g=h?i.Ru.get("contextmenu.unfollow"):i.Ru.get("contextmenu.follow");return(0,b.jsx)(c.D,{role:"menuitem",testid:"follow-user-context-menu-item",divider:s,disabled:u,onClick:x,leadingIcon:h?(0,b.jsx)(R.M,{semanticColor:"textBrightAccent",size:"small"}):(0,b.jsx)(L.h,{semanticColor:"textSubdued",size:"small"}),children:g})},T=a.memo((function(e){return(0,b.jsx)(p.pZ,{value:"follow-user",children:(0,b.jsx)(U,{...e})})}));var E=r(69476),S=r(15526),B=r(47756),M=r(69693),O=r(10565),F=r(81222);function _({userUri:e}){const{currentSession:s}=(0,M.D)(),r=(0,O.d)(),l=(0,t.wA)(),n=(0,a.useCallback)((()=>{const r=(0,F.Bj)(s?.sessionMembers??[],e);r&&l((0,o.A9)(B.EL.REMOVE_PARTICIPANT,void 0,r))}),[s?.sessionMembers,l,e]),u=(0,F.kt)(r,e);return s?.active&&e&&u?(0,b.jsx)(c.D,{role:"menuitem",onClick:n,leadingIcon:(0,b.jsx)(S.f,{semanticColor:"textSubdued",size:"small"}),children:i.Ru.get("web-player.social-connect.kick-users.remove-the-user")}):(0,b.jsx)(b.Fragment,{})}var D=r(98655),V=r(78774);const z=a.memo((function({uri:e,onEditProfileCallback:s}){const{user:r}=(0,t.d4)(w.Ht),{spec:a}=(0,V.o)(e),{data:n,loading:o}=(0,D.Z)(x.E$,[{uri:e}]);return o?null:n?(0,b.jsx)(p.pZ,{value:"user",children:(0,b.jsxs)(l.W,{children:[(0,b.jsx)(T,{uri:e}),(0,b.jsx)(_,{userUri:e}),(0,b.jsx)(v,{uri:n.uri,name:n.name,currentUserUri:r?.uri}),(0,b.jsx)(C,{onClick:s,canEdit:!(e!==r?.uri||n.edit_image_disabled&&n.edit_name_disabled)}),(0,b.jsx)(E.P,{spec:a,uri:e,canReportUser:!n.report_abuse_disabled,currentUserUri:r?.uri}),(0,b.jsx)(k.m,{spec:a,uri:e,displayText:i.Ru.get("contextmenu.share.copy-profile-link")})]})}):null}))},7858:(e,s,r)=>{r.d(s,{j:()=>w});var a=r(30758),t=r(97500),i=r.n(t),l=r(422),n=r(87560),o=r(91008),c=r(31417),u=r(41616),d=r(65462),m=r(7520),p=r(84816),h=r(21082);var y=r(33065),x=r(98712),g=r(51354),b=r(55760),j=r(86070);function v(e){return e.displayName||e.name||""}const k=e=>{let s=null;return(0,o.ecE)(e)&&(s=(0,j.jsx)(m.t,{uri:e})),(0,o.APS)(e)&&(s=(0,j.jsx)(p.B,{uri:e})),s},f=({creator:e,onClick:s,position:r=0})=>{const t=(0,a.useCallback)((a=>{s?.(a,{position:r,creator:e})}),[e,s,r]);return(0,y.s)(e)?(0,j.jsx)(d.h,{menu:k(e.uri),children:(0,j.jsx)(l.E,{variant:"bodySmallBold",children:(0,j.jsx)(h.N,{"data-testid":"creator-link",to:e.uri,onClick:t,children:v(e)})})}):(0,j.jsx)(l.E,{variant:"bodySmall",children:v(e)})},C=({creator:e,onClick:s,isSmallIcon:r})=>{const[a,t]=c.Ru.get("playlist.header.made-for","USER").split("USER");return(0,j.jsxs)("div",{className:i()(b.A.metaDataText,b.A.creatorWrapper,{[b.A.smallMadeForIcon]:r}),children:[(0,j.jsx)(n.D,{semanticColor:"textBrightAccent"}),(0,j.jsx)(l.E,{variant:"bodySmall",children:a}),(0,j.jsx)(f,{creator:e,onClick:s}),t&&(0,j.jsx)(l.E,{variant:"bodySmall",children:t})]})},R=({creator:e,onClick:s,isSmallIcon:r,prefix:a})=>(0,j.jsxs)("div",{className:i()(b.A.metaDataText,b.A.creatorWrapper),children:[e.images.length>0&&(0,j.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:r?20:24,userIconSize:r?"xsmall":"small"}),a&&(0,j.jsx)(l.E,{variant:"bodySmall",children:a}),(0,j.jsx)(f,{creator:e,onClick:s})]}),L=({creators:e,onPiledCreatorsClick:s,isSmallIcon:r})=>{const a=(0,j.jsx)("div",{className:b.A.piled,children:e.slice(0,3).map(((e,s)=>(0,j.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:r?20:24,userIconSize:r?"xsmall":"small",piled:s>0},e.uri)))});let t=c.Ru.get("playlist.header.creator-and-others",v(e[0]),e.length-1);return 2===e.length&&(t=c.Ru.get("playlist.header.creator-and-co-creator",v(e[0]),v(e[1]))),s?(0,j.jsxs)("button",{className:i()(b.A.metaDataText,b.A.creatorWrapper,b.A.creatorButton),onClick:s,children:[a,t]}):(0,j.jsxs)("div",{className:i()(b.A.metaDataText,b.A.creatorWrapper),children:[a,t]})},I=({creators:e,onCreatorClick:s})=>(0,j.jsx)(j.Fragment,{children:e.map(((e,r)=>(0,j.jsxs)(a.Fragment,{children:[0!==r&&(0,j.jsx)("span",{className:b.A.divider}),(0,j.jsx)(f,{creator:e,onClick:s,position:r})]},e.id)))}),A=({creators:e,onPiledCreatorsClick:s,onCreatorClick:r,isTunaApplied:a})=>{const t=(0,g.y)(),i=t===(x.E.SMALL||t===x.E.XSMALL);if(1===e.length){const[s]=e;return s.isMadeFor?(0,j.jsx)(C,{creator:s,onClick:r,isSmallIcon:i}):(0,j.jsx)(R,{creator:s,onClick:r,isSmallIcon:i,prefix:a?"":void 0})}return e.length>0&&e.every((e=>(0,o.APS)(e.uri)))?(0,j.jsx)(L,{creators:e,onPiledCreatorsClick:s,isSmallIcon:i}):(0,j.jsx)(I,{creators:e,onCreatorClick:r})};function w({creators:e,onCreatorClick:s,onPiledCreatorsClick:r,isTunaApplied:t}){return(0,j.jsx)(a.Suspense,{fallback:null,children:(0,j.jsx)(A,{creators:e,onPiledCreatorsClick:r,onCreatorClick:s,isTunaApplied:t})})}},13860:(e,s,r)=>{r.d(s,{R:()=>i});var a=r(21082),t=r(86070);const i=({uri:e,enabled:s,className:r,children:i,onClick:l})=>s?(0,t.jsx)(a.N,{to:e,className:r,onClick:l,children:i}):(0,t.jsx)(t.Fragment,{children:i})},53644:(e,s,r)=>{r.d(s,{D:()=>n});var a=r(30758),t=r(34733),i=r(89402),l=r(86070);const n=a.memo((function({uri:e,ariaPlayLabel:s,ariaPauseLabel:r,onClick:a,isPlaying:n,size:o,locked:c,...u}){const d=(0,i.W)();return(0,l.jsx)(t.R,{ariaPlayLabel:s,ariaPauseLabel:r,isPlaying:n,onClick:s=>{c||d({targetUri:e,intent:n?"pause":"play",type:"click",itemIdSuffix:"button"}),a(s)},size:o,locked:c,...u})}))},68118:(e,s,r)=>{r.d(s,{e:()=>m});var a=r(97500),t=r.n(a),i=r(97106),l=r(25910),n=r(58920),o=r(14178),c=r(86070);const u=({isVideo:e,isEpisode:s})=>{let r=i.v;return e?r=l.B:s&&(r=n.L),(0,c.jsx)("div",{className:t()(o.A.rowImage,o.A.rowImageFallback),style:{borderRadius:4},children:(0,c.jsx)(r,{size:"small"})})};var d=r(22984);const m=({src:e,isVideo:s=!1,isEpisode:r=!1})=>e?(0,c.jsx)(d._,{className:t()(o.A.rowImage,{[o.A.rowImageVideo]:s}),draggable:!1,src:e,loading:"eager",width:"40",height:"40",radius:4,children:(0,c.jsx)(u,{isVideo:s,isEpisode:r})}):(0,c.jsx)(u,{isVideo:s,isEpisode:r})},50915:(e,s,r)=>{r.d(s,{u:()=>p});var a=r(97500),t=r.n(a),i=r(40638),l=r(16832),n=r(68118),o=r(89402),c=r(94139),u=r(33329),d=r(14178),m=r(86070);const p=({uri:e,src:s,playAriaLabel:r,onClick:a,isPlaying:p,isActive:h,isLocked:y,isEpisode:x,isVideo:g,spec:b})=>{const j=(0,o.W)(),v=(0,u.s)(),k=(0,i.YQ)((s=>{let r;if(j({type:"click",intent:p?"pause":"play"}),b){const s=b.playbackButtonFactory();let a;a=h&&p?s.hitPause({itemToBePaused:e}):h&&!p?s.hitResume({itemToBeResumed:e}):s.hitPlay({itemToBePlayed:e}),r=v.logInteraction(a)}a(s,r)}),c.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,m.jsx)(n.e,{src:s,isEpisode:x,isVideo:g}),(0,m.jsx)(l.x,{className:t()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:k,isPlaying:p,isLocked:y,playAriaLabel:r})]})}},29324:(e,s,r)=>{r.d(s,{i:()=>c,p:()=>o});var a=r(86066),t=r(45764),i=r(31417),l=r(43389),n=r(86070);const o=[l.I.COMPACT,l.I.LIST],c=[{value:l.I.COMPACT,text:()=>i.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"),icon:()=>(0,n.jsx)(a.d,{size:"small"})},{value:l.I.LIST,text:()=>i.Ru.get("web-player.your-library-x.sort-and-view-picker.list"),icon:()=>(0,n.jsx)(t.N,{size:"small"})}]},20829:(e,s,r)=>{r.d(s,{$I:()=>l,Qv:()=>i,R2:()=>t});var a=r(35035);const t=(e,s)=>{const r=e.contextMenuButtonFactory().hitUiReveal();s.logInteraction(r)},i=(e,s,r,t)=>{let i;e===a.NV.ADD?i=s.hitDownload({itemToDownload:t}):e===a.NV.REMOVE?i=s.hitRemoveDownload({itemToRemoveFromDownloads:t}):e===a.NV.NO_PERMISSION&&(i=s.hitUiReveal?.()),i&&r.logInteraction(i)},l=({isPlaying:e,isActive:s,spec:r,logger:a,uri:t})=>{let i;return i=e?r.hitPause({itemToBePaused:t}):s?r.hitResume({itemToBeResumed:t}):r.hitPlay({itemToBePlayed:t}),a.logInteraction(i)}},75514:(e,s,r)=>{r.d(s,{Y:()=>o});var a=r(30758),t=r(91008),i=r(65924),l=r(81122),n=r(12130);const o=e=>{const s=(0,l.f)(),[r,o]=(0,a.useState)(!1);if(!(0,t.APS)(e))throw new Error(`Expected a Spotify uri in format 'spotify:user:***', got "${e}"`);const c=(0,a.useCallback)((a=>a&&!r?s.followUsers([e]):!a&&r?s.unfollowUsers([e]):Promise.resolve()),[s,r,e]);return(0,a.useEffect)((()=>{o(!1),s.isFollowing([e]).then((s=>{o(s[e]??!1)}))}),[s,e]),(0,n.N)(i.mc.OPERATION_COMPLETE,(s=>{s.data.uris.includes(e)&&!s.data.error&&(s.data.operation===i.JK.FOLLOW_USER?o(!0):s.data.operation===i.JK.UNFOLLOW_USER&&o(!1))})),[r,c]}},88007:(e,s,r)=>{r.d(s,{Z:()=>l});var a=r(49971);const t="rTMkDBDp47Eo12ZEQv4U";var i=r(86070);const l=({copyrights:e,courtesyLine:s})=>{const r=(e||[]).map(((e,s)=>{if(e.untyped)return(0,i.jsx)(a.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},s);const r=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let t;return t="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,i.jsx)(a.Z,{as:"p",variant:"finale",dir:"auto",children:`${t} ${r}`},s)}));return s&&r.unshift((0,i.jsx)(a.Z,{as:"p",variant:"finale",dir:"auto",children:s},r.length)),(0,i.jsx)("div",{className:t,children:r})}},88180:(e,s,r)=>{r.r(s),r.d(s,{default:()=>ja});var a=r(30758),t=r(97500),i=r.n(t),l=r(85387),n=r(422),o=r(40935),c=r(93523),u=r(28936),d=r(91008),m=r(31417),p=r(65462),h=r(54622),y=r(15292),x=r(25577),g=r(17843),b=r(88711),j=r(46110),v=r(1246),k=r(73658),f=r(7858),C=r(18449),R=r(57292),L=r(21646),I=r(62986),A=r(11627),w=r(68355),P=r(78464),N=r(57776),U=r(59147);const T=new N.l("internalLinkRecommenderTrack","query","eda0a1e9140af4114340bf3098980172dfd1003b65cfc980c36ab238dbfcef84",null);var E=r(13860),S=r(80737),B=r(14563),M=r(20455),O=r(50915),F=r(27305),_=r(95931),D=r(92347),V=r(82391),z=r(13679),q=r(38215),Z=r(93627),$=r(95797),W=r(35522),G=r(44335),H=r(3436),X=r(55926),Y=r(42621),J=r(99041),Q=r(97253),K=r(18663),ee=r(44672),se=r(85346),re=r(28340),ae=r(15838);const te="Z9Dr8PkXFtlO8KnnDcxp",ie="Bm0LUMlhVIcF5qusgdUP",le="GIyB7JDkRwjtVL6PSBbg",ne="whTIka0YYAkqhqrs26Wa";var oe=r(86070);const ce=a.memo((function({uri:e,name:s,imgUrl:r,artists:a,isExplicit:t,index:i,albumUri:l,contextUri:n,isPlayable:o,isMOGEFRestricted:c,totalMilliseconds:u,playcount:d}){const{isActive:y,isPlaying:x,triggerPlay:g,togglePlay:b}=(0,re.P)({uri:e},{featureIdentifier:"ilr"}),j=(0,se.T)(e),{isPlayable:v,isAnyArtistBanned:k}=(0,Y.g)(e,{isPlayable:o,isLocal:!1,isOutOfMarket:!1,artistUris:a.map((e=>e.uri))}),{unBanArtists:f}=(0,H.M)(a.map((e=>e.uri))),C=a.map((e=>e.name)).join(m.Ru.getSeparator()),{badges:R,hasBadges:L}=(0,ae.b)({isMOGEFRestricted:c,downloadAvailability:j,isExplicit:t}),I=a.map((e=>e.name)).join(m.Ru.getSeparator()),A=(0,X.c)();return(0,oe.jsx)(ee.pZ,{value:"row",index:i,children:(0,oe.jsx)(p.h,{menu:(0,oe.jsx)(h.P,{uri:e,albumUri:l,artists:a,contextUri:n}),children:(0,oe.jsxs)(W.w,{uri:e,contextUri:n,isPlayable:v,isAnyArtistBanned:k,handleArtistBanUndoClick:f,onTriggerPlay:(e,s)=>{g({loggingParams:s})},isActive:y,index:i,ariaRowIndex:i,dragMetadata:{name:s,createdBy:C},isExplicit:t,children:[(0,oe.jsxs)(z.U,{ariaColIndex:0,children:[(0,oe.jsx)(O.u,{uri:e,src:r,onClick:(e,s)=>{b({loggingParams:s})},isLocked:!1,isPlaying:x,isActive:y,playAriaLabel:m.Ru.get("tracklist.a11y.play",s,C)}),(0,oe.jsxs)(F.l,{children:[(0,oe.jsx)(E.R,{uri:e,enabled:A,className:le,children:(0,oe.jsx)($.p,{titleText:s,children:s})}),L&&(0,oe.jsxs)(B.P,{children:[R.download&&(0,oe.jsx)(Q._,{}),R.explicit&&(0,oe.jsx)(J.U,{}),R.nineteen&&(0,oe.jsx)(K.q,{className:ne,size:16})]}),(0,oe.jsx)(Z.p,{children:(0,oe.jsx)(S.l,{artists:a})})]})]}),(0,oe.jsx)(q.o,{ariaColIndex:1,children:(0,oe.jsx)(D.Y,{playcount:d})}),(0,oe.jsxs)(V.l,{ariaColIndex:2,children:[(0,oe.jsx)(G.d,{uri:e}),(0,oe.jsx)(M.P,{duration:u}),(0,oe.jsx)(_.Y,{menu:(0,oe.jsx)(h.P,{uri:e,albumUri:l,contextUri:n,artists:a}),label:m.Ru.get("more.label.track",s,I)})]})]})})})}),((e,s)=>e.uri===s.uri&&e.index===s.index));var ue=r(37115),de=r(96614),me=r(4266),pe=r(32810),he=r(16157);const ye=a.memo((function({subtitle:e,uri:s}){const{data:r}=(t={uri:s},(0,U.I)(T,t,i));var t,i;const l=r?.seoRecommendedTrack.items,c=(0,a.useMemo)((()=>l?.slice(0,Math.min(l.length,5))),[l]),u=(0,a.useCallback)((e=>({uri:"uri"in e.data?e.data.uri:""})),[]),d=(0,a.useMemo)((()=>[me.$.TITLE_AND_ARTIST,me.$.ALBUM,me.$.DURATION]),[]),p=(0,a.useCallback)(((e,r)=>{if(!(e=>{return s=e,"NotFound"!==s?.__typename&&"GenericError"!==s?.__typename&&"Track"===e.__typename;var s})(e.data))return(0,oe.jsx)(a.Fragment,{});const t=e.data;return(0,oe.jsx)(ce,{index:r,contextUri:s,uri:t.uri,name:t.name,totalMilliseconds:t.duration.totalMilliseconds,imgUrl:t.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:t.playability.playable,artists:t.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:t?.albumOfTrack?.uri||"",isExplicit:t.contentRating?.label===he.x7.Explicit,isMOGEFRestricted:t.contentRating?.label===he.x7.NineteenPlus,playcount:parseInt(t.playcount||"0",10)},`${r}-${t.uri}`)}),[s]);return l?.length?(0,oe.jsxs)("div",{className:te,children:[(0,oe.jsxs)("div",{className:ie,children:[(0,oe.jsx)(n.E,{variant:"titleSmall",semanticColor:"textBase",children:m.Ru.get("playlist.extender.recommended.title")}),(0,oe.jsx)(n.E,{variant:"bodySmall",paddingBottom:o.CD,children:e})]}),(0,oe.jsx)(de.S4,{ariaLabel:m.Ru.get("playlist.extender.recommended.title"),nrTracks:Math.min(l.length,5),rowPlaceholder:ue.qq,tracks:c,renderRow:p,resolveItem:u,columns:d},"internal-link-recommender-track-list")]}):null})),xe=e=>{const{entityType:s}=e;return(0,oe.jsx)(P.s,{onError:()=>{(0,pe.fE)({metric_type:w.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:s}})},children:(0,oe.jsx)(ye,{...e})})};var ge=r(82973),be=r(21082),je=r(92202),ve=r(53644),ke=r(63800),fe=r(92255),Ce=r(35991);const Re=({albums:e,artistName:s,artistId:r,artistUri:a,className:t})=>e?(0,oe.jsx)(ee.pZ,{value:"shelf/albums",children:(0,oe.jsx)(fe.$,{total:e.totalCount,title:m.Ru.get("rich-page.popular-albums-by-artist",{artist:s}),seeAllUri:`${(0,Ce.Dh)(r)}:discography:${he._m.Album.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,Ce.Ey)(e.items).map(((e,s)=>(0,oe.jsx)(ke.K,{album:e,index:s,artistURI:a},e.uri)))})}):null;var Le=r(10831);const Ie=({artistId:e,className:s,fansAlsoLike:r,title:a})=>(0,oe.jsx)(ee.pZ,{value:"shelf/fans-also-like",children:(0,oe.jsx)(fe.$,{total:r.length,title:a??m.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,Ce.Dh)(e)}:related`,className:s,children:r.map(((e,s)=>(0,oe.jsx)(ee.pZ,{value:"card",index:s,children:(0,oe.jsx)(Le.a,{index:s,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ae=r(52731);const we="ERm7dIKbVoqGwPb_lXPH",Pe=({artistName:e,artistUri:s,headerClassName:r,rowClassName:t,topTracks:i,topTracksTransformer:l,uri:o})=>{const c=(0,a.useMemo)((()=>i?.items.map((e=>l(e,o)))),[i?.items,l,o]);return c&&c.length>0?(0,oe.jsxs)("div",{className:t,children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)(n.E,{variant:"bodySmall",className:we,children:m.Ru.get("rich-page.popular-tracks")}),(0,oe.jsx)(n.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:r,children:e})]}),(0,oe.jsx)(Ae.z,{uri:s,nrTracks:c.length,initialTracks:c})]}):null};var Ne=r(82935);const Ue=({artistName:e,artistId:s,artistUri:r,className:t,releases:i,artistImages:l})=>{const n=(0,a.useMemo)((()=>l?{title:e,pretitle:m.Ru.get("artist-page.popular"),media:(0,Ne.h)(l,{desiredSize:48})||""}:null),[l,e]);return i?(0,oe.jsx)(ee.pZ,{value:"shelf/releases",children:(0,oe.jsx)(fe.$,{total:10,title:m.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Ce.Dh)(s)}:discography:${he._m.Album.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,...n,children:i.items.map(((e,s)=>(0,oe.jsx)(ke.K,{album:e,index:s,artistURI:r},e.uri)))})}):null},Te=({artistId:e,artistName:s,artistUri:r,className:a,singles:t})=>t?(0,oe.jsx)(ee.pZ,{value:"shelf/singles-and-eps",children:(0,oe.jsx)(fe.$,{total:t.totalCount,title:m.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:s}),seeAllUri:`${(0,Ce.Dh)(e)}:discography:${he._m.Single.toLowerCase()}`,seeAllLabel:m.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:a,children:(0,Ce.Ey)(t.items).map(((e,s)=>(0,oe.jsx)(ke.K,{album:e,index:s,artistURI:r},e.uri)))})}):null;var Ee=r(99553),Se=r(91182),Be=r(60690),Me=r(14909),Oe=r(87498),Fe=r(79570),_e=r(15025);const De="VdIaMy6YRQX6cN5B7OVC",Ve="LjkmarFarmUOq0nmv9iy",ze="VHigmLQwT1FxkKEbCs4H",qe="qX5K6LTMIuXG1gFBXzjZ",Ze="fsH_X6pBkexdxtu19q5k",$e="sDbr7RxY_jjg1XXq8zU5",We="MiWZGlZeQCy1tibDTql5",Ge="uci6FedOoLZEL163ZR8k",He="GDA6ugyRoV7ZiqIyOU4d",Xe="IUBwxdZXklSkRPTZ9w_Q",Ye="f7XB243E_dNMV9dkUXV6",Je="gQQC7YFmzffMUaCqbx3o",Qe="QJVNM_FcLpEHhjDc_FU3",Ke="Vd2oInYt1Ynz9X6KgL7o",es="yUA20RYjsLIb7xXNRlfn",ss="MVDvKVX1aJ05U9lmHzaz",rs=({richTrack:e})=>{const{search:s}=(0,l.zy)(),r=(0,a.useCallback)((()=>new URLSearchParams(s.slice(1)).get("highlight")||""),[s])(),{tracklistRef:t}=(0,_e.h)(),i=e.albumOfTrack,{playUri:n,playOptions:o}=(0,Fe.J)(i?.uri||""),{usePlayContextItem:c}=(0,re.P)({uri:n},{featureIdentifier:"album"},o),u=(0,a.useMemo)((()=>({items:[],totalCount:0})),[]),d=(0,Oe.t)();return i?(0,oe.jsx)("div",{ref:t,className:We,children:(0,oe.jsx)(Be.a,{columns:d,children:(0,oe.jsx)(Me.F,{albumName:i.name,nrTracks:i.tracks.totalCount,albumUri:i.uri,highlightUri:r,discs:u,usePlayContextItem:c,hasHeaderRow:!1})})}):null};var as=r(12662),ts=r(88260),is=r(60038),ls=r(48497),ns=r(45664),os=r(38157),cs=r(75830),us=r(21951),ds=r(86568),ms=r(29368),ps=r(39566),hs=r(20829),ys=r(20817),xs=r(24533),gs=r(21549);const bs=a.memo((function({uri:e,togglePlay:s,isPlaying:r,isActive:t,spec:i,logger:l,backgroundColor:n,name:o,isPlayable:c,albumUri:u,artists:d}){const p=(0,ps.n)(),[y,x]=(0,xs.A)(e),g=(0,ds.d$)(),{spec:b,logger:j}=(0,gs.r)(as.e,{data:{uri:e}});(0,a.useEffect)((()=>{g&&j.logImpression(b.impression())}),[g,j,b]);const v=(0,a.useCallback)((async()=>{const s=i.saveButtonFactory();l.logInteraction(y?s.hitRemoveLike({itemNoLongerLiked:e}):s.hitLike({itemToBeLiked:e})),y&&g&&j.logInteraction(b.hitAddToPlaylist({itemToBeAdded:e,playlist:ys.BP}));try{await x(!y)}catch{}}),[e,y,i,l,x,g,j,b]),k=(0,a.useCallback)((()=>{const a=(0,hs.$I)({isPlaying:r,isActive:t,spec:i.playButtonFactory(),logger:l,uri:e});s({loggingParams:a})}),[t,r,l,i,s,e]),f=(0,a.useCallback)((()=>{l.logInteraction(i.contextButtonFactory().hitUiReveal())}),[l,i]),C=(0,ms.j)();return(0,oe.jsx)(ts.E,{backgroundColor:n,children:(0,oe.jsxs)(is.S,{children:[(0,oe.jsx)(us.e,{children:(0,oe.jsx)(ve.D,{onClick:k,isPlaying:r,disabled:!c,size:C,uri:e})}),(0,oe.jsx)(us.e,{children:(0,oe.jsx)(ls.M,{isAdded:y,onClick:v,disabled:!p,size:C,condensed:!0})}),(0,oe.jsx)(ns.f,{uri:e,isFollowing:y,onFollow:v,size:C,condensed:!0}),(0,oe.jsx)(cs.b,{menu:(0,oe.jsx)(h.P,{uri:e,albumUri:u,artists:d}),onShow:f,children:(0,oe.jsx)(os.e,{label:m.Ru.get("more.label.context",o),size:C})})]})})}));var js=r(14343),vs=r(38501),ks=r(69732),fs=r(37999);const Cs=()=>{const e=(0,l.zy)();return(0,ks.o)(fs.P.LyricsReturnsHoldout,e)},Rs=()=>{const e=(0,l.zy)();return(0,ks.o)(fs.P.LyricsReturnsTreatment,e)},Ls=()=>{const e=(0,js.NC)(vs.sMR),s=e===vs.tuf.Control,r=e===vs.tuf.Enabled,a=s||r,t=Cs();return!Rs()&&(t||a)},Is=()=>{const e=(0,js.NC)(vs.oyV),s=e===vs.vc0.Control,r=e===vs.vc0.Enabled,a=s||r,t=Rs();return!Cs()&&(t||a)},As=()=>({lyricsReturnsHoldoutEnabled:Ls(),lyricsReturnsTreatmentEnabled:Is()});var ws=r(33390),Ps=r(49971);const Ns="OH5mnpJIVCJozYM3raMt",Us="etw0slM6uVrCi5RR3iDi",Ts=({padded:e,providerDisplayName:s})=>s?(0,oe.jsx)(Ps.Z,{as:"p",dir:"auto",variant:"finale",className:`${Ns} ${e?Us:""}`,children:m.Ru.get("web-player.lyrics.providedBy",s)}):null;var Es=r(85907);let Ss=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Bs=(e,s)=>{switch(s.type){case"LYRICS_LOADING":return{...e,[s.uri]:{status:Ss.LOADING}};case"LYRICS_LOADED":return{...e,[s.uri]:{status:Ss.LOADED,data:s.response}};case"LYRICS_ERROR":return{...e,[s.uri]:{status:Ss.UNAVAILABLE}};default:return(0,Es.d)(s,`Unhandled lyrics action with type: ${s.type}`)}};var Ms=r(1599),Os=r(72671);var Fs=r(21398);const _s=async({trackUri:e,api:s,imageForLyricsRequest:r,isPlayable:a})=>{if(!a)return{hasLyrics:!1};const t=(0,d.o_h)(e);try{const e=await(async(e,s,r)=>(await e.build().withHost(Os.Hj).withPath(`/track/${encodeURIComponent(s)}/image/${encodeURIComponent(r)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(s||Ms.n.getInstance(),t.id,r||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof Fs.O&&404===e.status)return{hasLyrics:!1};throw e}},Ds={status:Ss.LOADING},Vs={status:Ss.UNAVAILABLE},zs=a.createContext(void 0),qs=({children:e,initialState:s={}})=>{const r=a.useReducer(Bs,s);return(0,oe.jsx)(zs.Provider,{value:r,children:e})},Zs=({uri:e,isNotPermittedToFetchLyrics:s,imageForLyricsRequest:r,isPlayable:t})=>{const i=a.useContext(zs);if(void 0===i)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[l,n]=i,o=e?l[e]:null;return(0,a.useEffect)((()=>{s||!o&&e&&(n({type:"LYRICS_LOADING",uri:e}),_s({trackUri:e,imageForLyricsRequest:r,isPlayable:t}).then((s=>{n({type:"LYRICS_LOADED",uri:e,response:s})})).catch((()=>{n({type:"LYRICS_ERROR",uri:e})})))}),[n,r,s,t,o,e]),e&&(0,d.U_m)(e)&&!s&&t?o||Ds:Vs},$s=({uri:e,imageForLyricsRequest:s,isPlayable:r})=>{const{lyricsReturnsHoldoutEnabled:a,lyricsReturnsTreatmentEnabled:t}=As(),i=(0,ws.l)(),l=i&&!a&&!t||i&&a&&!t,{data:n}=Zs({uri:e,imageForLyricsRequest:s,isNotPermittedToFetchLyrics:l,isPlayable:r});return n?.hasLyrics?(0,oe.jsx)(Ts,{providerDisplayName:n.providerDisplayName}):null};var Ws=r(62411),Gs=r(44481);const Hs="QhDsXG1Gmo7XmQWLggAO",Xs="bZgWQj7UxvK8GYKWDA7N",Ys="AW61P3tnW5cKJCWtbhFh",Js=({buttonText:e,onSecondaryButtonClick:s,onPrimaryButtonClick:r,secondaryButtonText:a,text:t})=>(0,oe.jsxs)("div",{className:Hs,"data-testid":"static-activation-trigger",children:[(0,oe.jsx)(n.E,{className:Xs,variant:"bodyMediumBold",semanticColor:"textBase",children:t}),(0,oe.jsxs)("div",{className:Ys,children:[(0,oe.jsx)(c.H,{onClick:s,semanticColor:"textBase",children:a}),(0,oe.jsx)(Gs.$,{onClick:r,colorSet:"invertedLight",children:e})]})]});var Qs=r(29195),Ks=r(25797),er=r(67668),sr=r(32963),rr=r(86551),ar=r(36061),tr=r(95175);var ir=r(21743);const lr="EaTxqhHk6J4ecKHwpY5m",nr="dUQl9yd5x_1oWk4L0Ntm",or="xt5C47eHPYNiriMJxGnC";var cr=r(79657);const ur=({words:e,onObserve:s,lyricsInView:r,...t})=>{const{ref:i,inView:l}=(0,ir.Wx)({threshold:0}),o=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{r||(o.current=!1)}),[r]),(0,a.useEffect)((()=>{o.current||l&&(s({text:e,outOfView:!1}),o.current=!0)}),[l,s,e]),(0,oe.jsx)(n.E,{ref:i,as:"p",dir:"auto",variant:"bodyMedium",className:or,"data-testid":t["data-testid"],children:e})},dr="q1JbsdMqX7OImgIFWa6J",mr="hAGejMh7SncdbJ5wcfUi",pr="IaG9Zc3xGxeYjsn73RAz",hr="zgSEYVU2gMYxihFVEJPn",yr="expandable-lyrics-container";const xr=({lyrics:e,lyricsInView:s,onObserve:r,previewCount:t})=>{const[l,o]=(0,a.useState)(!1),{visibleLyrics:c,collapsibleLyrics:u}=function(e,s){let r=0,a=-1;const t=e.filter((e=>!!e.words));for(const[e,i]of t.entries())if(r+=i.words.length,r>s){a=e;break}if(a>-1)return{visibleLyrics:t.slice(0,a),collapsibleLyrics:t.slice(a)};return{visibleLyrics:t,collapsibleLyrics:[]}}(e,t),d=u.length>0,p=l?m.Ru.get("show_less"):`…${m.Ru.get("show_more")}`;return(0,oe.jsxs)(oe.Fragment,{children:[c.map((({words:e},a)=>(0,oe.jsx)(ur,{onObserve:r,words:e,lyricsInView:s,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${a}`))),(0,oe.jsx)("span",{"aria-hidden":!l,className:i()(pr,{[hr]:l}),children:u.map((({words:e},a)=>(0,oe.jsx)(ur,{onObserve:l?r:()=>{},words:e,lyricsInView:l&&s},`lyrics-seo-line-${a}`)))}),d&&(0,oe.jsx)("button",{className:dr,onClick:()=>{o(!l)},"aria-controls":yr,"aria-owns":yr,"aria-label":p,children:(0,oe.jsx)(n.E,{variant:"bodyMediumBold",className:mr,children:p})})]})},gr=({data:e,eventSender:s,playbackId:r,previewCount:t,uri:i})=>{const{lyrics:l=[],provider:o,providerLyricsId:c,syncType:u}=e,{ref:d,inView:p}=(0,ir.Wx)({threshold:0}),h=function(e){const{trackUri:s,provider:r,providerLyricsId:t,syncType:i,eventSender:l,playbackId:n,isSnippet:o}=e,c=(0,a.useRef)(null),[u,d]=(0,a.useState)(!1),[m,p]=(0,a.useState)(0),[h,y]=(0,a.useState)(!1),x=(0,a.useMemo)((()=>(0,cr.W)({lyrics_format:"track-page",track_uri:s,provider:r,provider_lyrics_id:t,sync_type:i,playback_id:n,is_snippet:o})),[s,r,t,i,n,o]);return(0,a.useEffect)((()=>{d(!1),p(0),y(!1),c.current=null}),[s]),(0,a.useEffect)((()=>{u&&n&&d(!1)}),[n]),(0,a.useEffect)((()=>{u||m>=140&&h&&(l?.send(x),d(!0))}),[m,u,x,l,h]),(0,a.useCallback)((e=>{const{text:s,outOfView:r}=e;s&&s.length>1&&(p((e=>e+s.length)),u||null!==c.current||(c.current=setTimeout((()=>{y(!0)}),1500))),r&&(c.current&&clearTimeout(c.current),c.current=null,p(0))}),[p,u])}({trackUri:i,provider:o,providerLyricsId:c,syncType:u,eventSender:s,playbackId:r});return(0,a.useEffect)((()=>{p||h({outOfView:!0})}),[p,h]),(0,oe.jsxs)("div",{className:lr,ref:d,children:[(0,oe.jsx)(n.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:nr,children:m.Ru.get("web-player.lyrics.title")}),(0,oe.jsx)(xr,{lyrics:l,lyricsInView:p,onObserve:h,previewCount:t})]})};var br=r(42878),jr=r(58685),vr=r(41434);const kr=({uri:e,imageForLyricsRequest:s,isPlayable:r})=>{const[t,i]=(0,a.useState)(420),{data:l}=Zs({uri:e,imageForLyricsRequest:s,isPlayable:r}),n=(0,Qs.vh)(),{isPaused:o,currentTrackUri:c,playbackId:u}=(0,jr.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),vr.a),d=!o&&c===e,m=(0,a.useCallback)((()=>{window.innerWidth<=768?i(280):window.innerWidth>768&&280===t&&i(420)}),[t]);return(0,a.useEffect)((()=>{m()}),[m]),(0,br.s)(m),l&&l?.hasLyrics?(0,oe.jsx)(gr,{data:l,uri:e,eventSender:n,playbackId:d?u:void 0,previewCount:t}):null},fr=e=>{const s=(e=>{const s=(0,Qs.vh)(),r=(0,Ws.d4)(ar.F6),a=(0,Ws.d4)(rr.JJ),t=(0,Ws.d4)(ar.oo),i=(0,er.V)();return()=>{if(i)return;(0,pe.fE)({metric_type:w.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const l={category:"lyrics_render_error",label:"dwp",os:(0,sr.f)(),context:JSON.stringify({uri:e,product:t}),country:r?a:"",sp_t:(0,tr.v8)("sp_t")};s.send((0,Ks._)(l))}})(e.uri);return(0,oe.jsx)(P.s,{onError:s,children:(0,oe.jsx)(kr,{...e})})};var Cr=r(2092),Rr=r(43329);const Lr=()=>{const e=(0,js.NC)(Rr.m2);return(0,ks.o)(fs.P.DisableUnauthLyricsCTA,(0,l.zy)())||e},Ir="T1nqQ4HEh3heHy4RCCKa",Ar="L8zjshPVgUMXyZR4FtOk",wr="YMn1FWcFmOz9osBrNvhF",Pr="Inbyq3TnvKDOJtcKFTDQ",Nr="lWk5se4WETUOJwaEb8D6",Ur="i8DyQbWCmDV_8N5XGJQT",Tr="t5WPFlGTY6GCd9UOFfLu",Er="AGQ3wRyMVK1odq860qnT",Sr="ZX_r7uZgPgssaUplfpxT",Br="qrqctaPu2XBpxsw23nPX",Mr="XnWidTagai3nQwMPxIMF";var Or=r(32255),Fr=r(69624),_r=r(7307),Dr=r(77008),Vr=r(33558);let zr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const qr=e=>{const{disabled:s,images:r,LinkComponent:a,name:t,size:n,uri:o,enableI18nRoutes:c,enableI18nAdditionalPages:u}=e,p=n===zr.SMALL,h=(0,l.Zp)(),y=(0,d.o_h)(o),x=y?.type,g=m.Ru.getLocaleForURLPath(),b=(0,Dr.p)({localeFeatureFlag:c,entityFeatureFlag:u,urlLocale:g,entity:x,type:"link"});return(0,oe.jsxs)("div",{className:i()(Ar,{[wr]:s}),"data-testid":"track-artist-link-card",children:[(0,oe.jsx)(Or.b,{shape:Or.u.CIRCLE,images:r,size:Fr.Qe.SIZE_80,title:t,type:_r.c.ARTIST}),(0,oe.jsxs)("div",{className:i()(Nr,{[Ur]:p}),children:[(0,oe.jsx)(Ps.Z,{variant:"mestoBold",className:Pr,children:m.Ru.get("card.tag.artist")}),(0,oe.jsx)(a,{to:o,children:(0,oe.jsx)(Ps.Z,{as:"div",dir:"ltr",className:Tr,variant:"balladBold",children:t})})]}),(0,oe.jsx)("div",{onClick:()=>{const e=y?.toURL(`/${Vr.CT}${g}/`);if(y){const s=b?e:y.toURLPath(!0);h(s)}},className:Er})]})},Zr=({size:e=zr.LARGE,disabled:s=!1,enableI18nRoutes:r,enableI18nAdditionalPages:t,...l})=>{const[n,o]=(0,a.useState)(!1),u=(0,a.useCallback)((()=>{o(!n)}),[n]),d=l.artists;return(0,oe.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,oe.jsx)("div",{className:Ir,children:d.map(((a,o)=>(0,oe.jsx)("div",{className:i()({[Br]:n&&o>5,[Sr]:o>5}),children:(0,oe.jsx)(qr,{name:a.name,uri:a.uri,images:a.images,size:e,LinkComponent:l.LinkComponent,disabled:s,enableI18nRoutes:r,enableI18nAdditionalPages:t},a.id)},`${a.uri}-${o}`)))}),d.length>6&&(0,oe.jsx)(c.H,{onClick:u,className:Mr,children:(0,oe.jsx)(Ps.Z,{as:"p",variant:"violaBold",children:n?m.Ru.get("show_less"):m.Ru.get("mwp.search.artists.all")})})]})};var $r=r(55303);const Wr=e=>{const{albumArtists:s,columnCount:r,imageForLyricsRequest:t,isPlayable:l,uri:n}=e,o=r-2,c={"--column-count":r,"--left-column-end":o-2,"--right-column-start":o},{isAnonymous:u}=(0,Ws.d4)(ar.Ht),d=(0,ps.n)(),{lyricsReturnsHoldoutEnabled:p,lyricsReturnsTreatmentEnabled:h}=As(),y=(0,ws.l)(),x=y&&!p&&!h,g=y&&p&&!h,b=u||x||g,{data:j,status:v}=Zs({uri:n,isNotPermittedToFetchLyrics:b,imageForLyricsRequest:t,isPlayable:l}),k=Lr(),f=x||g||k,C=!!j&&j.hasLyrics&&v!==Ss.UNAVAILABLE||u&&!k,R=(0,Ws.d4)(Cr.M),L=(0,Ws.d4)(Cr.N);return(0,oe.jsxs)(a.Suspense,{fallback:null,children:[C&&(0,oe.jsx)("div",{className:i()(ze,{[qe]:r>5}),style:{...c},"data-testid":"lyrics-container",children:f?null:u?(0,oe.jsx)(Js,{buttonText:m.Ru.get("sign_up"),secondaryButtonText:m.Ru.get("login"),text:m.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:$r.ie,onSecondaryButtonClick:$r.PW}):(0,oe.jsx)(fr,{uri:n,imageForLyricsRequest:t,isPlayable:l})}),(0,oe.jsx)("div",{className:i()(De,{[Ve]:r>5&&C}),style:{...c},children:(0,oe.jsx)(Zr,{artists:s,LinkComponent:be.N,disabled:!d,enableI18nRoutes:R,enableI18nAdditionalPages:L})})]})};function Gr({playcount:e,durationMs:s}){return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(R.q,{children:(0,Ne.f)(s)}),e&&e>0?(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(L.J,{}),(0,oe.jsx)(R.q,{variant:"bodySmall","data-testid":"playcount",children:m.Ru.formatNumber(e)})]}):null]})}var Hr=r(36148),Xr=r(73174),Yr=r(37410),Jr=r(88007),Qr=r(11153);const Kr="o2TlnuNKxRO5RnB9BpHB",ea="q0Ke_aAvTcc4dO4wCHQt",sa="UlKUfS_GcROZmofuafOW",ra="I5LORTI1u3A6VoUvRCBf",aa="TS85Qkpioa31wR0p4kzT",ta="yL1DLXBc05CR_ACv_NhA",ia="k5kRkUyoz9znqg_SGOVQ";var la=r(13155),na=r(16913);let oa=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ca=({art:e,disabled:s=!1,LinkComponent:r,name:a,size:t=oa.SMALL,type:n,uri:o})=>{const c=e?[e]:[],u=t===oa.SMALL?(0,la.C)(n):function(e){switch(e){case na.s.SINGLE:return m.Ru.get("track-page.from-the-single");case na.s.EP:return m.Ru.get("track-page.from-the-ep");case na.s.COMPILATION:return m.Ru.get("track-page.from-the-compilation");case na.s.ALBUM:default:return m.Ru.get("track-page.from-the-album")}}(n),p=(0,l.Zp)();return(0,oe.jsxs)("div",{className:i()(Kr,{[sa]:t===oa.SMALL,[ea]:s}),children:[(0,oe.jsx)("div",{className:ra,children:(0,oe.jsx)(Or.b,{images:c,size:Fr.Qe.SIZE_80,title:a,type:_r.c.ALBUM})}),(0,oe.jsxs)("div",{className:aa,children:[(0,oe.jsx)(Ps.Z,{variant:t===oa.SMALL?"mestoBold":"finale",children:u}),(0,oe.jsx)(r,{to:o,children:(0,oe.jsx)(Ps.Z,{as:"div",className:ta,variant:"balladBold",dir:"auto",children:a})})]}),(0,oe.jsx)("div",{onClick:()=>{p((0,d.o_h)(o).toURLPath(!0))},className:ia})]})};var ua=r(50674),da=r(43855),ma=r(33449),pa=r(66339),ha=r(56970),ya=r(79225);const xa=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),ga=e=>(e||[]).map((e=>e.profile.name)),ba=({uri:e,track:s})=>{const r=(0,ps.n)(),t=(0,er.V)(),l=(0,Yr.W)({type:"locale",uri:e}),d=m.Ru.getLocaleForTranslation(),w=parseInt(s.playcount||"0",10),{firstArtist:P,otherArtists:N,albumOfTrack:U,duration:T,name:E}=s,S=U?.coverArt,B=U?.copyright.items,M=U?.courtesyLine,O=U?.date,F=S?.extractedColors?.colorRaw.hex,_=(S?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),D=ga(P.items),V=ga(N.items),z=xa(P),q=xa(N),Z=[...z,...q],$=P.items[0],W=s.albumOfTrack,G=W?.playability?.playable,H={artistId:$?.id,artistName:$?.profile?.name,artistUri:$?.uri},X=s.albumOfTrack?.coverArt?.sources,Y=(0,Ne.h)(X||void 0,{desiredLabel:"large",desiredSize:600})??X?.[0]?.url??"",[J,Q]=(0,a.useState)(!1),K=(0,a.useCallback)((()=>{Q(!J)}),[J]),ee=N&&N.items.length>5,{spec:se,logger:ae}=(0,gs.r)(u.y,{data:{uri:e}}),te=s.playability.playable,{togglePlay:ie,isPlaying:le,isActive:ne}=(0,re.P)({uri:e},{featureIdentifier:"track"});(0,Xr.K)(e);const ce=Lr(),ue=(0,ws.l)(),{lyricsReturnsHoldoutEnabled:de}=As(),me=(0,a.useCallback)((()=>(0,ha.rO)({i18n:m.Ru,trackArtistsList:[...D,...V].join(m.Ru.getSeparator()),trackName:s.name,shouldLocalize:l,disabled:ce||ue&&de})),[D,ue,de,V,l,s.name,ce]),pe=(0,a.useCallback)(((e,s)=>{ae.logInteraction(se.headerFactory().artistLinkFactory({position:s.position,uri:s.creator.uri}).hitUiNavigate({destination:s.creator.uri}))}),[ae,se]),he=(0,a.useCallback)((()=>{const s=(0,hs.$I)({isPlaying:le,isActive:ne,spec:se.actionBarFactory().playButtonFactory(),logger:ae,uri:e});ie({loggingParams:s})}),[ne,le,ae,se,ie,e]),ye=W?.uri,je=(0,a.useMemo)((()=>[...P.items,...N.items].map((e=>({uri:e.uri,name:e.profile.name})))),[P.items,N.items]),ke=(0,oe.jsx)(h.P,{uri:e,albumUri:ye,artists:je}),fe=(0,ge.e)();return(0,oe.jsxs)("section",{"data-testid":"track-page",children:[(0,oe.jsx)(y.Q,{children:me()}),(0,oe.jsx)(Se.c,{artistOrShow:je.map((e=>e.name)).join(m.Ru.getSeparator()),title:E,uri:e,entityType:Se.p.TRACK}),(0,oe.jsxs)(x.z,{backgroundColor:F,children:[(0,oe.jsxs)(j.h,{children:[(0,oe.jsx)(ve.D,{size:"medium",onClick:he,disabled:!te,isPlaying:le,uri:e}),(0,oe.jsx)(p.h,{menu:ke,children:(0,oe.jsx)(v.X,{text:E,dragUri:e,dragLabel:E})})]}),(0,oe.jsx)(p.h,{menu:ke,children:(0,oe.jsx)(g.K,{dragUri:e,images:_,name:E,placeholderType:"album"})}),(0,oe.jsxs)(b.Y,{children:[(0,oe.jsx)(n.E,{variant:"bodySmallBold",children:m.Ru.get("song")}),(0,oe.jsx)(p.h,{menu:ke,children:(0,oe.jsx)(I.mm,{dragUri:e,dragLabel:E,children:E})}),(0,oe.jsxs)(k.X,{children:[(0,oe.jsx)(f.j,{creators:z,onCreatorClick:pe}),W&&(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(L.J,{}),(0,oe.jsx)(R.q,{children:(0,oe.jsx)(be.N,{to:W.uri,children:W.name})})]}),(0,oe.jsx)(L.J,{}),(0,oe.jsx)(C.H,{releaseDate:O}),(0,oe.jsx)(L.J,{}),(0,oe.jsx)(Gr,{playcount:w,durationMs:T.totalMilliseconds})]})]})]}),(0,oe.jsx)(bs,{uri:e,togglePlay:ie,isPlaying:le,isActive:ne,spec:(0,a.useMemo)((()=>se.actionBarFactory()),[se]),logger:ae,backgroundColor:F,name:E,isPlayable:te,albumUri:ye,artists:je}),(0,oe.jsxs)(qs,{children:[(0,oe.jsxs)("div",{className:"contentSpacing",children:[(0,oe.jsx)("div",{className:Ze,children:(0,oe.jsx)(Qr.E,{render:({columnCount:s})=>(0,oe.jsx)(Wr,{imageForLyricsRequest:Y,albumArtists:Z,columnCount:s,uri:e,isPlayable:te}),rowGap:o.lT})}),(0,oe.jsx)(xe,{subtitle:m.Ru.get("internal-link-recommender.based-on-this-song"),uri:s.uri,entityType:_r.c.TRACK}),(0,oe.jsx)(Pe,{artistName:$.profile.name,artistUri:$.uri,headerClassName:He,rowClassName:Ze,topTracks:$.discography.topTracks,topTracksTransformer:Ee.fX,uri:s.uri}),(0,oe.jsx)(Ue,{className:Ge,releases:$?.discography?.popularReleasesAlbums,...H}),(0,oe.jsx)(Re,{albums:$?.discography?.albums,className:Ge,...H}),(0,oe.jsx)(Te,{className:Ge,singles:$?.discography?.singles,...H}),N.items.length>0&&(0,oe.jsx)("div",{className:Ye,children:N.items.map(((e,s)=>(0,oe.jsx)(Ue,{className:i()(Xe,{[Qe]:s>4,[Ke]:J&&s>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),ee&&(0,oe.jsx)(c.H,{onClick:K,className:es,children:(0,oe.jsx)(n.E,{as:"h2",variant:"bodySmallBold",children:J?m.Ru.get("show_less"):m.Ru.get("mwp.search.artists.all")})}),fe&&(0,oe.jsx)(A.b,{uri:e,className:Ge,"data-testid":"similar-albums-above"}),(0,oe.jsx)(Ie,{artistId:$.id,className:i()(Ge,{[Je]:N.items.length>0}),fansAlsoLike:$.relatedContent.relatedArtists.items,title:m.Ru.get("artist-page.fansalsolike")}),W&&(0,oe.jsx)(ca,{art:W.coverArt?.sources[0],disabled:!G||!r,LinkComponent:be.N,name:W.name,type:W.type,size:oa.LARGE,uri:W.uri}),(0,oe.jsx)(rs,{richTrack:s})]}),(0,oe.jsx)("div",{className:"contentSpacing",children:(0,oe.jsxs)("div",{className:$e,children:[O?.isoString&&(0,oe.jsx)(n.E,{as:"p",variant:"bodySmall",className:ss,children:(0,ya.rh)((0,ya.ad)(O.isoString),d,{year:"numeric",month:"long",day:"numeric"},(0,ya.rk)(O.precision))}),(0,oe.jsx)(Jr.Z,{copyrights:B||[],courtesyLine:M}),!t&&(0,oe.jsx)($s,{uri:e,imageForLyricsRequest:Y,isPlayable:te})]})})]})]})},ja=(0,a.memo)((function(){const{trackId:e=""}=(0,l.g)(),s=(0,d.Mce)(e).toURI(),r=(0,Hr.J)({uri:s}),{data:a,isLoading:t}=(0,pa.r)(s);return r.loading||t||r.error||"Track"!==r.data?.trackUnion?.__typename?(0,oe.jsx)(je.LoadingPage,{hasError:!r.loading,errorMessage:m.Ru.get("track-page.error")}):(0,oe.jsx)(da.P,{surface:ua.u.TRACK,uris:[s,r.data.trackUnion.albumOfTrack?.uri??null],children:(0,oe.jsx)(ma.d,{dynamicColors:a,children:(0,oe.jsx)(ba,{uri:s,track:r.data.trackUnion})})})}))},36148:(e,s,r)=>{r.d(s,{J:()=>l});var a=r(57776),t=r(59147);const i=new a.l("getTrack","query","5c5ec8c973a0ac2d5b38d7064056c45103c5a062ee12b62ce683ab397b5fbe7d",null),l=(e,s)=>(0,t.I)(i,e,s)},47160:(e,s,r)=>{r.d(s,{a:()=>l});var a=r(29324),t=r(43389),i=r(62021);const l=()=>{const[e,s]=(0,i.x)("view-mode",t.I.LIST);let r=e;return a.p.includes(r)||(r=t.I.LIST),{viewMode:r,isCompactMode:r===t.I.COMPACT,setViewMode:s}}},61147:(e,s,r)=>{r.d(s,{a:()=>a.a});var a=r(47160)},43389:(e,s,r)=>{r.d(s,{I:()=>a});let a=function(e){return e.LIST="list",e.COMPACT="compact",e}({})},79570:(e,s,r)=>{r.d(s,{J:()=>u});var a=r(62411),t=r(14343),i=r(91008),l=r(39566),n=r(38501),o=r(36061),c=r(24533);const u=e=>{const[s]=(0,c.A)(e),r=(0,l.n)(),u=(0,a.d4)(o.F6),d=(0,t.NC)(n.U4t),m=!r&&s,p=(0,i.o_h)(e);return p?.type===i.NQG.ALBUM?{playUri:m&&!d?(0,i.Uu7)(u,(0,i.o_h)(e)?.id).toURI():e,playOptions:m?{useListPlatformPlay:d}:{}}:{playUri:e,playOptions:{}}}},81122:(e,s,r)=>{r.d(s,{f:()=>i});var a=r(24109),t=r(30157);const i=()=>(0,t.N)(a.t)},12130:(e,s,r)=>{r.d(s,{N:()=>i});var a=r(30758),t=r(81122);const i=(e,s)=>{const r=(0,t.f)();(0,a.useEffect)((()=>r.getEvents().addListener(e,s)),[e,r,s])}},81222:(e,s,r)=>{r.d(s,{Bj:()=>t,T4:()=>i,kt:()=>l});var a=r(91008);function t(e,s){if(!s)return null;const r=(0,a.o_h)(s);if(!r||!(0,a.APS)(r))return null;const t=(0,a.XIp)(r.username);return e.find((e=>e.username===t))??null}function i(e){const s=e.getCurrentSession(),r=s?.sessionOwnerId;return r?s.sessionMembers.find((e=>e.id===r))??null:null}function l(e,s){if(!s||!function(e){return e.getCurrentSession()?.isSessionOwner??!1}(e))return!1;const r=e.getCurrentSession(),a=t(r?.sessionMembers??[],s),l=i(e);return!!a&&a?.username!==l?.username}}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map